var DataHarborPlugin=function(){"use strict";function t(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var n=r.call(t,e||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function e(e,r,n){return(r=t(r))in e?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n,e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof r&&r)||function(){return this}()||r||Function("return this")(),a={},s=function(t){try{return!!t()}catch(t){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),l=u,f=Function.prototype.call,h=l?f.bind(f):function(){return f.apply(f,arguments)},d={},p={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,v=g&&!p.call({1:2},1);d.f=v?function(t){var e=g(this,t);return!!e&&e.enumerable}:p;var m,y,b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=u,x=Function.prototype,T=x.call,A=w&&x.bind.bind(T,T),S=w?A:function(t){return function(){return T.apply(t,arguments)}},P=S,k=P({}.toString),I=P("".slice),L=function(t){return I(k(t),8,-1)},E=s,O=L,R=Object,C=S("".split),D=E((function(){return!R("z").propertyIsEnumerable(0)}))?function(t){return"String"==O(t)?C(t,""):R(t)}:R,U=function(t){return null==t},q=U,j=TypeError,H=function(t){if(q(t))throw j("Can't call method on "+t);return t},M=D,z=H,B=function(t){return M(z(t))},F="object"==typeof document&&document.all,_={all:F,IS_HTMLDDA:void 0===F&&void 0!==F},N=_.all,$=_.IS_HTMLDDA?function(t){return"function"==typeof t||t===N}:function(t){return"function"==typeof t},V=$,W=_.all,G=_.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:V(t)||t===W}:function(t){return"object"==typeof t?null!==t:V(t)},Y=i,Q=$,X=function(t,e){return arguments.length<2?(r=Y[t],Q(r)?r:void 0):Y[t]&&Y[t][e];var r},J=S({}.isPrototypeOf),Z="undefined"!=typeof navigator&&String(navigator.userAgent)||"",K=i,tt=Z,et=K.process,rt=K.Deno,nt=et&&et.versions||rt&&rt.version,ot=nt&&nt.v8;ot&&(y=(m=ot.split("."))[0]>0&&m[0]<4?1:+(m[0]+m[1])),!y&&tt&&(!(m=tt.match(/Edge\/(\d+)/))||m[1]>=74)&&(m=tt.match(/Chrome\/(\d+)/))&&(y=+m[1]);var it=y,at=it,st=s,ct=i.String,ut=!!Object.getOwnPropertySymbols&&!st((function(){var t=Symbol();return!ct(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&at&&at<41})),lt=ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ft=X,ht=$,dt=J,pt=Object,gt=lt?function(t){return"symbol"==typeof t}:function(t){var e=ft("Symbol");return ht(e)&&dt(e.prototype,pt(t))},vt=String,mt=function(t){try{return vt(t)}catch(t){return"Object"}},yt=$,bt=mt,wt=TypeError,xt=function(t){if(yt(t))return t;throw wt(bt(t)+" is not a function")},Tt=xt,At=U,St=function(t,e){var r=t[e];return At(r)?void 0:Tt(r)},Pt=h,kt=$,It=G,Lt=TypeError,Et={exports:{}},Ot=i,Rt=Object.defineProperty,Ct=function(t,e){try{Rt(Ot,t,{value:e,configurable:!0,writable:!0})}catch(r){Ot[t]=e}return e},Dt=Ct,Ut="__core-js_shared__",qt=i[Ut]||Dt(Ut,{}),jt=qt;(Et.exports=function(t,e){return jt[t]||(jt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Ht=Et.exports,Mt=H,zt=Object,Bt=function(t){return zt(Mt(t))},Ft=Bt,_t=S({}.hasOwnProperty),Nt=Object.hasOwn||function(t,e){return _t(Ft(t),e)},$t=S,Vt=0,Wt=Math.random(),Gt=$t(1..toString),Yt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+Gt(++Vt+Wt,36)},Qt=Ht,Xt=Nt,Jt=Yt,Zt=ut,Kt=lt,te=i.Symbol,ee=Qt("wks"),re=Kt?te.for||te:te&&te.withoutSetter||Jt,ne=function(t){return Xt(ee,t)||(ee[t]=Zt&&Xt(te,t)?te[t]:re("Symbol."+t)),ee[t]},oe=h,ie=G,ae=gt,se=St,ce=function(t,e){var r,n;if("string"===e&&kt(r=t.toString)&&!It(n=Pt(r,t)))return n;if(kt(r=t.valueOf)&&!It(n=Pt(r,t)))return n;if("string"!==e&&kt(r=t.toString)&&!It(n=Pt(r,t)))return n;throw Lt("Can't convert object to primitive value")},ue=TypeError,le=ne("toPrimitive"),fe=function(t,e){if(!ie(t)||ae(t))return t;var r,n=se(t,le);if(n){if(void 0===e&&(e="default"),r=oe(n,t,e),!ie(r)||ae(r))return r;throw ue("Can't convert object to primitive value")}return void 0===e&&(e="number"),ce(t,e)},he=fe,de=gt,pe=function(t){var e=he(t,"string");return de(e)?e:e+""},ge=G,ve=i.document,me=ge(ve)&&ge(ve.createElement),ye=function(t){return me?ve.createElement(t):{}},be=ye,we=!c&&!s((function(){return 7!=Object.defineProperty(be("div"),"a",{get:function(){return 7}}).a})),xe=c,Te=h,Ae=d,Se=b,Pe=B,ke=pe,Ie=Nt,Le=we,Ee=Object.getOwnPropertyDescriptor;a.f=xe?Ee:function(t,e){if(t=Pe(t),e=ke(e),Le)try{return Ee(t,e)}catch(t){}if(Ie(t,e))return Se(!Te(Ae.f,t,e),t[e])};var Oe={},Re=c&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Ce=G,De=String,Ue=TypeError,qe=function(t){if(Ce(t))return t;throw Ue(De(t)+" is not an object")},je=c,He=we,Me=Re,ze=qe,Be=pe,Fe=TypeError,_e=Object.defineProperty,Ne=Object.getOwnPropertyDescriptor,$e="enumerable",Ve="configurable",We="writable";Oe.f=je?Me?function(t,e,r){if(ze(t),e=Be(e),ze(r),"function"==typeof t&&"prototype"===e&&"value"in r&&We in r&&!r[We]){var n=Ne(t,e);n&&n[We]&&(t[e]=r.value,r={configurable:Ve in r?r[Ve]:n[Ve],enumerable:$e in r?r[$e]:n[$e],writable:!1})}return _e(t,e,r)}:_e:function(t,e,r){if(ze(t),e=Be(e),ze(r),He)try{return _e(t,e,r)}catch(t){}if("get"in r||"set"in r)throw Fe("Accessors not supported");return"value"in r&&(t[e]=r.value),t};var Ge=Oe,Ye=b,Qe=c?function(t,e,r){return Ge.f(t,e,Ye(1,r))}:function(t,e,r){return t[e]=r,t},Xe={exports:{}},Je=c,Ze=Nt,Ke=Function.prototype,tr=Je&&Object.getOwnPropertyDescriptor,er=Ze(Ke,"name"),rr={EXISTS:er,PROPER:er&&"something"===function(){}.name,CONFIGURABLE:er&&(!Je||Je&&tr(Ke,"name").configurable)},nr=$,or=qt,ir=S(Function.toString);nr(or.inspectSource)||(or.inspectSource=function(t){return ir(t)});var ar,sr,cr,ur=or.inspectSource,lr=$,fr=i.WeakMap,hr=lr(fr)&&/native code/.test(String(fr)),dr=Yt,pr=Ht("keys"),gr=function(t){return pr[t]||(pr[t]=dr(t))},vr={},mr=hr,yr=i,br=G,wr=Qe,xr=Nt,Tr=qt,Ar=gr,Sr=vr,Pr="Object already initialized",kr=yr.TypeError,Ir=yr.WeakMap;if(mr||Tr.state){var Lr=Tr.state||(Tr.state=new Ir);Lr.get=Lr.get,Lr.has=Lr.has,Lr.set=Lr.set,ar=function(t,e){if(Lr.has(t))throw kr(Pr);return e.facade=t,Lr.set(t,e),e},sr=function(t){return Lr.get(t)||{}},cr=function(t){return Lr.has(t)}}else{var Er=Ar("state");Sr[Er]=!0,ar=function(t,e){if(xr(t,Er))throw kr(Pr);return e.facade=t,wr(t,Er,e),e},sr=function(t){return xr(t,Er)?t[Er]:{}},cr=function(t){return xr(t,Er)}}var Or={set:ar,get:sr,has:cr,enforce:function(t){return cr(t)?sr(t):ar(t,{})},getterFor:function(t){return function(e){var r;if(!br(e)||(r=sr(e)).type!==t)throw kr("Incompatible receiver, "+t+" required");return r}}},Rr=S,Cr=s,Dr=$,Ur=Nt,qr=c,jr=rr.CONFIGURABLE,Hr=ur,Mr=Or.enforce,zr=Or.get,Br=String,Fr=Object.defineProperty,_r=Rr("".slice),Nr=Rr("".replace),$r=Rr([].join),Vr=qr&&!Cr((function(){return 8!==Fr((function(){}),"length",{value:8}).length})),Wr=String(String).split("String"),Gr=Xe.exports=function(t,e,r){"Symbol("===_r(Br(e),0,7)&&(e="["+Nr(Br(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(e="get "+e),r&&r.setter&&(e="set "+e),(!Ur(t,"name")||jr&&t.name!==e)&&(qr?Fr(t,"name",{value:e,configurable:!0}):t.name=e),Vr&&r&&Ur(r,"arity")&&t.length!==r.arity&&Fr(t,"length",{value:r.arity});try{r&&Ur(r,"constructor")&&r.constructor?qr&&Fr(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var n=Mr(t);return Ur(n,"source")||(n.source=$r(Wr,"string"==typeof e?e:"")),t};Function.prototype.toString=Gr((function(){return Dr(this)&&zr(this).source||Hr(this)}),"toString");var Yr=Xe.exports,Qr=$,Xr=Oe,Jr=Yr,Zr=Ct,Kr=function(t,e,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:e;if(Qr(r)&&Jr(r,i,n),n.global)o?t[e]=r:Zr(e,r);else{try{n.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=r:Xr.f(t,e,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return t},tn={},en=Math.ceil,rn=Math.floor,nn=Math.trunc||function(t){var e=+t;return(e>0?rn:en)(e)},on=nn,an=function(t){var e=+t;return e!=e||0===e?0:on(e)},sn=an,cn=Math.max,un=Math.min,ln=function(t,e){var r=sn(t);return r<0?cn(r+e,0):un(r,e)},fn=an,hn=Math.min,dn=function(t){return t>0?hn(fn(t),9007199254740991):0},pn=dn,gn=function(t){return pn(t.length)},vn=B,mn=ln,yn=gn,bn=function(t){return function(e,r,n){var o,i=vn(e),a=yn(i),s=mn(n,a);if(t&&r!=r){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===r)return t||s||0;return!t&&-1}},wn={includes:bn(!0),indexOf:bn(!1)},xn=Nt,Tn=B,An=wn.indexOf,Sn=vr,Pn=S([].push),kn=function(t,e){var r,n=Tn(t),o=0,i=[];for(r in n)!xn(Sn,r)&&xn(n,r)&&Pn(i,r);for(;e.length>o;)xn(n,r=e[o++])&&(~An(i,r)||Pn(i,r));return i},In=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Ln=kn,En=In.concat("length","prototype");tn.f=Object.getOwnPropertyNames||function(t){return Ln(t,En)};var On={};On.f=Object.getOwnPropertySymbols;var Rn=X,Cn=tn,Dn=On,Un=qe,qn=S([].concat),jn=Rn("Reflect","ownKeys")||function(t){var e=Cn.f(Un(t)),r=Dn.f;return r?qn(e,r(t)):e},Hn=Nt,Mn=jn,zn=a,Bn=Oe,Fn=function(t,e,r){for(var n=Mn(e),o=Bn.f,i=zn.f,a=0;a<n.length;a++){var s=n[a];Hn(t,s)||r&&Hn(r,s)||o(t,s,i(e,s))}},_n=s,Nn=$,$n=/#|\.prototype\./,Vn=function(t,e){var r=Gn[Wn(t)];return r==Qn||r!=Yn&&(Nn(e)?_n(e):!!e)},Wn=Vn.normalize=function(t){return String(t).replace($n,".").toLowerCase()},Gn=Vn.data={},Yn=Vn.NATIVE="N",Qn=Vn.POLYFILL="P",Xn=Vn,Jn=i,Zn=a.f,Kn=Qe,to=Kr,eo=Ct,ro=Fn,no=Xn,oo=function(t,e){var r,n,o,i,a,s=t.target,c=t.global,u=t.stat;if(r=c?Jn:u?Jn[s]||eo(s,{}):(Jn[s]||{}).prototype)for(n in e){if(i=e[n],o=t.dontCallGetSet?(a=Zn(r,n))&&a.value:r[n],!no(c?n:s+(u?".":"#")+n,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;ro(i,o)}(t.sham||o&&o.sham)&&Kn(i,"sham",!0),to(r,n,i,t)}},io=u,ao=Function.prototype,so=ao.apply,co=ao.call,uo="object"==typeof Reflect&&Reflect.apply||(io?co.bind(so):function(){return co.apply(so,arguments)}),lo=S,fo=xt,ho=function(t,e,r){try{return lo(fo(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(t){}},po=$,go=String,vo=TypeError,mo=ho,yo=qe,bo=function(t){if("object"==typeof t||po(t))return t;throw vo("Can't set "+go(t)+" as a prototype")},wo=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=mo(Object.prototype,"__proto__","set"))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return yo(r),bo(n),e?t(r,n):r.__proto__=n,r}}():void 0),xo=Oe.f,To=$,Ao=G,So=wo,Po=function(t,e,r){var n,o;return So&&To(n=e.constructor)&&n!==r&&Ao(o=n.prototype)&&o!==r.prototype&&So(t,o),t},ko={};ko[ne("toStringTag")]="z";var Io="[object z]"===String(ko),Lo=$,Eo=L,Oo=ne("toStringTag"),Ro=Object,Co="Arguments"==Eo(function(){return arguments}()),Do=Io?Eo:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Ro(t),Oo))?r:Co?Eo(e):"Object"==(n=Eo(e))&&Lo(e.callee)?"Arguments":n},Uo=Do,qo=String,jo=function(t){if("Symbol"===Uo(t))throw TypeError("Cannot convert a Symbol value to a string");return qo(t)},Ho=jo,Mo=G,zo=Qe,Bo=Error,Fo=S("".replace),_o=String(Bo("zxcasd").stack),No=/\n\s*at [^:]*:[^\n]*/,$o=No.test(_o),Vo=b,Wo=!s((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Vo(1,7)),7!==t.stack)})),Go=Qe,Yo=function(t,e){if($o&&"string"==typeof t&&!Bo.prepareStackTrace)for(;e--;)t=Fo(t,No,"");return t},Qo=Wo,Xo=Error.captureStackTrace,Jo=X,Zo=Nt,Ko=Qe,ti=J,ei=wo,ri=Fn,ni=function(t,e,r){r in t||xo(t,r,{configurable:!0,get:function(){return e[r]},set:function(t){e[r]=t}})},oi=Po,ii=function(t,e){return void 0===t?arguments.length<2?"":e:Ho(t)},ai=function(t,e){Mo(e)&&"cause"in e&&zo(t,"cause",e.cause)},si=function(t,e,r,n){Qo&&(Xo?Xo(t,e):Go(t,"stack",Yo(r,n)))},ci=c,ui=oo,li=uo,fi=function(t,e,r,n){var o="stackTraceLimit",i=n?2:1,a=t.split("."),s=a[a.length-1],c=Jo.apply(null,a);if(c){var u=c.prototype;if(Zo(u,"cause")&&delete u.cause,!r)return c;var l=Jo("Error"),f=e((function(t,e){var r=ii(n?e:t,void 0),o=n?new c(t):new c;return void 0!==r&&Ko(o,"message",r),si(o,f,o.stack,2),this&&ti(u,this)&&oi(o,this,f),arguments.length>i&&ai(o,arguments[i]),o}));f.prototype=u,"Error"!==s?ei?ei(f,l):ri(f,l,{name:!0}):ci&&o in c&&(ni(f,c,o),ni(f,c,"prepareStackTrace")),ri(f,c);try{u.name!==s&&Ko(u,"name",s),u.constructor=f}catch(t){}return f}},hi="WebAssembly",di=i[hi],pi=7!==Error("e",{cause:7}).cause,gi=function(t,e){var r={};r[t]=fi(t,e,pi),ui({global:!0,constructor:!0,arity:1,forced:pi},r)},vi=function(t,e){if(di&&di[t]){var r={};r[t]=fi(hi+"."+t,e,pi),ui({target:hi,stat:!0,constructor:!0,arity:1,forced:pi},r)}};gi("Error",(function(t){return function(e){return li(t,this,arguments)}})),gi("EvalError",(function(t){return function(e){return li(t,this,arguments)}})),gi("RangeError",(function(t){return function(e){return li(t,this,arguments)}})),gi("ReferenceError",(function(t){return function(e){return li(t,this,arguments)}})),gi("SyntaxError",(function(t){return function(e){return li(t,this,arguments)}})),gi("TypeError",(function(t){return function(e){return li(t,this,arguments)}})),gi("URIError",(function(t){return function(e){return li(t,this,arguments)}})),vi("CompileError",(function(t){return function(e){return li(t,this,arguments)}})),vi("LinkError",(function(t){return function(e){return li(t,this,arguments)}})),vi("RuntimeError",(function(t){return function(e){return li(t,this,arguments)}}));var mi=L,yi=Array.isArray||function(t){return"Array"==mi(t)},bi=c,wi=yi,xi=TypeError,Ti=Object.getOwnPropertyDescriptor,Ai=bi&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(wi(t)&&!Ti(t,"length").writable)throw xi("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Si=TypeError,Pi=function(t){if(t>9007199254740991)throw Si("Maximum allowed index exceeded");return t},ki=Bt,Ii=gn,Li=Ai,Ei=Pi;oo({target:"Array",proto:!0,arity:1,forced:s((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=ki(this),r=Ii(e),n=arguments.length;Ei(r+n);for(var o=0;o<n;o++)e[r]=arguments[o],r++;return Li(e,r),r}});var Oi=ye("span").classList,Ri=Oi&&Oi.constructor&&Oi.constructor.prototype,Ci=Ri===Object.prototype?void 0:Ri,Di={},Ui=kn,qi=In,ji=Object.keys||function(t){return Ui(t,qi)},Hi=c,Mi=Re,zi=Oe,Bi=qe,Fi=B,_i=ji;Di.f=Hi&&!Mi?Object.defineProperties:function(t,e){Bi(t);for(var r,n=Fi(e),o=_i(e),i=o.length,a=0;i>a;)zi.f(t,r=o[a++],n[r]);return t};var Ni,$i=X("document","documentElement"),Vi=qe,Wi=Di,Gi=In,Yi=vr,Qi=$i,Xi=ye,Ji="prototype",Zi="script",Ki=gr("IE_PROTO"),ta=function(){},ea=function(t){return"<"+Zi+">"+t+"</"+Zi+">"},ra=function(t){t.write(ea("")),t.close();var e=t.parentWindow.Object;return t=null,e},na=function(){try{Ni=new ActiveXObject("htmlfile")}catch(t){}var t,e,r;na="undefined"!=typeof document?document.domain&&Ni?ra(Ni):(e=Xi("iframe"),r="java"+Zi+":",e.style.display="none",Qi.appendChild(e),e.src=String(r),(t=e.contentWindow.document).open(),t.write(ea("document.F=Object")),t.close(),t.F):ra(Ni);for(var n=Gi.length;n--;)delete na[Ji][Gi[n]];return na()};Yi[Ki]=!0;var oa=Object.create||function(t,e){var r;return null!==t?(ta[Ji]=Vi(t),r=new ta,ta[Ji]=null,r[Ki]=t):r=na(),void 0===e?r:Wi.f(r,e)},ia=ne,aa=oa,sa=Oe.f,ca=ia("unscopables"),ua=Array.prototype;null==ua[ca]&&sa(ua,ca,{configurable:!0,value:aa(null)});var la,fa,ha,da=function(t){ua[ca][t]=!0},pa={},ga=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),va=Nt,ma=$,ya=Bt,ba=ga,wa=gr("IE_PROTO"),xa=Object,Ta=xa.prototype,Aa=ba?xa.getPrototypeOf:function(t){var e=ya(t);if(va(e,wa))return e[wa];var r=e.constructor;return ma(r)&&e instanceof r?r.prototype:e instanceof xa?Ta:null},Sa=s,Pa=$,ka=G,Ia=Aa,La=Kr,Ea=ne("iterator"),Oa=!1;[].keys&&("next"in(ha=[].keys())?(fa=Ia(Ia(ha)))!==Object.prototype&&(la=fa):Oa=!0);var Ra=!ka(la)||Sa((function(){var t={};return la[Ea].call(t)!==t}));Ra&&(la={}),Pa(la[Ea])||La(la,Ea,(function(){return this}));var Ca={IteratorPrototype:la,BUGGY_SAFARI_ITERATORS:Oa},Da=Oe.f,Ua=Nt,qa=ne("toStringTag"),ja=function(t,e,r){t&&!r&&(t=t.prototype),t&&!Ua(t,qa)&&Da(t,qa,{configurable:!0,value:e})},Ha=Ca.IteratorPrototype,Ma=oa,za=b,Ba=ja,Fa=pa,_a=function(){return this},Na=function(t,e,r,n){var o=e+" Iterator";return t.prototype=Ma(Ha,{next:za(+!n,r)}),Ba(t,o,!1),Fa[o]=_a,t},$a=oo,Va=h,Wa=$,Ga=Na,Ya=Aa,Qa=wo,Xa=ja,Ja=Qe,Za=Kr,Ka=pa,ts=rr.PROPER,es=rr.CONFIGURABLE,rs=Ca.IteratorPrototype,ns=Ca.BUGGY_SAFARI_ITERATORS,os=ne("iterator"),is="keys",as="values",ss="entries",cs=function(){return this},us=function(t,e,r,n,o,i,a){Ga(r,e,n);var s,c,u,l=function(t){if(t===o&&g)return g;if(!ns&&t in d)return d[t];switch(t){case is:case as:case ss:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[os]||d["@@iterator"]||o&&d[o],g=!ns&&p||l(o),v="Array"==e&&d.entries||p;if(v&&(s=Ya(v.call(new t)))!==Object.prototype&&s.next&&(Ya(s)!==rs&&(Qa?Qa(s,rs):Wa(s[os])||Za(s,os,cs)),Xa(s,f,!0)),ts&&o==as&&p&&p.name!==as&&(es?Ja(d,"name",as):(h=!0,g=function(){return Va(p,this)})),o)if(c={values:l(as),keys:i?g:l(is),entries:l(ss)},a)for(u in c)(ns||h||!(u in d))&&Za(d,u,c[u]);else $a({target:e,proto:!0,forced:ns||h},c);return d[os]!==g&&Za(d,os,g,{name:o}),Ka[e]=g,c},ls=function(t,e){return{value:t,done:e}},fs=B,hs=da,ds=pa,ps=Or,gs=Oe.f,vs=us,ms=ls,ys=c,bs="Array Iterator",ws=ps.set,xs=ps.getterFor(bs),Ts=vs(Array,"Array",(function(t,e){ws(this,{type:bs,target:fs(t),index:0,kind:e})}),(function(){var t=xs(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,ms(void 0,!0)):ms("keys"==r?n:"values"==r?e[n]:[n,e[n]],!1)}),"values"),As=ds.Arguments=ds.Array;if(hs("keys"),hs("values"),hs("entries"),ys&&"values"!==As.name)try{gs(As,"name",{value:"values"})}catch(t){}var Ss=i,Ps={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},ks=Ci,Is=Ts,Ls=Qe,Es=ne,Os=Es("iterator"),Rs=Es("toStringTag"),Cs=Is.values,Ds=function(t,e){if(t){if(t[Os]!==Cs)try{Ls(t,Os,Cs)}catch(e){t[Os]=Cs}if(t[Rs]||Ls(t,Rs,e),Ps[e])for(var r in Is)if(t[r]!==Is[r])try{Ls(t,r,Is[r])}catch(e){t[r]=Is[r]}}};for(var Us in Ps)Ds(Ss[Us]&&Ss[Us].prototype,Us);Ds(ks,"DOMTokenList");var qs=s,js=c,Hs=ne("iterator"),Ms=!qs((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,r="";return t.pathname="c%20d",e.forEach((function(t,n){e.delete("b"),r+=n+t})),!e.size&&!js||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[Hs]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),zs=Yr,Bs=Oe,Fs=function(t,e,r){return r.get&&zs(r.get,e,{getter:!0}),r.set&&zs(r.set,e,{setter:!0}),Bs.f(t,e,r)},_s=Kr,Ns=function(t,e,r){for(var n in e)_s(t,n,e[n],r);return t},$s=J,Vs=TypeError,Ws=function(t,e){if($s(e,t))return t;throw Vs("Incorrect invocation")},Gs=L,Ys=S,Qs=function(t){if("Function"===Gs(t))return Ys(t)},Xs=xt,Js=u,Zs=Qs(Qs.bind),Ks=function(t,e){return Xs(t),void 0===e?t:Js?Zs(t,e):function(){return t.apply(e,arguments)}},tc=Do,ec=St,rc=U,nc=pa,oc=ne("iterator"),ic=function(t){if(!rc(t))return ec(t,oc)||ec(t,"@@iterator")||nc[tc(t)]},ac=h,sc=xt,cc=qe,uc=mt,lc=ic,fc=TypeError,hc=function(t,e){var r=arguments.length<2?lc(t):e;if(sc(r))return cc(ac(r,t));throw fc(uc(t)+" is not iterable")},dc=TypeError,pc=function(t,e){if(t<e)throw dc("Not enough arguments");return t},gc=pe,vc=Oe,mc=b,yc=function(t,e,r){var n=gc(e);n in t?vc.f(t,n,mc(0,r)):t[n]=r},bc=ln,wc=gn,xc=yc,Tc=Array,Ac=Math.max,Sc=function(t,e,r){for(var n=wc(t),o=bc(e,n),i=bc(void 0===r?n:r,n),a=Tc(Ac(i-o,0)),s=0;o<i;o++,s++)xc(a,s,t[o]);return a.length=s,a},Pc=Sc,kc=Math.floor,Ic=function(t,e){var r=t.length,n=kc(r/2);return r<8?Lc(t,e):Ec(t,Ic(Pc(t,0,n),e),Ic(Pc(t,n),e),e)},Lc=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},Ec=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,s=0;a<o||s<i;)t[a+s]=a<o&&s<i?n(e[a],r[s])<=0?e[a++]:r[s++]:a<o?e[a++]:r[s++];return t},Oc=Ic,Rc=oo,Cc=i,Dc=h,Uc=S,qc=c,jc=Ms,Hc=Kr,Mc=Fs,zc=Ns,Bc=ja,Fc=Na,_c=Or,Nc=Ws,$c=$,Vc=Nt,Wc=Ks,Gc=Do,Yc=qe,Qc=G,Xc=jo,Jc=oa,Zc=b,Kc=hc,tu=ic,eu=pc,ru=Oc,nu=ne("iterator"),ou="URLSearchParams",iu=ou+"Iterator",au=_c.set,su=_c.getterFor(ou),cu=_c.getterFor(iu),uu=Object.getOwnPropertyDescriptor,lu=function(t){if(!qc)return Cc[t];var e=uu(Cc,t);return e&&e.value},fu=lu("fetch"),hu=lu("Request"),du=lu("Headers"),pu=hu&&hu.prototype,gu=du&&du.prototype,vu=Cc.RegExp,mu=Cc.TypeError,yu=Cc.decodeURIComponent,bu=Cc.encodeURIComponent,wu=Uc("".charAt),xu=Uc([].join),Tu=Uc([].push),Au=Uc("".replace),Su=Uc([].shift),Pu=Uc([].splice),ku=Uc("".split),Iu=Uc("".slice),Lu=/\+/g,Eu=Array(4),Ou=function(t){return Eu[t-1]||(Eu[t-1]=vu("((?:%[\\da-f]{2}){"+t+"})","gi"))},Ru=function(t){try{return yu(t)}catch(e){return t}},Cu=function(t){var e=Au(t,Lu," "),r=4;try{return yu(e)}catch(t){for(;r;)e=Au(e,Ou(r--),Ru);return e}},Du=/[!'()~]|%20/g,Uu={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},qu=function(t){return Uu[t]},ju=function(t){return Au(bu(t),Du,qu)},Hu=Fc((function(t,e){au(this,{type:iu,iterator:Kc(su(t).entries),kind:e})}),"Iterator",(function(){var t=cu(this),e=t.kind,r=t.iterator.next(),n=r.value;return r.done||(r.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),r}),!0),Mu=function(t){this.entries=[],this.url=null,void 0!==t&&(Qc(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===wu(t,0)?Iu(t,1):t:Xc(t)))};Mu.prototype={type:ou,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,r,n,o,i,a,s,c=tu(t);if(c)for(r=(e=Kc(t,c)).next;!(n=Dc(r,e)).done;){if(i=(o=Kc(Yc(n.value))).next,(a=Dc(i,o)).done||(s=Dc(i,o)).done||!Dc(i,o).done)throw mu("Expected sequence with length 2");Tu(this.entries,{key:Xc(a.value),value:Xc(s.value)})}else for(var u in t)Vc(t,u)&&Tu(this.entries,{key:u,value:Xc(t[u])})},parseQuery:function(t){if(t)for(var e,r,n=ku(t,"&"),o=0;o<n.length;)(e=n[o++]).length&&(r=ku(e,"="),Tu(this.entries,{key:Cu(Su(r)),value:Cu(xu(r,"="))}))},serialize:function(){for(var t,e=this.entries,r=[],n=0;n<e.length;)t=e[n++],Tu(r,ju(t.key)+"="+ju(t.value));return xu(r,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var zu=function(){Nc(this,Bu);var t=au(this,new Mu(arguments.length>0?arguments[0]:void 0));qc||(this.length=t.entries.length)},Bu=zu.prototype;if(zc(Bu,{append:function(t,e){eu(arguments.length,2);var r=su(this);Tu(r.entries,{key:Xc(t),value:Xc(e)}),qc||this.length++,r.updateURL()},delete:function(t){eu(arguments.length,1);for(var e=su(this),r=e.entries,n=Xc(t),o=0;o<r.length;)r[o].key===n?Pu(r,o,1):o++;qc||(this.length=r.length),e.updateURL()},get:function(t){eu(arguments.length,1);for(var e=su(this).entries,r=Xc(t),n=0;n<e.length;n++)if(e[n].key===r)return e[n].value;return null},getAll:function(t){eu(arguments.length,1);for(var e=su(this).entries,r=Xc(t),n=[],o=0;o<e.length;o++)e[o].key===r&&Tu(n,e[o].value);return n},has:function(t){eu(arguments.length,1);for(var e=su(this).entries,r=Xc(t),n=0;n<e.length;)if(e[n++].key===r)return!0;return!1},set:function(t,e){eu(arguments.length,1);for(var r,n=su(this),o=n.entries,i=!1,a=Xc(t),s=Xc(e),c=0;c<o.length;c++)(r=o[c]).key===a&&(i?Pu(o,c--,1):(i=!0,r.value=s));i||Tu(o,{key:a,value:s}),qc||(this.length=o.length),n.updateURL()},sort:function(){var t=su(this);ru(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,r=su(this).entries,n=Wc(t,arguments.length>1?arguments[1]:void 0),o=0;o<r.length;)n((e=r[o++]).value,e.key,this)},keys:function(){return new Hu(this,"keys")},values:function(){return new Hu(this,"values")},entries:function(){return new Hu(this,"entries")}},{enumerable:!0}),Hc(Bu,nu,Bu.entries,{name:"entries"}),Hc(Bu,"toString",(function(){return su(this).serialize()}),{enumerable:!0}),qc&&Mc(Bu,"size",{get:function(){return su(this).entries.length},configurable:!0,enumerable:!0}),Bc(zu,ou),Rc({global:!0,constructor:!0,forced:!jc},{URLSearchParams:zu}),!jc&&$c(du)){var Fu=Uc(gu.has),_u=Uc(gu.set),Nu=function(t){if(Qc(t)){var e,r=t.body;if(Gc(r)===ou)return e=t.headers?new du(t.headers):new du,Fu(e,"content-type")||_u(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Jc(t,{body:Zc(0,Xc(r)),headers:Zc(0,e)})}return t};if($c(fu)&&Rc({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return fu(t,arguments.length>1?Nu(arguments[1]):{})}}),$c(hu)){var $u=function(t){return Nc(this,pu),new hu(t,arguments.length>1?Nu(arguments[1]):{})};pu.constructor=$u,$u.prototype=pu,Rc({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:$u})}}var Vu={URLSearchParams:zu,getState:su},Wu=c,Gu=S,Yu=Fs,Qu=URLSearchParams.prototype,Xu=Gu(Qu.forEach);Wu&&!("size"in Qu)&&Yu(Qu,"size",{get:function(){var t=0;return Xu(this,(function(){t++})),t},configurable:!0,enumerable:!0});var Ju=xt,Zu=Bt,Ku=D,tl=gn,el=TypeError,rl=function(t){return function(e,r,n,o){Ju(r);var i=Zu(e),a=Ku(i),s=tl(i),c=t?s-1:0,u=t?-1:1;if(n<2)for(;;){if(c in a){o=a[c],c+=u;break}if(c+=u,t?c<0:s<=c)throw el("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=u)c in a&&(o=r(o,a[c],c,i));return o}},nl={left:rl(!1),right:rl(!0)},ol=s,il="undefined"!=typeof process&&"process"==L(process),al=nl.left;oo({target:"Array",proto:!0,forced:!il&&it>79&&it<83||!function(t,e){var r=[][t];return!!r&&ol((function(){r.call(null,e||function(){return 1},1)}))}("reduce")},{reduce:function(t){var e=arguments.length;return al(this,t,e,e>1?arguments[1]:void 0)}});var sl,cl,ul=qe,ll=s,fl=i.RegExp,hl=ll((function(){var t=fl("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),dl=hl||ll((function(){return!fl("a","y").sticky})),pl={BROKEN_CARET:hl||ll((function(){var t=fl("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:dl,UNSUPPORTED_Y:hl},gl=s,vl=i.RegExp,ml=gl((function(){var t=vl(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),yl=s,bl=i.RegExp,wl=yl((function(){var t=bl("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),xl=h,Tl=S,Al=jo,Sl=function(){var t=ul(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},Pl=pl,kl=oa,Il=Or.get,Ll=ml,El=wl,Ol=Ht("native-string-replace",String.prototype.replace),Rl=RegExp.prototype.exec,Cl=Rl,Dl=Tl("".charAt),Ul=Tl("".indexOf),ql=Tl("".replace),jl=Tl("".slice),Hl=(cl=/b*/g,xl(Rl,sl=/a/,"a"),xl(Rl,cl,"a"),0!==sl.lastIndex||0!==cl.lastIndex),Ml=Pl.BROKEN_CARET,zl=void 0!==/()??/.exec("")[1];(Hl||zl||Ml||Ll||El)&&(Cl=function(t){var e,r,n,o,i,a,s,c=this,u=Il(c),l=Al(t),f=u.raw;if(f)return f.lastIndex=c.lastIndex,e=xl(Cl,f,l),c.lastIndex=f.lastIndex,e;var h=u.groups,d=Ml&&c.sticky,p=xl(Sl,c),g=c.source,v=0,m=l;if(d&&(p=ql(p,"y",""),-1===Ul(p,"g")&&(p+="g"),m=jl(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Dl(l,c.lastIndex-1))&&(g="(?: "+g+")",m=" "+m,v++),r=new RegExp("^(?:"+g+")",p)),zl&&(r=new RegExp("^"+g+"$(?!\\s)",p)),Hl&&(n=c.lastIndex),o=xl(Rl,d?r:c,m),d?o?(o.input=jl(o.input,v),o[0]=jl(o[0],v),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Hl&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),zl&&o&&o.length>1&&xl(Ol,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&h)for(o.groups=a=kl(null),i=0;i<h.length;i++)a[(s=h[i])[0]]=o[s[1]];return o});var Bl=Cl;oo({target:"RegExp",proto:!0,forced:/./.exec!==Bl},{exec:Bl});var Fl=Qs,_l=Kr,Nl=Bl,$l=s,Vl=ne,Wl=Qe,Gl=Vl("species"),Yl=RegExp.prototype,Ql=S,Xl=an,Jl=jo,Zl=H,Kl=Ql("".charAt),tf=Ql("".charCodeAt),ef=Ql("".slice),rf=function(t){return function(e,r){var n,o,i=Jl(Zl(e)),a=Xl(r),s=i.length;return a<0||a>=s?t?"":void 0:(n=tf(i,a))<55296||n>56319||a+1===s||(o=tf(i,a+1))<56320||o>57343?t?Kl(i,a):n:t?ef(i,a,a+2):o-56320+(n-55296<<10)+65536}},nf={codeAt:rf(!1),charAt:rf(!0)},of=nf.charAt,af=S,sf=Bt,cf=Math.floor,uf=af("".charAt),lf=af("".replace),ff=af("".slice),hf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,df=/\$([$&'`]|\d{1,2})/g,pf=h,gf=qe,vf=$,mf=L,yf=Bl,bf=TypeError,wf=uo,xf=h,Tf=S,Af=function(t,e,r,n){var o=Vl(t),i=!$l((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!$l((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[Gl]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return e=!0,null},r[o](""),!e}));if(!i||!a||r){var s=Fl(/./[o]),c=e(o,""[t],(function(t,e,r,n,o){var a=Fl(t),c=e.exec;return c===Nl||c===Yl.exec?i&&!o?{done:!0,value:s(e,r,n)}:{done:!0,value:a(r,e,n)}:{done:!1}}));_l(String.prototype,t,c[0]),_l(Yl,o,c[1])}n&&Wl(Yl[o],"sham",!0)},Sf=s,Pf=qe,kf=$,If=U,Lf=an,Ef=dn,Of=jo,Rf=H,Cf=function(t,e,r){return e+(r?of(t,e).length:1)},Df=St,Uf=function(t,e,r,n,o,i){var a=r+t.length,s=n.length,c=df;return void 0!==o&&(o=sf(o),c=hf),lf(i,c,(function(i,c){var u;switch(uf(c,0)){case"$":return"$";case"&":return t;case"`":return ff(e,0,r);case"'":return ff(e,a);case"<":u=o[ff(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>s){var f=cf(l/10);return 0===f?i:f<=s?void 0===n[f-1]?uf(c,1):n[f-1]+uf(c,1):i}u=n[l-1]}return void 0===u?"":u}))},qf=function(t,e){var r=t.exec;if(vf(r)){var n=pf(r,t,e);return null!==n&&gf(n),n}if("RegExp"===mf(t))return pf(yf,t,e);throw bf("RegExp#exec called on incompatible receiver")},jf=ne("replace"),Hf=Math.max,Mf=Math.min,zf=Tf([].concat),Bf=Tf([].push),Ff=Tf("".indexOf),_f=Tf("".slice),Nf="$0"==="a".replace(/./,"$0"),$f=!!/./[jf]&&""===/./[jf]("a","$0");Af("replace",(function(t,e,r){var n=$f?"$":"$0";return[function(t,r){var n=Rf(this),o=If(t)?void 0:Df(t,jf);return o?xf(o,t,n,r):xf(e,Of(n),t,r)},function(t,o){var i=Pf(this),a=Of(t);if("string"==typeof o&&-1===Ff(o,n)&&-1===Ff(o,"$<")){var s=r(e,i,a,o);if(s.done)return s.value}var c=kf(o);c||(o=Of(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var f=[];;){var h=qf(i,a);if(null===h)break;if(Bf(f,h),!u)break;""===Of(h[0])&&(i.lastIndex=Cf(a,Ef(i.lastIndex),l))}for(var d,p="",g=0,v=0;v<f.length;v++){for(var m=Of((h=f[v])[0]),y=Hf(Mf(Lf(h.index),a.length),0),b=[],w=1;w<h.length;w++)Bf(b,void 0===(d=h[w])?d:String(d));var x=h.groups;if(c){var T=zf([m],b,y,a);void 0!==x&&Bf(T,x);var A=Of(wf(o,void 0,T))}else A=Uf(m,a,y,b,x,o);y>=g&&(p+=_f(a,g,y)+A,g=y+m.length)}return p+_f(a,g)}]}),!!Sf((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!Nf||$f);var Vf=L,Wf=TypeError,Gf=ho(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!=Vf(t))throw Wf("ArrayBuffer expected");return t.byteLength},Yf=Gf,Qf=S(ArrayBuffer.prototype.slice),Xf=function(t){if(0!==Yf(t))return!1;try{return Qf(t,0,0),!1}catch(t){return!0}},Jf=c,Zf=Fs,Kf=Xf,th=ArrayBuffer.prototype;Jf&&!("detached"in th)&&Zf(th,"detached",{configurable:!0,get:function(){return Kf(this)}});var eh=an,rh=dn,nh=RangeError,oh=function(t){if(void 0===t)return 0;var e=eh(t),r=rh(e);if(e!==r)throw nh("Wrong length or index");return r},ih="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,ah=!ih&&!il&&"object"==typeof window&&"object"==typeof document,sh=s,ch=it,uh=ah,lh=ih,fh=il,hh=i.structuredClone,dh=!!hh&&!sh((function(){if(lh&&ch>92||fh&&ch>94||uh&&ch>97)return!1;var t=new ArrayBuffer(8),e=hh(t,{transfer:[t]});return 0!=t.byteLength||8!=e.byteLength})),ph=i,gh=S,vh=ho,mh=oh,yh=Xf,bh=Gf,wh=dh,xh=ph.TypeError,Th=ph.structuredClone,Ah=ph.ArrayBuffer,Sh=ph.DataView,Ph=Math.min,kh=Ah.prototype,Ih=Sh.prototype,Lh=gh(kh.slice),Eh=vh(kh,"resizable","get"),Oh=vh(kh,"maxByteLength","get"),Rh=gh(Ih.getInt8),Ch=gh(Ih.setInt8),Dh=wh&&function(t,e,r){var n=bh(t),o=void 0===e?n:Ph(mh(e),n),i=!Eh||!Eh(t);if(yh(t))throw xh("ArrayBuffer is detached");var a=Th(t,{transfer:[t]});if(n==o&&(r||i))return a;if(!r||i)return Lh(a,0,o);for(var s=new Ah(o,Oh&&{maxByteLength:Oh(a)}),c=new Sh(a),u=new Sh(s),l=0;l<o;l++)Ch(u,l,Rh(c,l));return s},Uh=Dh;Uh&&oo({target:"ArrayBuffer",proto:!0},{transfer:function(){return Uh(this,arguments.length?arguments[0]:void 0,!0)}});var qh=Dh;qh&&oo({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return qh(this,arguments.length?arguments[0]:void 0,!1)}});var jh=nf.charAt,Hh=jo,Mh=Or,zh=us,Bh=ls,Fh="String Iterator",_h=Mh.set,Nh=Mh.getterFor(Fh);zh(String,"String",(function(t){_h(this,{type:Fh,string:Hh(t),index:0})}),(function(){var t,e=Nh(this),r=e.string,n=e.index;return n>=r.length?Bh(void 0,!0):(t=jh(r,n),e.index+=t.length,Bh(t,!1))}));var $h=c,Vh=S,Wh=h,Gh=s,Yh=ji,Qh=On,Xh=d,Jh=Bt,Zh=D,Kh=Object.assign,td=Object.defineProperty,ed=Vh([].concat),rd=!Kh||Gh((function(){if($h&&1!==Kh({b:1},Kh(td({},"a",{enumerable:!0,get:function(){td(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol(),n="abcdefghijklmnopqrst";return t[r]=7,n.split("").forEach((function(t){e[t]=t})),7!=Kh({},t)[r]||Yh(Kh({},e)).join("")!=n}))?function(t,e){for(var r=Jh(t),n=arguments.length,o=1,i=Qh.f,a=Xh.f;n>o;)for(var s,c=Zh(arguments[o++]),u=i?ed(Yh(c),i(c)):Yh(c),l=u.length,f=0;l>f;)s=u[f++],$h&&!Wh(a,c,s)||(r[s]=c[s]);return r}:Kh,nd=h,od=qe,id=St,ad=qe,sd=function(t,e,r){var n,o;od(t);try{if(!(n=id(t,"return"))){if("throw"===e)throw r;return r}n=nd(n,t)}catch(t){o=!0,n=t}if("throw"===e)throw r;if(o)throw n;return od(n),r},cd=pa,ud=ne("iterator"),ld=Array.prototype,fd=function(t){return void 0!==t&&(cd.Array===t||ld[ud]===t)},hd=S,dd=s,pd=$,gd=Do,vd=ur,md=function(){},yd=[],bd=X("Reflect","construct"),wd=/^\s*(?:class|function)\b/,xd=hd(wd.exec),Td=!wd.exec(md),Ad=function(t){if(!pd(t))return!1;try{return bd(md,yd,t),!0}catch(t){return!1}},Sd=function(t){if(!pd(t))return!1;switch(gd(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Td||!!xd(wd,vd(t))}catch(t){return!0}};Sd.sham=!0;var Pd,kd=!bd||dd((function(){var t;return Ad(Ad.call)||!Ad(Object)||!Ad((function(){t=!0}))||t}))?Sd:Ad,Id=Ks,Ld=h,Ed=Bt,Od=function(t,e,r,n){try{return n?e(ad(r)[0],r[1]):e(r)}catch(e){sd(t,"throw",e)}},Rd=fd,Cd=kd,Dd=gn,Ud=yc,qd=hc,jd=ic,Hd=Array,Md=S,zd=2147483647,Bd=/[^\0-\u007E]/,Fd=/[.\u3002\uFF0E\uFF61]/g,_d="Overflow: input needs wider integers to process",Nd=RangeError,$d=Md(Fd.exec),Vd=Math.floor,Wd=String.fromCharCode,Gd=Md("".charCodeAt),Yd=Md([].join),Qd=Md([].push),Xd=Md("".replace),Jd=Md("".split),Zd=Md("".toLowerCase),Kd=function(t){return t+22+75*(t<26)},tp=function(t,e,r){var n=0;for(t=r?Vd(t/700):t>>1,t+=Vd(t/e);t>455;)t=Vd(t/35),n+=36;return Vd(n+36*t/(t+38))},ep=function(t){var e=[];t=function(t){for(var e=[],r=0,n=t.length;r<n;){var o=Gd(t,r++);if(o>=55296&&o<=56319&&r<n){var i=Gd(t,r++);56320==(64512&i)?Qd(e,((1023&o)<<10)+(1023&i)+65536):(Qd(e,o),r--)}else Qd(e,o)}return e}(t);var r,n,o=t.length,i=128,a=0,s=72;for(r=0;r<t.length;r++)(n=t[r])<128&&Qd(e,Wd(n));var c=e.length,u=c;for(c&&Qd(e,"-");u<o;){var l=zd;for(r=0;r<t.length;r++)(n=t[r])>=i&&n<l&&(l=n);var f=u+1;if(l-i>Vd((zd-a)/f))throw Nd(_d);for(a+=(l-i)*f,i=l,r=0;r<t.length;r++){if((n=t[r])<i&&++a>zd)throw Nd(_d);if(n==i){for(var h=a,d=36;;){var p=d<=s?1:d>=s+26?26:d-s;if(h<p)break;var g=h-p,v=36-p;Qd(e,Wd(Kd(p+g%v))),h=Vd(g/v),d+=36}Qd(e,Wd(Kd(h))),s=tp(a,f,u==c),a=0,u++}}a++,i++}return Yd(e,"")},rp=oo,np=c,op=Ms,ip=i,ap=Ks,sp=S,cp=Kr,up=Fs,lp=Ws,fp=Nt,hp=rd,dp=function(t){var e=Ed(t),r=Cd(this),n=arguments.length,o=n>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Id(o,n>2?arguments[2]:void 0));var a,s,c,u,l,f,h=jd(e),d=0;if(!h||this===Hd&&Rd(h))for(a=Dd(e),s=r?new this(a):Hd(a);a>d;d++)f=i?o(e[d],d):e[d],Ud(s,d,f);else for(l=(u=qd(e,h)).next,s=r?new this:[];!(c=Ld(l,u)).done;d++)f=i?Od(u,o,[c.value,d],!0):c.value,Ud(s,d,f);return s.length=d,s},pp=Sc,gp=nf.codeAt,vp=function(t){var e,r,n=[],o=Jd(Xd(Zd(t),Fd,"."),".");for(e=0;e<o.length;e++)r=o[e],Qd(n,$d(Bd,r)?"xn--"+ep(r):r);return Yd(n,".")},mp=jo,yp=ja,bp=pc,wp=Vu,xp=Or,Tp=xp.set,Ap=xp.getterFor("URL"),Sp=wp.URLSearchParams,Pp=wp.getState,kp=ip.URL,Ip=ip.TypeError,Lp=ip.parseInt,Ep=Math.floor,Op=Math.pow,Rp=sp("".charAt),Cp=sp(/./.exec),Dp=sp([].join),Up=sp(1..toString),qp=sp([].pop),jp=sp([].push),Hp=sp("".replace),Mp=sp([].shift),zp=sp("".split),Bp=sp("".slice),Fp=sp("".toLowerCase),_p=sp([].unshift),Np="Invalid scheme",$p="Invalid host",Vp="Invalid port",Wp=/[a-z]/i,Gp=/[\d+-.a-z]/i,Yp=/\d/,Qp=/^0x/i,Xp=/^[0-7]+$/,Jp=/^\d+$/,Zp=/^[\da-f]+$/i,Kp=/[\0\t\n\r #%/:<>?@[\\\]^|]/,tg=/[\0\t\n\r #/:<>?@[\\\]^|]/,eg=/^[\u0000-\u0020]+/,rg=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ng=/[\t\n\r]/g,og=function(t){var e,r,n,o;if("number"==typeof t){for(e=[],r=0;r<4;r++)_p(e,t%256),t=Ep(t/256);return Dp(e,".")}if("object"==typeof t){for(e="",n=function(t){for(var e=null,r=1,n=null,o=0,i=0;i<8;i++)0!==t[i]?(o>r&&(e=n,r=o),n=null,o=0):(null===n&&(n=i),++o);return o>r&&(e=n,r=o),e}(t),r=0;r<8;r++)o&&0===t[r]||(o&&(o=!1),n===r?(e+=r?":":"::",o=!0):(e+=Up(t[r],16),r<7&&(e+=":")));return"["+e+"]"}return t},ig={},ag=hp({},ig,{" ":1,'"':1,"<":1,">":1,"`":1}),sg=hp({},ag,{"#":1,"?":1,"{":1,"}":1}),cg=hp({},sg,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ug=function(t,e){var r=gp(t,0);return r>32&&r<127&&!fp(e,t)?t:encodeURIComponent(t)},lg={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fg=function(t,e){var r;return 2==t.length&&Cp(Wp,Rp(t,0))&&(":"==(r=Rp(t,1))||!e&&"|"==r)},hg=function(t){var e;return t.length>1&&fg(Bp(t,0,2))&&(2==t.length||"/"===(e=Rp(t,2))||"\\"===e||"?"===e||"#"===e)},dg=function(t){return"."===t||"%2e"===Fp(t)},pg={},gg={},vg={},mg={},yg={},bg={},wg={},xg={},Tg={},Ag={},Sg={},Pg={},kg={},Ig={},Lg={},Eg={},Og={},Rg={},Cg={},Dg={},Ug={},qg=function(t,e,r){var n,o,i,a=mp(t);if(e){if(o=this.parse(a))throw Ip(o);this.searchParams=null}else{if(void 0!==r&&(n=new qg(r,!0)),o=this.parse(a,null,n))throw Ip(o);(i=Pp(new Sp)).bindURL(this),this.searchParams=i}};qg.prototype={type:"URL",parse:function(t,e,r){var n,o,i,a,s,c=this,u=e||pg,l=0,f="",h=!1,d=!1,p=!1;for(t=mp(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=Hp(t,eg,""),t=Hp(t,rg,"$1")),t=Hp(t,ng,""),n=dp(t);l<=n.length;){switch(o=n[l],u){case pg:if(!o||!Cp(Wp,o)){if(e)return Np;u=vg;continue}f+=Fp(o),u=gg;break;case gg:if(o&&(Cp(Gp,o)||"+"==o||"-"==o||"."==o))f+=Fp(o);else{if(":"!=o){if(e)return Np;f="",u=vg,l=0;continue}if(e&&(c.isSpecial()!=fp(lg,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,e)return void(c.isSpecial()&&lg[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?u=Ig:c.isSpecial()&&r&&r.scheme==c.scheme?u=mg:c.isSpecial()?u=xg:"/"==n[l+1]?(u=yg,l++):(c.cannotBeABaseURL=!0,jp(c.path,""),u=Cg)}break;case vg:if(!r||r.cannotBeABaseURL&&"#"!=o)return Np;if(r.cannotBeABaseURL&&"#"==o){c.scheme=r.scheme,c.path=pp(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,u=Ug;break}u="file"==r.scheme?Ig:bg;continue;case mg:if("/"!=o||"/"!=n[l+1]){u=bg;continue}u=Tg,l++;break;case yg:if("/"==o){u=Ag;break}u=Rg;continue;case bg:if(c.scheme=r.scheme,o==Pd)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=pp(r.path),c.query=r.query;else if("/"==o||"\\"==o&&c.isSpecial())u=wg;else if("?"==o)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=pp(r.path),c.query="",u=Dg;else{if("#"!=o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=pp(r.path),c.path.length--,u=Rg;continue}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=pp(r.path),c.query=r.query,c.fragment="",u=Ug}break;case wg:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,u=Rg;continue}u=Ag}else u=Tg;break;case xg:if(u=Tg,"/"!=o||"/"!=Rp(f,l+1))continue;l++;break;case Tg:if("/"!=o&&"\\"!=o){u=Ag;continue}break;case Ag:if("@"==o){h&&(f="%40"+f),h=!0,i=dp(f);for(var g=0;g<i.length;g++){var v=i[g];if(":"!=v||p){var m=ug(v,cg);p?c.password+=m:c.username+=m}else p=!0}f=""}else if(o==Pd||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(h&&""==f)return"Invalid authority";l-=dp(f).length+1,f="",u=Sg}else f+=o;break;case Sg:case Pg:if(e&&"file"==c.scheme){u=Eg;continue}if(":"!=o||d){if(o==Pd||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==f)return $p;if(e&&""==f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",u=Og,e)return;continue}"["==o?d=!0:"]"==o&&(d=!1),f+=o}else{if(""==f)return $p;if(a=c.parseHost(f))return a;if(f="",u=kg,e==Pg)return}break;case kg:if(!Cp(Yp,o)){if(o==Pd||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||e){if(""!=f){var y=Lp(f,10);if(y>65535)return Vp;c.port=c.isSpecial()&&y===lg[c.scheme]?null:y,f=""}if(e)return;u=Og;continue}return Vp}f+=o;break;case Ig:if(c.scheme="file","/"==o||"\\"==o)u=Lg;else{if(!r||"file"!=r.scheme){u=Rg;continue}if(o==Pd)c.host=r.host,c.path=pp(r.path),c.query=r.query;else if("?"==o)c.host=r.host,c.path=pp(r.path),c.query="",u=Dg;else{if("#"!=o){hg(Dp(pp(n,l),""))||(c.host=r.host,c.path=pp(r.path),c.shortenPath()),u=Rg;continue}c.host=r.host,c.path=pp(r.path),c.query=r.query,c.fragment="",u=Ug}}break;case Lg:if("/"==o||"\\"==o){u=Eg;break}r&&"file"==r.scheme&&!hg(Dp(pp(n,l),""))&&(fg(r.path[0],!0)?jp(c.path,r.path[0]):c.host=r.host),u=Rg;continue;case Eg:if(o==Pd||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&fg(f))u=Rg;else if(""==f){if(c.host="",e)return;u=Og}else{if(a=c.parseHost(f))return a;if("localhost"==c.host&&(c.host=""),e)return;f="",u=Og}continue}f+=o;break;case Og:if(c.isSpecial()){if(u=Rg,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=Pd&&(u=Rg,"/"!=o))continue}else c.fragment="",u=Ug;else c.query="",u=Dg;break;case Rg:if(o==Pd||"/"==o||"\\"==o&&c.isSpecial()||!e&&("?"==o||"#"==o)){if(".."===(s=Fp(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||jp(c.path,"")):dg(f)?"/"==o||"\\"==o&&c.isSpecial()||jp(c.path,""):("file"==c.scheme&&!c.path.length&&fg(f)&&(c.host&&(c.host=""),f=Rp(f,0)+":"),jp(c.path,f)),f="","file"==c.scheme&&(o==Pd||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)Mp(c.path);"?"==o?(c.query="",u=Dg):"#"==o&&(c.fragment="",u=Ug)}else f+=ug(o,sg);break;case Cg:"?"==o?(c.query="",u=Dg):"#"==o?(c.fragment="",u=Ug):o!=Pd&&(c.path[0]+=ug(o,ig));break;case Dg:e||"#"!=o?o!=Pd&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":ug(o,ig)):(c.fragment="",u=Ug);break;case Ug:o!=Pd&&(c.fragment+=ug(o,ag))}l++}},parseHost:function(t){var e,r,n;if("["==Rp(t,0)){if("]"!=Rp(t,t.length-1))return $p;if(e=function(t){var e,r,n,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return Rp(t,f)};if(":"==h()){if(":"!=Rp(t,1))return;f+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=r=0;r<4&&Cp(Zp,h());)e=16*e+Lp(h(),16),f++,r++;if("."==h()){if(0==r)return;if(f-=r,u>6)return;for(n=0;h();){if(o=null,n>0){if(!("."==h()&&n<4))return;f++}if(!Cp(Yp,h()))return;for(;Cp(Yp,h());){if(i=Lp(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(Bp(t,1,-1)),!e)return $p;this.host=e}else if(this.isSpecial()){if(t=vp(t),Cp(Kp,t))return $p;if(e=function(t){var e,r,n,o,i,a,s,c=zp(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(r=[],n=0;n<e;n++){if(""==(o=c[n]))return t;if(i=10,o.length>1&&"0"==Rp(o,0)&&(i=Cp(Qp,o)?16:8,o=Bp(o,8==i?1:2)),""===o)a=0;else{if(!Cp(10==i?Jp:8==i?Xp:Zp,o))return t;a=Lp(o,i)}jp(r,a)}for(n=0;n<e;n++)if(a=r[n],n==e-1){if(a>=Op(256,5-e))return null}else if(a>255)return null;for(s=qp(r),n=0;n<r.length;n++)s+=r[n]*Op(256,3-n);return s}(t),null===e)return $p;this.host=e}else{if(Cp(tg,t))return $p;for(e="",r=dp(t),n=0;n<r.length;n++)e+=ug(r[n],ig);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return fp(lg,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&fg(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,r=t.username,n=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",t.includesCredentials()&&(u+=r+(n?":"+n:"")+"@"),u+=og(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+Dp(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw Ip(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new jg(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+og(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(mp(t)+":",pg)},getUsername:function(){return this.username},setUsername:function(t){var e=dp(mp(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var r=0;r<e.length;r++)this.username+=ug(e[r],cg)}},getPassword:function(){return this.password},setPassword:function(t){var e=dp(mp(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var r=0;r<e.length;r++)this.password+=ug(e[r],cg)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?og(t):og(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Sg)},getHostname:function(){var t=this.host;return null===t?"":og(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Pg)},getPort:function(){var t=this.port;return null===t?"":mp(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=mp(t))?this.port=null:this.parse(t,kg))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+Dp(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Og))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=mp(t))?this.query=null:("?"==Rp(t,0)&&(t=Bp(t,1)),this.query="",this.parse(t,Dg)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=mp(t))?("#"==Rp(t,0)&&(t=Bp(t,1)),this.fragment="",this.parse(t,Ug)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var jg=function(t){var e=lp(this,Hg),r=bp(arguments.length,1)>1?arguments[1]:void 0,n=Tp(e,new qg(t,!1,r));np||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},Hg=jg.prototype,Mg=function(t,e){return{get:function(){return Ap(this)[t]()},set:e&&function(t){return Ap(this)[e](t)},configurable:!0,enumerable:!0}};if(np&&(up(Hg,"href",Mg("serialize","setHref")),up(Hg,"origin",Mg("getOrigin")),up(Hg,"protocol",Mg("getProtocol","setProtocol")),up(Hg,"username",Mg("getUsername","setUsername")),up(Hg,"password",Mg("getPassword","setPassword")),up(Hg,"host",Mg("getHost","setHost")),up(Hg,"hostname",Mg("getHostname","setHostname")),up(Hg,"port",Mg("getPort","setPort")),up(Hg,"pathname",Mg("getPathname","setPathname")),up(Hg,"search",Mg("getSearch","setSearch")),up(Hg,"searchParams",Mg("getSearchParams")),up(Hg,"hash",Mg("getHash","setHash"))),cp(Hg,"toJSON",(function(){return Ap(this).serialize()}),{enumerable:!0}),cp(Hg,"toString",(function(){return Ap(this).serialize()}),{enumerable:!0}),kp){var zg=kp.createObjectURL,Bg=kp.revokeObjectURL;zg&&cp(jg,"createObjectURL",ap(zg,kp)),Bg&&cp(jg,"revokeObjectURL",ap(Bg,kp))}yp(jg,"URL"),rp({global:!0,constructor:!0,forced:!op,sham:!np},{URL:jg});var Fg=h;function _g(){return"object"==typeof window&&"object"==typeof document&&"[object HTMLDocument]"===Object.prototype.toString.call(document)}function Ng(t){return"number"==typeof t}oo({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Fg(URL.prototype.toString,this)}});const $g={...console},Vg=["log","info","error","warn","debug"].reduce(((t,e)=>(t[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];console[e]("[PageSpy] [".concat(e.toLocaleUpperCase(),"] "),...r)},t.unproxy[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];$g[e]("[PageSpy] [".concat(e.toLocaleUpperCase(),"] "),...r)},t)),{unproxy:{}}),Wg=t=>t.replace(/\/$/,"");var Gg=Ks,Yg=D,Qg=Bt,Xg=gn,Jg=function(t){var e=1==t;return function(r,n,o){for(var i,a=Qg(r),s=Yg(a),c=Gg(n,o),u=Xg(s);u-- >0;)if(c(i=s[u],u,a))switch(t){case 0:return i;case 1:return u}return e?-1:void 0}},Zg={findLast:Jg(0),findLastIndex:Jg(1)},Kg=Zg.findLast,tv=da;oo({target:"Array",proto:!0},{findLast:function(t){return Kg(this,t,arguments.length>1?arguments[1]:void 0)}}),tv("findLast");var ev=mt,rv=TypeError,nv=Bt,ov=gn,iv=Ai,av=function(t,e){if(!delete t[e])throw rv("Cannot delete property "+ev(e)+" of "+ev(t))},sv=Pi;oo({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=nv(this),r=ov(e),n=arguments.length;if(n){sv(r+n);for(var o=r;o--;){var i=o+n;o in e?e[i]=e[o]:av(e,i)}for(var a=0;a<n;a++)e[a]=arguments[a]}return iv(e,r+n)}});var cv={exports:{}},uv=ne("iterator"),lv=!1;try{var fv=0,hv={next:function(){return{done:!!fv++}},return:function(){lv=!0}};hv[uv]=function(){return this},Array.from(hv,(function(){throw 2}))}catch(t){}var dv,pv,gv,vv="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,mv=vv,yv=c,bv=i,wv=$,xv=G,Tv=Nt,Av=Do,Sv=mt,Pv=Qe,kv=Kr,Iv=Fs,Lv=J,Ev=Aa,Ov=wo,Rv=ne,Cv=Yt,Dv=Or.enforce,Uv=Or.get,qv=bv.Int8Array,jv=qv&&qv.prototype,Hv=bv.Uint8ClampedArray,Mv=Hv&&Hv.prototype,zv=qv&&Ev(qv),Bv=jv&&Ev(jv),Fv=Object.prototype,_v=bv.TypeError,Nv=Rv("toStringTag"),$v=Cv("TYPED_ARRAY_TAG"),Vv="TypedArrayConstructor",Wv=mv&&!!Ov&&"Opera"!==Av(bv.opera),Gv=!1,Yv={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Qv={BigInt64Array:8,BigUint64Array:8},Xv=function(t){var e=Ev(t);if(xv(e)){var r=Uv(e);return r&&Tv(r,Vv)?r[Vv]:Xv(e)}},Jv=function(t){if(!xv(t))return!1;var e=Av(t);return Tv(Yv,e)||Tv(Qv,e)};for(dv in Yv)(gv=(pv=bv[dv])&&pv.prototype)?Dv(gv)[Vv]=pv:Wv=!1;for(dv in Qv)(gv=(pv=bv[dv])&&pv.prototype)&&(Dv(gv)[Vv]=pv);if((!Wv||!wv(zv)||zv===Function.prototype)&&(zv=function(){throw _v("Incorrect invocation")},Wv))for(dv in Yv)bv[dv]&&Ov(bv[dv],zv);if((!Wv||!Bv||Bv===Fv)&&(Bv=zv.prototype,Wv))for(dv in Yv)bv[dv]&&Ov(bv[dv].prototype,Bv);if(Wv&&Ev(Mv)!==Bv&&Ov(Mv,Bv),yv&&!Tv(Bv,Nv))for(dv in Gv=!0,Iv(Bv,Nv,{configurable:!0,get:function(){return xv(this)?this[$v]:void 0}}),Yv)bv[dv]&&Pv(bv[dv],$v,dv);var Zv={NATIVE_ARRAY_BUFFER_VIEWS:Wv,TYPED_ARRAY_TAG:Gv&&$v,aTypedArray:function(t){if(Jv(t))return t;throw _v("Target is not a typed array")},aTypedArrayConstructor:function(t){if(wv(t)&&(!Ov||Lv(zv,t)))return t;throw _v(Sv(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,r,n){if(yv){if(r)for(var o in Yv){var i=bv[o];if(i&&Tv(i.prototype,t))try{delete i.prototype[t]}catch(r){try{i.prototype[t]=e}catch(t){}}}Bv[t]&&!r||kv(Bv,t,r?e:Wv&&jv[t]||e,n)}},exportTypedArrayStaticMethod:function(t,e,r){var n,o;if(yv){if(Ov){if(r)for(n in Yv)if((o=bv[n])&&Tv(o,t))try{delete o[t]}catch(t){}if(zv[t]&&!r)return;try{return kv(zv,t,r?e:Wv&&zv[t]||e)}catch(t){}}for(n in Yv)!(o=bv[n])||o[t]&&!r||kv(o,t,e)}},getTypedArrayConstructor:Xv,isView:function(t){if(!xv(t))return!1;var e=Av(t);return"DataView"===e||Tv(Yv,e)||Tv(Qv,e)},isTypedArray:Jv,TypedArray:zv,TypedArrayPrototype:Bv},Kv=i,tm=s,em=function(t,e){if(!e&&!lv)return!1;var r=!1;try{var n={};n[uv]=function(){return{next:function(){return{done:r=!0}}}},t(n)}catch(t){}return r},rm=Zv.NATIVE_ARRAY_BUFFER_VIEWS,nm=Kv.ArrayBuffer,om=Kv.Int8Array,im=!rm||!tm((function(){om(1)}))||!tm((function(){new om(-1)}))||!em((function(t){new om,new om(null),new om(1.5),new om(t)}),!0)||tm((function(){return 1!==new om(new nm(2),1,void 0).length})),am=Array,sm=Math.abs,cm=Math.pow,um=Math.floor,lm=Math.log,fm=Math.LN2,hm=Bt,dm=ln,pm=gn,gm=function(t){for(var e=hm(this),r=pm(e),n=arguments.length,o=dm(n>1?arguments[1]:void 0,r),i=n>2?arguments[2]:void 0,a=void 0===i?r:dm(i,r);a>o;)e[o++]=t;return e},vm=i,mm=S,ym=c,bm=vv,wm=rr,xm=Qe,Tm=Fs,Am=Ns,Sm=s,Pm=Ws,km=an,Im=dn,Lm=oh,Em={pack:function(t,e,r){var n,o,i,a=am(r),s=8*r-e-1,c=(1<<s)-1,u=c>>1,l=23===e?cm(2,-24)-cm(2,-77):0,f=t<0||0===t&&1/t<0?1:0,h=0;for((t=sm(t))!=t||t===1/0?(o=t!=t?1:0,n=c):(n=um(lm(t)/fm),t*(i=cm(2,-n))<1&&(n--,i*=2),(t+=n+u>=1?l/i:l*cm(2,1-u))*i>=2&&(n++,i/=2),n+u>=c?(o=0,n=c):n+u>=1?(o=(t*i-1)*cm(2,e),n+=u):(o=t*cm(2,u-1)*cm(2,e),n=0));e>=8;)a[h++]=255&o,o/=256,e-=8;for(n=n<<e|o,s+=e;s>0;)a[h++]=255&n,n/=256,s-=8;return a[--h]|=128*f,a},unpack:function(t,e){var r,n=t.length,o=8*n-e-1,i=(1<<o)-1,a=i>>1,s=o-7,c=n-1,u=t[c--],l=127&u;for(u>>=7;s>0;)l=256*l+t[c--],s-=8;for(r=l&(1<<-s)-1,l>>=-s,s+=e;s>0;)r=256*r+t[c--],s-=8;if(0===l)l=1-a;else{if(l===i)return r?NaN:u?-1/0:1/0;r+=cm(2,e),l-=a}return(u?-1:1)*r*cm(2,l-e)}},Om=Aa,Rm=wo,Cm=tn.f,Dm=gm,Um=Sc,qm=ja,jm=Or,Hm=wm.PROPER,Mm=wm.CONFIGURABLE,zm="ArrayBuffer",Bm="DataView",Fm="prototype",_m="Wrong index",Nm=jm.getterFor(zm),$m=jm.getterFor(Bm),Vm=jm.set,Wm=vm[zm],Gm=Wm,Ym=Gm&&Gm[Fm],Qm=vm[Bm],Xm=Qm&&Qm[Fm],Jm=Object.prototype,Zm=vm.Array,Km=vm.RangeError,ty=mm(Dm),ey=mm([].reverse),ry=Em.pack,ny=Em.unpack,oy=function(t){return[255&t]},iy=function(t){return[255&t,t>>8&255]},ay=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},sy=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},cy=function(t){return ry(t,23,4)},uy=function(t){return ry(t,52,8)},ly=function(t,e,r){Tm(t[Fm],e,{configurable:!0,get:function(){return r(this)[e]}})},fy=function(t,e,r,n){var o=Lm(r),i=$m(t);if(o+e>i.byteLength)throw Km(_m);var a=i.bytes,s=o+i.byteOffset,c=Um(a,s,s+e);return n?c:ey(c)},hy=function(t,e,r,n,o,i){var a=Lm(r),s=$m(t);if(a+e>s.byteLength)throw Km(_m);for(var c=s.bytes,u=a+s.byteOffset,l=n(+o),f=0;f<e;f++)c[u+f]=l[i?f:e-f-1]};if(bm){var dy=Hm&&Wm.name!==zm;if(Sm((function(){Wm(1)}))&&Sm((function(){new Wm(-1)}))&&!Sm((function(){return new Wm,new Wm(1.5),new Wm(NaN),1!=Wm.length||dy&&!Mm})))dy&&Mm&&xm(Wm,"name",zm);else{(Gm=function(t){return Pm(this,Ym),new Wm(Lm(t))})[Fm]=Ym;for(var py,gy=Cm(Wm),vy=0;gy.length>vy;)(py=gy[vy++])in Gm||xm(Gm,py,Wm[py]);Ym.constructor=Gm}Rm&&Om(Xm)!==Jm&&Rm(Xm,Jm);var my=new Qm(new Gm(2)),yy=mm(Xm.setInt8);my.setInt8(0,2147483648),my.setInt8(1,2147483649),!my.getInt8(0)&&my.getInt8(1)||Am(Xm,{setInt8:function(t,e){yy(this,t,e<<24>>24)},setUint8:function(t,e){yy(this,t,e<<24>>24)}},{unsafe:!0})}else Ym=(Gm=function(t){Pm(this,Ym);var e=Lm(t);Vm(this,{type:zm,bytes:ty(Zm(e),0),byteLength:e}),ym||(this.byteLength=e,this.detached=!1)})[Fm],Xm=(Qm=function(t,e,r){Pm(this,Xm),Pm(t,Ym);var n=Nm(t),o=n.byteLength,i=km(e);if(i<0||i>o)throw Km("Wrong offset");if(i+(r=void 0===r?o-i:Im(r))>o)throw Km("Wrong length");Vm(this,{type:Bm,buffer:t,byteLength:r,byteOffset:i,bytes:n.bytes}),ym||(this.buffer=t,this.byteLength=r,this.byteOffset=i)})[Fm],ym&&(ly(Gm,"byteLength",Nm),ly(Qm,"buffer",$m),ly(Qm,"byteLength",$m),ly(Qm,"byteOffset",$m)),Am(Xm,{getInt8:function(t){return fy(this,1,t)[0]<<24>>24},getUint8:function(t){return fy(this,1,t)[0]},getInt16:function(t){var e=fy(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=fy(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return sy(fy(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return sy(fy(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return ny(fy(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return ny(fy(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){hy(this,1,t,oy,e)},setUint8:function(t,e){hy(this,1,t,oy,e)},setInt16:function(t,e){hy(this,2,t,iy,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){hy(this,2,t,iy,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){hy(this,4,t,ay,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){hy(this,4,t,ay,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){hy(this,4,t,cy,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){hy(this,8,t,uy,e,arguments.length>2?arguments[2]:void 0)}});qm(Gm,zm),qm(Qm,Bm);var by={ArrayBuffer:Gm,DataView:Qm},wy=G,xy=Math.floor,Ty=Number.isInteger||function(t){return!wy(t)&&isFinite(t)&&xy(t)===t},Ay=an,Sy=RangeError,Py=function(t){var e=Ay(t);if(e<0)throw Sy("The argument can't be less than 0");return e},ky=RangeError,Iy=function(t,e){var r=Py(t);if(r%e)throw ky("Wrong offset");return r},Ly=kd,Ey=mt,Oy=TypeError,Ry=Do,Cy=function(t){var e=Ry(t);return"BigInt64Array"==e||"BigUint64Array"==e},Dy=fe,Uy=TypeError,qy=function(t){var e=Dy(t,"number");if("number"==typeof e)throw Uy("Can't convert number to bigint");return BigInt(e)},jy=Ks,Hy=h,My=function(t){if(Ly(t))return t;throw Oy(Ey(t)+" is not a constructor")},zy=Bt,By=gn,Fy=hc,_y=ic,Ny=fd,$y=Cy,Vy=Zv.aTypedArrayConstructor,Wy=qy,Gy=yi,Yy=kd,Qy=G,Xy=ne("species"),Jy=Array,Zy=function(t){var e;return Gy(t)&&(e=t.constructor,(Yy(e)&&(e===Jy||Gy(e.prototype))||Qy(e)&&null===(e=e[Xy]))&&(e=void 0)),void 0===e?Jy:e},Ky=Ks,tb=D,eb=Bt,rb=gn,nb=function(t,e){return new(Zy(t))(0===e?0:e)},ob=S([].push),ib=function(t){var e=1==t,r=2==t,n=3==t,o=4==t,i=6==t,a=7==t,s=5==t||i;return function(c,u,l,f){for(var h,d,p=eb(c),g=tb(p),v=Ky(u,l),m=rb(g),y=0,b=f||nb,w=e?b(c,m):r||a?b(c,0):void 0;m>y;y++)if((s||y in g)&&(d=v(h=g[y],y,p),t))if(e)w[y]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:ob(w,h)}else switch(t){case 4:return!1;case 7:ob(w,h)}return i?-1:n||o?o:w}},ab={forEach:ib(0),map:ib(1),filter:ib(2),some:ib(3),every:ib(4),find:ib(5),findIndex:ib(6),filterReject:ib(7)},sb=X,cb=Fs,ub=c,lb=ne("species"),fb=oo,hb=i,db=h,pb=c,gb=im,vb=Zv,mb=by,yb=Ws,bb=b,wb=Qe,xb=Ty,Tb=dn,Ab=oh,Sb=Iy,Pb=pe,kb=Nt,Ib=Do,Lb=G,Eb=gt,Ob=oa,Rb=J,Cb=wo,Db=tn.f,Ub=function(t){var e,r,n,o,i,a,s,c,u=My(this),l=zy(t),f=arguments.length,h=f>1?arguments[1]:void 0,d=void 0!==h,p=_y(l);if(p&&!Ny(p))for(c=(s=Fy(l,p)).next,l=[];!(a=Hy(c,s)).done;)l.push(a.value);for(d&&f>2&&(h=jy(h,arguments[2])),r=By(l),n=new(Vy(u))(r),o=$y(n),e=0;r>e;e++)i=d?h(l[e],e):l[e],n[e]=o?Wy(i):+i;return n},qb=ab.forEach,jb=function(t){var e=sb(t);ub&&e&&!e[lb]&&cb(e,lb,{configurable:!0,get:function(){return this}})},Hb=Fs,Mb=Oe,zb=a,Bb=Po,Fb=Or.get,_b=Or.set,Nb=Or.enforce,$b=Mb.f,Vb=zb.f,Wb=Math.round,Gb=hb.RangeError,Yb=mb.ArrayBuffer,Qb=Yb.prototype,Xb=mb.DataView,Jb=vb.NATIVE_ARRAY_BUFFER_VIEWS,Zb=vb.TYPED_ARRAY_TAG,Kb=vb.TypedArray,tw=vb.TypedArrayPrototype,ew=vb.aTypedArrayConstructor,rw=vb.isTypedArray,nw="BYTES_PER_ELEMENT",ow="Wrong length",iw=function(t,e){ew(t);for(var r=0,n=e.length,o=new t(n);n>r;)o[r]=e[r++];return o},aw=function(t,e){Hb(t,e,{configurable:!0,get:function(){return Fb(this)[e]}})},sw=function(t){var e;return Rb(Qb,t)||"ArrayBuffer"==(e=Ib(t))||"SharedArrayBuffer"==e},cw=function(t,e){return rw(t)&&!Eb(e)&&e in t&&xb(+e)&&e>=0},uw=function(t,e){return e=Pb(e),cw(t,e)?bb(2,t[e]):Vb(t,e)},lw=function(t,e,r){return e=Pb(e),!(cw(t,e)&&Lb(r)&&kb(r,"value"))||kb(r,"get")||kb(r,"set")||r.configurable||kb(r,"writable")&&!r.writable||kb(r,"enumerable")&&!r.enumerable?$b(t,e,r):(t[e]=r.value,t)};pb?(Jb||(zb.f=uw,Mb.f=lw,aw(tw,"buffer"),aw(tw,"byteOffset"),aw(tw,"byteLength"),aw(tw,"length")),fb({target:"Object",stat:!0,forced:!Jb},{getOwnPropertyDescriptor:uw,defineProperty:lw}),cv.exports=function(t,e,r){var n=t.match(/\d+/)[0]/8,o=t+(r?"Clamped":"")+"Array",i="get"+t,a="set"+t,s=hb[o],c=s,u=c&&c.prototype,l={},f=function(t,e){$b(t,e,{get:function(){return function(t,e){var r=Fb(t);return r.view[i](e*n+r.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,o){var i=Fb(t);r&&(o=(o=Wb(o))<0?0:o>255?255:255&o),i.view[a](e*n+i.byteOffset,o,!0)}(this,e,t)},enumerable:!0})};Jb?gb&&(c=e((function(t,e,r,o){return yb(t,u),Bb(Lb(e)?sw(e)?void 0!==o?new s(e,Sb(r,n),o):void 0!==r?new s(e,Sb(r,n)):new s(e):rw(e)?iw(c,e):db(Ub,c,e):new s(Ab(e)),t,c)})),Cb&&Cb(c,Kb),qb(Db(s),(function(t){t in c||wb(c,t,s[t])})),c.prototype=u):(c=e((function(t,e,r,o){yb(t,u);var i,a,s,l=0,h=0;if(Lb(e)){if(!sw(e))return rw(e)?iw(c,e):db(Ub,c,e);i=e,h=Sb(r,n);var d=e.byteLength;if(void 0===o){if(d%n)throw Gb(ow);if((a=d-h)<0)throw Gb(ow)}else if((a=Tb(o)*n)+h>d)throw Gb(ow);s=a/n}else s=Ab(e),i=new Yb(a=s*n);for(_b(t,{buffer:i,byteOffset:h,byteLength:a,length:s,view:new Xb(i)});l<s;)f(t,l++)})),Cb&&Cb(c,Kb),u=c.prototype=Ob(tw)),u.constructor!==c&&wb(u,"constructor",c),Nb(u).TypedArrayConstructor=c,Zb&&wb(u,Zb,o);var h=c!=s;l[o]=c,fb({global:!0,constructor:!0,forced:h,sham:!Jb},l),nw in c||wb(c,nw,n),nw in u||wb(u,nw,n),jb(o)}):cv.exports=function(){};var fw=cv.exports;fw("Int32",(function(t){return function(e,r,n){return t(this,e,r,n)}})),fw("Uint8",(function(t){return function(e,r,n){return t(this,e,r,n)}})),fw("Uint16",(function(t){return function(e,r,n){return t(this,e,r,n)}}));var hw=gn,dw=an,pw=Zv.aTypedArray;(0,Zv.exportTypedArrayMethod)("at",(function(t){var e=pw(this),r=hw(e),n=dw(t),o=n>=0?n:r+n;return o<0||o>=r?void 0:e[o]}));var gw=gm,vw=qy,mw=Do,yw=h,bw=s,ww=Zv.aTypedArray,xw=Zv.exportTypedArrayMethod,Tw=S("".slice);xw("fill",(function(t){var e=arguments.length;ww(this);var r="Big"===Tw(mw(this),0,3)?vw(t):+t;return yw(gw,this,r,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),bw((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})));var Aw=Zg.findLast,Sw=Zv.aTypedArray;(0,Zv.exportTypedArrayMethod)("findLast",(function(t){return Aw(Sw(this),t,arguments.length>1?arguments[1]:void 0)}));var Pw=Zg.findLastIndex,kw=Zv.aTypedArray;(0,Zv.exportTypedArrayMethod)("findLastIndex",(function(t){return Pw(kw(this),t,arguments.length>1?arguments[1]:void 0)}));var Iw=i,Lw=h,Ew=Zv,Ow=gn,Rw=Iy,Cw=Bt,Dw=s,Uw=Iw.RangeError,qw=Iw.Int8Array,jw=qw&&qw.prototype,Hw=jw&&jw.set,Mw=Ew.aTypedArray,zw=Ew.exportTypedArrayMethod,Bw=!Dw((function(){var t=new Uint8ClampedArray(2);return Lw(Hw,t,{length:1,0:3},1),3!==t[1]})),Fw=Bw&&Ew.NATIVE_ARRAY_BUFFER_VIEWS&&Dw((function(){var t=new qw(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));zw("set",(function(t){Mw(this);var e=Rw(arguments.length>1?arguments[1]:void 0,1),r=Cw(t);if(Bw)return Lw(Hw,this,r,e);var n=this.length,o=Ow(r),i=0;if(o+e>n)throw Uw("Wrong length");for(;i<o;)this[e+i]=r[i++]}),!Bw||Fw);var _w=Z.match(/firefox\/(\d+)/i),Nw=!!_w&&+_w[1],$w=/MSIE|Trident/.test(Z),Vw=Z.match(/AppleWebKit\/(\d+)\./),Ww=!!Vw&&+Vw[1],Gw=Qs,Yw=s,Qw=xt,Xw=Oc,Jw=Nw,Zw=$w,Kw=it,tx=Ww,ex=Zv.aTypedArray,rx=Zv.exportTypedArrayMethod,nx=i.Uint16Array,ox=nx&&Gw(nx.prototype.sort),ix=!(!ox||Yw((function(){ox(new nx(2),null)}))&&Yw((function(){ox(new nx(2),{})}))),ax=!!ox&&!Yw((function(){if(Kw)return Kw<74;if(Jw)return Jw<67;if(Zw)return!0;if(tx)return tx<602;var t,e,r=new nx(516),n=Array(516);for(t=0;t<516;t++)e=t%4,r[t]=515-t,n[t]=t-2*e+3;for(ox(r,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(r[t]!==n[t])return!0}));rx("sort",(function(t){return void 0!==t&&Qw(t),ax?ox(this,t):Xw(ex(this),function(t){return function(e,r){return void 0!==t?+t(e,r)||0:r!=r?-1:e!=e?1:0===e&&0===r?1/e>0&&1/r<0?1:-1:e>r}}(t))}),!ax||ix);var sx=gn,cx=function(t,e){for(var r=sx(t),n=new e(r),o=0;o<r;o++)n[o]=t[r-o-1];return n},ux=Zv.aTypedArray,lx=Zv.getTypedArrayConstructor;(0,Zv.exportTypedArrayMethod)("toReversed",(function(){return cx(ux(this),lx(this))}));var fx=gn,hx=xt,dx=function(t,e){for(var r=0,n=fx(e),o=new t(n);n>r;)o[r]=e[r++];return o},px=Zv.aTypedArray,gx=Zv.getTypedArrayConstructor,vx=Zv.exportTypedArrayMethod,mx=S(Zv.TypedArrayPrototype.sort);vx("toSorted",(function(t){void 0!==t&&hx(t);var e=px(this),r=dx(gx(e),e);return mx(r,t)}));var yx=gn,bx=an,wx=RangeError,xx=function(t,e,r,n){var o=yx(t),i=bx(r),a=i<0?o+i:i;if(a>=o||a<0)throw wx("Incorrect index");for(var s=new e(o),c=0;c<o;c++)s[c]=c===a?n:t[c];return s},Tx=Cy,Ax=an,Sx=qy,Px=Zv.aTypedArray,kx=Zv.getTypedArrayConstructor,Ix=Zv.exportTypedArrayMethod,Lx=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();Ix("with",{with:function(t,e){var r=Px(this),n=Ax(t),o=Tx(r)?Sx(e):+e;return xx(r,kx(r),n,o)}}.with,!Lx);var Ex=Uint8Array,Ox=Uint16Array,Rx=Int32Array,Cx=new Ex([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Dx=new Ex([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ux=new Ex([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),qx=function(t,e){for(var r=new Ox(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];var o=new Rx(r[30]);for(n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)o[i]=i-r[n]<<5|n;return{b:r,r:o}},jx=qx(Cx,2),Hx=jx.b,Mx=jx.r;Hx[28]=258,Mx[258]=28;for(var zx=qx(Dx,0).r,Bx=new Ox(32768),Fx=0;Fx<32768;++Fx){var _x=(43690&Fx)>>1|(21845&Fx)<<1;_x=(61680&(_x=(52428&_x)>>2|(13107&_x)<<2))>>4|(3855&_x)<<4,Bx[Fx]=((65280&_x)>>8|(255&_x)<<8)>>1}var Nx=function(t,e,r){for(var n=t.length,o=0,i=new Ox(e);o<n;++o)t[o]&&++i[t[o]-1];var a,s=new Ox(e);for(o=1;o<e;++o)s[o]=s[o-1]+i[o-1]<<1;if(r){a=new Ox(1<<e);var c=15-e;for(o=0;o<n;++o)if(t[o])for(var u=o<<4|t[o],l=e-t[o],f=s[t[o]-1]++<<l,h=f|(1<<l)-1;f<=h;++f)a[Bx[f]>>c]=u}else for(a=new Ox(n),o=0;o<n;++o)t[o]&&(a[o]=Bx[s[t[o]-1]++]>>15-t[o]);return a},$x=new Ex(288);for(Fx=0;Fx<144;++Fx)$x[Fx]=8;for(Fx=144;Fx<256;++Fx)$x[Fx]=9;for(Fx=256;Fx<280;++Fx)$x[Fx]=7;for(Fx=280;Fx<288;++Fx)$x[Fx]=8;var Vx=new Ex(32);for(Fx=0;Fx<32;++Fx)Vx[Fx]=5;var Wx=Nx($x,9,0),Gx=Nx(Vx,5,0),Yx=function(t){return(t+7)/8|0},Qx=function(t,e,r){return(null==e||e<0)&&(e=0),(null==r||r>t.length)&&(r=t.length),new Ex(t.subarray(e,r))},Xx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Jx=function(t,e,r){var n=new Error(e||Xx[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Jx),!r)throw n;return n},Zx=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Kx=function(t,e,r){r<<=7&e;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},tT=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var o=r.length,i=r.slice();if(!o)return{t:sT,l:0};if(1==o){var a=new Ex(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort((function(t,e){return t.f-e.f})),r.push({s:-1,f:25001});var s=r[0],c=r[1],u=0,l=1,f=2;for(r[0]={s:-1,f:s.f+c.f,l:s,r:c};l!=o-1;)s=r[r[u].f<r[f].f?u++:f++],c=r[u!=l&&r[u].f<r[f].f?u++:f++],r[l++]={s:-1,f:s.f+c.f,l:s,r:c};var h=i[0].s;for(n=1;n<o;++n)i[n].s>h&&(h=i[n].s);var d=new Ox(h+1),p=eT(r[l-1],d,0);if(p>e){n=0;var g=0,v=p-e,m=1<<v;for(i.sort((function(t,e){return d[e.s]-d[t.s]||t.f-e.f}));n<o;++n){var y=i[n].s;if(!(d[y]>e))break;g+=m-(1<<p-d[y]),d[y]=e}for(g>>=v;g>0;){var b=i[n].s;d[b]<e?g-=1<<e-d[b]++-1:++n}for(;n>=0&&g;--n){var w=i[n].s;d[w]==e&&(--d[w],++g)}p=e}return{t:new Ex(d),l:p}},eT=function(t,e,r){return-1==t.s?Math.max(eT(t.l,e,r+1),eT(t.r,e,r+1)):e[t.s]=r},rT=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Ox(++e),n=0,o=t[0],i=1,a=function(t){r[n++]=t},s=1;s<=e;++s)if(t[s]==o&&s!=e)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=t[s]}return{c:r.subarray(0,n),n:e}},nT=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},oT=function(t,e,r){var n=r.length,o=Yx(e+2);t[o]=255&n,t[o+1]=n>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var i=0;i<n;++i)t[o+i+4]=r[i];return 8*(o+4+n)},iT=function(t,e,r,n,o,i,a,s,c,u,l){Zx(e,l++,r),++o[256];for(var f=tT(o,15),h=f.t,d=f.l,p=tT(i,15),g=p.t,v=p.l,m=rT(h),y=m.c,b=m.n,w=rT(g),x=w.c,T=w.n,A=new Ox(19),S=0;S<y.length;++S)++A[31&y[S]];for(S=0;S<x.length;++S)++A[31&x[S]];for(var P=tT(A,7),k=P.t,I=P.l,L=19;L>4&&!k[Ux[L-1]];--L);var E,O,R,C,D=u+5<<3,U=nT(o,$x)+nT(i,Vx)+a,q=nT(o,h)+nT(i,g)+a+14+3*L+nT(A,k)+2*A[16]+3*A[17]+7*A[18];if(c>=0&&D<=U&&D<=q)return oT(e,l,t.subarray(c,c+u));if(Zx(e,l,1+(q<U)),l+=2,q<U){E=Nx(h,d,0),O=h,R=Nx(g,v,0),C=g;var j=Nx(k,I,0);Zx(e,l,b-257),Zx(e,l+5,T-1),Zx(e,l+10,L-4),l+=14;for(S=0;S<L;++S)Zx(e,l+3*S,k[Ux[S]]);l+=3*L;for(var H=[y,x],M=0;M<2;++M){var z=H[M];for(S=0;S<z.length;++S){var B=31&z[S];Zx(e,l,j[B]),l+=k[B],B>15&&(Zx(e,l,z[S]>>5&127),l+=z[S]>>12)}}}else E=Wx,O=$x,R=Gx,C=Vx;for(S=0;S<s;++S){var F=n[S];if(F>255){Kx(e,l,E[(B=F>>18&31)+257]),l+=O[B+257],B>7&&(Zx(e,l,F>>23&31),l+=Cx[B]);var _=31&F;Kx(e,l,R[_]),l+=C[_],_>3&&(Kx(e,l,F>>5&8191),l+=Dx[_])}else Kx(e,l,E[F]),l+=O[F]}return Kx(e,l,E[256]),l+O[256]},aT=new Rx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),sT=new Ex(0),cT=function(){var t=1,e=0;return{p:function(r){for(var n=t,o=e,i=0|r.length,a=0;a!=i;){for(var s=Math.min(a+2655,i);a<s;++a)o+=n+=r[a];n=(65535&n)+15*(n>>16),o=(65535&o)+15*(o>>16)}t=n,e=o},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},uT=function(t,e,r,n,o){if(!o&&(o={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new Ex(i.length+t.length);a.set(i),a.set(t,i.length),t=a,o.w=i.length}return function(t,e,r,n,o,i){var a=i.z||t.length,s=new Ex(n+a+5*(1+Math.ceil(a/7e3))+o),c=s.subarray(n,s.length-o),u=i.l,l=7&(i.r||0);if(e){l&&(c[0]=i.r>>3);for(var f=aT[e-1],h=f>>13,d=8191&f,p=(1<<r)-1,g=i.p||new Ox(32768),v=i.h||new Ox(p+1),m=Math.ceil(r/3),y=2*m,b=function(e){return(t[e]^t[e+1]<<m^t[e+2]<<y)&p},w=new Rx(25e3),x=new Ox(288),T=new Ox(32),A=0,S=0,P=i.i||0,k=0,I=i.w||0,L=0;P+2<a;++P){var E=b(P),O=32767&P,R=v[E];if(g[O]=R,v[E]=O,I<=P){var C=a-P;if((A>7e3||k>24576)&&(C>423||!u)){l=iT(t,c,0,w,x,T,S,k,L,P-L,l),k=A=S=0,L=P;for(var D=0;D<286;++D)x[D]=0;for(D=0;D<30;++D)T[D]=0}var U=2,q=0,j=d,H=O-R&32767;if(C>2&&E==b(P-H))for(var M=Math.min(h,C)-1,z=Math.min(32767,P),B=Math.min(258,C);H<=z&&--j&&O!=R;){if(t[P+U]==t[P+U-H]){for(var F=0;F<B&&t[P+F]==t[P+F-H];++F);if(F>U){if(U=F,q=H,F>M)break;var _=Math.min(H,F-2),N=0;for(D=0;D<_;++D){var $=P-H+D&32767,V=$-g[$]&32767;V>N&&(N=V,R=$)}}}H+=(O=R)-(R=g[O])&32767}if(q){w[k++]=268435456|Mx[U]<<18|zx[q];var W=31&Mx[U],G=31&zx[q];S+=Cx[W]+Dx[G],++x[257+W],++T[G],I=P+U,++A}else w[k++]=t[P],++x[t[P]]}}for(P=Math.max(P,I);P<a;++P)w[k++]=t[P],++x[t[P]];l=iT(t,c,u,w,x,T,S,k,L,P-L,l),u||(i.r=7&l|c[l/8|0]<<3,l-=7,i.h=v,i.p=g,i.i=P,i.w=I)}else{for(P=i.w||0;P<a+u;P+=65535){var Y=P+65535;Y>=a&&(c[l/8|0]=u,Y=a),l=oT(c,l+1,t.subarray(P,Y))}i.i=a}return Qx(s,0,n+Yx(l)+o)}(t,null==e.level?6:e.level,null==e.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,r,n,o)},lT=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8};function fT(t,e){e||(e={});var r=cT();r.p(t);var n=uT(t,e,e.dictionary?6:2,4);return function(t,e){var r=e.level,n=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var o=cT();o.p(e.dictionary),lT(t,2,o.d())}}(n,e),lT(n,n.length-4,r.d()),n}var hT="undefined"!=typeof TextEncoder&&new TextEncoder,dT="undefined"!=typeof TextDecoder&&new TextDecoder;try{dT.decode(sT,{stream:!0}),1}catch(t){}function pT(t,e){if(e){for(var r="",n=0;n<t.length;n+=16384)r+=String.fromCharCode.apply(null,t.subarray(n,n+16384));return r}if(dT)return dT.decode(t);var o=function(t){for(var e="",r=0;;){var n=t[r++],o=(n>127)+(n>223)+(n>239);if(r+o>t.length)return{s:e,r:Qx(t,r-1)};o?3==o?(n=((15&n)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,e+=String.fromCharCode(55296|n>>10,56320|1023&n)):e+=1&o?String.fromCharCode((31&n)<<6|63&t[r++]):String.fromCharCode((15&n)<<12|(63&t[r++])<<6|63&t[r++]):e+=String.fromCharCode(n)}}(t),i=o.s;return(r=o.r).length&&Jx(8),i}const gT=()=>{if(_g()){var t,e;const n=sessionStorage.getItem("page-spy-room");var r;return n?(null===(r=JSON.parse(n))||void 0===r?void 0:r.address)||"--":(null===(t=window.$pageSpy)||void 0===t?void 0:t.address)||(null===(e=window.PageSpy)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.address)||"--"}return"--"},vT=t=>t.toString().replace(/[^\w]/g,"_"),mT=t=>pT(fT(function(t,e){if(e){for(var r=new Ex(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}if(hT)return hT.encode(t);var o=t.length,i=new Ex(t.length+(t.length>>1)),a=0,s=function(t){i[a++]=t};for(n=0;n<o;++n){if(a+5>i.length){var c=new Ex(a+8+(o-n<<1));c.set(i),i=c}var u=t.charCodeAt(n);u<128||e?s(u):u<2048?(s(192|u>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++n))>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|63&u)):(s(224|u>>12),s(128|u>>6&63),s(128|63&u))}return Qx(i,0,a)}(JSON.stringify(t)),{level:9}),!0);function yT(t){return t>=10?t.toString():"0".concat(t)}function bT(t){const e=parseInt(String(t/1e3),10),r=Math.floor(e/3600),n=Math.floor((e-3600*r)/60),o=Math.floor(e-3600*r-60*n);return"".concat(yT(r),":").concat(yT(n),":").concat(yT(o))}const wT={zh:{title:"离线日志",uploadAll:"上传全量",downloadAll:"下载全量",uploadPeriods:"上传时间段",downloadPeriods:"下载时间段",readying:"准备数据...",ready:"数据已就绪",success:"处理成功",fail:"处理失败",invalid:"无法上传",copied:"已复制调试连接",selectPeriod:"选择时间段",periodDuration:"每段时长",remark:"备注",remarkPlaceholder:"上传后，可以看到备注信息",from:"从",to:"到",refreshed:"已刷新",minutes:"分钟",eventCountNotEnough:"时间段内的数据量不足以回放",invalidPeriods:"选择的开始时间无效",invalidParams:"调用 onOfflineLog() 的参数不正确"},en:{title:"Offline log",uploadAll:"Upload All",downloadAll:"Download All",uploadPeriods:"Upload Periods",downloadPeriods:"Download Periods",readying:"Handling...",ready:"Ready",success:"Succeed",fail:"Failed",invalid:"Cannot upload",copied:"Replay url copied",selectPeriod:"Select period",periodDuration:"Each duration",remark:"Remark",remarkPlaceholder:"After uploading, you can view the remark information.",from:"From",to:"To",refreshed:"Refreshed",minutes:"minutes",eventCountNotEnough:"The data within the time period is insufficient for playback",invalidPeriods:"The start of selected period is invalid",invalidParams:"Incorrect params which you call onOfflineLog()"}},xT=function(){const t=navigator.languages;return["zh-CN","zh-HK","zh-TW","zh","zh-Hans-CN"].some((e=>t.includes(e)))}()?wT.zh:wT.en;let TT=0;const AT="PERIOD_DIVIDE_IDENTIFIER",ST=10485760;class PT{constructor(t){var r;e(this,"stock",[]),e(this,"container",[]),e(this,"maximum",ST),e(this,"periodList",{stable:[],active:[]}),Ng(r=null==t?void 0:t.maximum)&&r>=0&&(this.maximum=t.maximum),_g()&&window.addEventListener("beforeunload",(()=>{this.stock.forEach((t=>{URL.revokeObjectURL(t)}))}))}add(t){const e=0===this.periodList.active.length&&0===this.stock.length&&0===this.container.length,r=t===AT;try{if((e||r)&&(this.periodList.active.push({time:new Date,stockIndex:null,dataIndex:this.container.length}),r))return!0;if(0===this.maximum)return this.container.push(t),!0;const{size:n}=new Blob([JSON.stringify(t)],{type:"application/json"}),o=TT+n;if(o>=this.maximum){const e=URL.createObjectURL(new Blob([JSON.stringify(this.container)],{type:"application/json"}));this.stock.push(e),this.flushActivePeriod(),this.container=[t],TT=0}else this.container.push(t),TT=o;return!0}catch(t){return!1}}flushActivePeriod(){const t=this.periodList.active.map((t=>({...t,stockIndex:this.stock.length-1})));this.periodList.stable.push(...t),this.periodList.active=[]}getPeriodList(){const t={time:new Date,stockIndex:null,dataIndex:this.container.length};return[...this.periodList.stable,...this.periodList.active,t]}async getPeriodData(t){const{head:e,tail:r}=this.getHeadAndTailPeriods(t),{endTime:n}=t,{stockIndex:o,dataIndex:i}=e||{},{stockIndex:a,dataIndex:s}=r||{};let c=[];if(o||a){if(!o||!Ng(o))throw new Error(xT.invalidPeriods);c=(await Promise.all(this.stock.map((async(t,e)=>{try{if(e<o||Ng(a)&&e>a)return null;const r=await fetch(t);if(!r.ok)return null;const n=await r.json();return e===o?e===a?n.slice(i,s):n.slice(i):e===a?n.slice(0,s):n}catch(t){return null}})))).reduce(((t,e)=>e?t.concat(e):t),[]),Ng(a)||(c=c.concat(this.container.slice(0,s)))}else c=this.container.slice(i,s);return c.filter((t=>t.timestamp<=n))}getHeadAndTailPeriods(t){let{startTime:e,endTime:r}=t;const n=this.getPeriodList(),o=n.findLast((t=>t.time.getTime()<=e)),i=n.find((t=>t.time.getTime()>=r));return{head:o,tail:i}}async getAll(){const t=await Promise.all(this.stock.map((async t=>{try{const e=await fetch(t);return e.ok?await e.json():null}catch(t){return null}})));return t.filter(Boolean).reduce(((t,e)=>t.concat(e)),[]).concat(this.container)}clear(){this.stock.forEach((t=>URL.revokeObjectURL(t))),this.stock=[],this.container=[],this.periodList={stable:[],active:[]}}}var kT=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,r=[],n=0;n<t.rangeCount;n++)r.push(t.getRangeAt(n));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||r.forEach((function(e){t.addRange(e)})),e&&e.focus()}},IT={"text/plain":"Text","text/html":"Url",default:"Text"};var LT=function(t,e){var r,n,o,i,a,s,c=!1;e||(e={}),r=e.debug||!1;try{if(o=kT(),i=document.createRange(),a=document.getSelection(),(s=document.createElement("span")).textContent=t,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(n){if(n.stopPropagation(),e.format)if(n.preventDefault(),void 0===n.clipboardData){r&&console.warn("unable to use e.clipboardData"),r&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=IT[e.format]||IT.default;window.clipboardData.setData(o,t)}else n.clipboardData.clearData(),n.clipboardData.setData(e.format,t);e.onCopy&&(n.preventDefault(),e.onCopy(n.clipboardData))})),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(o){r&&console.error("unable to copy using execCommand: ",o),r&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(o){r&&console.error("unable to copy using clipboardData: ",o),r&&console.error("falling back to prompt"),n=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(n,t)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return c},ET=n(LT);var OT="content-LZZnQ",RT="timeInfo-Icd9h",CT="recorder-BbZe0",DT="duration-xNczp",UT="periodInfo-HnHms",qT="label-attmz",jT="periodTips-F91zM",HT="refreshButton-DT1il",MT="selectPeriod-h8D6d",zT="track-g8egA",BT="range-cWHDf",FT="remarkInfo-0rspp";!function(t,e){void 0===e&&(e={});var r=e.insertAt;if(t&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===r&&n.firstChild?n.insertBefore(o,n.firstChild):n.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}(".content-LZZnQ {\n  padding: 1.42857143em 0;\n  --mono-font: 'Roboto Mono', Menlo, 'Fira Mono', 'Source Code Pro', monospace;\n}\n.timeInfo-Icd9h {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: 0.57142857em;\n}\n.timeInfo-Icd9h .recorder-BbZe0 {\n  width: 1.07142857em;\n  height: 1.07142857em;\n  border-radius: 1.07142857em;\n  background-color: #ff0f0f;\n}\n.timeInfo-Icd9h .recorder-BbZe0 {\n  animation: fade-uxQdC 0.8s ease-in-out infinite alternate;\n}\n@keyframes fade-uxQdC {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0.05;\n  }\n}\n.timeInfo-Icd9h .duration-xNczp {\n  color: #333;\n  font-size: 2.28571429em;\n  font-weight: 700;\n  font-family: var(--mono-font);\n}\n.periodInfo-HnHms {\n  margin-top: 1.42857143em;\n}\n.periodInfo-HnHms .label-attmz {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2.28571429em;\n}\n.periodInfo-HnHms .label-attmz .periodTips-F91zM {\n  display: flex;\n  align-items: center;\n  gap: 0.28571429em;\n}\n.periodInfo-HnHms .label-attmz .periodTips-F91zM b {\n  font-size: 1em;\n  color: #333;\n}\n.periodInfo-HnHms .label-attmz .periodTips-F91zM span {\n  color: #888;\n  font-size: 0.85714286em;\n}\n.periodInfo-HnHms .label-attmz .refreshButton-DT1il {\n  background: none;\n  border: none;\n  outline: none;\n  cursor: pointer;\n}\n.periodInfo-HnHms .label-attmz .refreshButton-DT1il:disabled {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .label-attmz .refreshButton-DT1il:disabled svg {\n  color: #888;\n}\n.periodInfo-HnHms .label-attmz .refreshButton-DT1il svg {\n  width: 1.71428571em;\n  height: 1.71428571em;\n  color: var(--primary-color);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d {\n  position: relative;\n  width: 92%;\n  margin: 0 auto;\n  --thumb-size: 1.71428571em;\n  --thumb-shadow: 0 0 0 5px var(--primary-color) inset, 0 0 0 99px white inset;\n  --thumb-shadow-hover: 0 0 0 7px var(--primary-color) inset,\n      0 0 0 99px white inset;\n  --thumb-shadow-disabled: 0 0 0 5px #888 inset, 0 0 0 99px white inset;\n  --track-size: calc(var(--thumb-size) / 2);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG .track-g8egA .range-cWHDf {\n  background-color: #d7d7d7;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled {\n  --thumb-shadow: var(--thumb-shadow-disabled);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-webkit-slider-thumb {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-moz-range-thumb {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-ms-thumb {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA {\n  width: 100%;\n  height: var(--track-size);\n  background-color: #ddd;\n  border-radius: var(--track-size);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf {\n  --left: 0;\n  --right: 0;\n  --min-text: 'From';\n  --max-text: 'To';\n  position: absolute;\n  left: var(--left);\n  right: var(--right);\n  height: 100%;\n  background-color: var(--primary-color);\n  border-radius: var(--track-size);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf[data-min-text-position='bottom']::before {\n  top: calc(var(--thumb-size));\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf[data-max-text-position='bottom']::after {\n  top: calc(var(--thumb-size));\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::before,\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::after {\n  position: absolute;\n  top: calc(var(--thumb-size) * -1);\n  transition: top 0.15s ease-in-out;\n  font-size: 1em;\n  font-weight: 500;\n  font-family: var(--mono-font);\n  color: #999;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::before {\n  content: var(--min-text);\n  left: 0;\n  transform: translateX(-50%) scale(0.7);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::after {\n  content: var(--max-text);\n  right: 0;\n  transform: translateX(50%) scale(0.7);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input {\n  -webkit-appearance: none;\n          appearance: none;\n  pointer-events: none;\n  position: absolute;\n  left: calc(var(--track-size) * -1);\n  top: 0;\n  width: calc(100% + var(--thumb-size));\n  height: var(--track-size);\n  background-color: transparent;\n  z-index: 2;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input:hover {\n  --thumb-shadow: var(--thumb-shadow-hover);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n          appearance: none;\n  pointer-events: auto;\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  border-radius: var(--thumb-size);\n  background-color: #fff;\n  box-shadow: var(--thumb-shadow);\n  cursor: grab;\n  -webkit-transition: 0.15s;\n  transition: 0.15s;\n  border: 0.14285714em solid white;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input::-moz-range-thumb {\n  appearance: none;\n  pointer-events: auto;\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  border-radius: var(--thumb-size);\n  background-color: #fff;\n  box-shadow: var(--thumb-shadow);\n  cursor: grab;\n  -moz-transition: 0.15s;\n  transition: 0.15s;\n  border: 0.14285714em solid white;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input::-ms-thumb {\n  appearance: none;\n  pointer-events: auto;\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  border-radius: var(--thumb-size);\n  background-color: #fff;\n  box-shadow: var(--thumb-shadow);\n  cursor: grab;\n  -ms-transition: 0.15s;\n  transition: 0.15s;\n  border: 0.14285714em solid white;\n}\n.remarkInfo-0rspp {\n  margin-top: 1.42857143em;\n}\n.remarkInfo-0rspp .label-attmz {\n  margin-bottom: 0.85714286em;\n  font-size: 1em;\n  font-weight: 700;\n  color: #333;\n}\n.remarkInfo-0rspp textarea {\n  width: 100%;\n  padding: 0.42857143em 0.57142857em;\n  background-color: #fcfcfc;\n  border-radius: 0.28571429em;\n  box-sizing: border-box;\n  border: 1px solid #999;\n  outline: none;\n}\n.remarkInfo-0rspp textarea:focus,\n.remarkInfo-0rspp textarea:active {\n  border-color: var(--primary-color);\n}\n");function _T(t){return new Date(t).toLocaleTimeString("en",{hour12:!1})}function NT(t){return t<10?.2:t<30?.16:.135}const $T=t=>{let{plugin:e,modal:r,toast:n}=t;const o=(new DOMParser).parseFromString('\n    \x3c!-- Add button for default modal --\x3e\n    <button class="page-spy-btn" data-dashed id="open-log-action">\n      '.concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 21v-3m0 0H9.197c-1.118 0-1.678 0-2.105-.218a2 2 0 0 1-.874-.874C6 16.48 6 15.92 6 14.8V6m12 12h3M6 6H3m3 0V3m4 3h4.8c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.427.218.987.218 2.105V14"/>\n  </svg>',"\n      <span>").concat(xT.title,'</span>\n    </button>\n\n    \x3c!-- Show modal content on button#open-log-action clicked --\x3e\n    <div class="').concat(OT,'">\n      <div class="').concat(RT,'">\n        <div class="').concat(CT,'"></div>\n        <div class="').concat(DT,'"></div>\n      </div>\n      <div class="').concat(UT,'">\n        <div class="').concat(qT,'">\n          <div class="').concat(jT,'">\n            <b>').concat(xT.selectPeriod,'</b>\n          </div>\n          <button class="').concat(HT,'">').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M3.5 12q0-3.616 2.664-6.058T12.5 3.5v-.692q0-.242.217-.354t.43.03l2.163 1.62q.323.242.323.646t-.323.646l-2.164 1.62q-.212.142-.429.03t-.217-.354V6Q9.86 6 7.93 7.718T6 12q0 .883.247 1.713t.73 1.556q.217.323.167.69t-.348.583l-.407.298q-.373.293-.818.227t-.711-.444q-.668-1.017-1.014-2.2Q3.5 13.241 3.5 12m8 8.5v.692q0 .243-.217.354q-.217.112-.43-.03l-2.162-1.62q-.324-.242-.324-.646t.323-.646l2.164-1.62q.212-.142.429-.03t.217.354V18q2.64 0 4.57-1.718T18 12q0-.883-.247-1.722q-.247-.84-.73-1.566q-.217-.323-.167-.69t.348-.583l.407-.298q.373-.293.818-.225t.712.442q.661 1.036 1.01 2.21T20.5 12q0 3.616-2.664 6.058T11.5 20.5"/>\n  </svg>\n','</button>\n        </div>\n        <div class="').concat(MT,'">\n          <div class="').concat(zT,'">\n            <div class="').concat(BT,'"></div>\n          </div>\n          <input type="range" id="period-min" min="0" step="1" />\n          <input type="range" id="period-max" min="0" step="1" />\n        </div>\n      </div>\n      <div class="').concat(FT,'">\n        <div class="').concat(qT,'">').concat(xT.remark,'</div>\n        <textarea rows="5" id="harbor-remark" placeholder="').concat(xT.remarkPlaceholder,'"></textarea>\n      </div>\n    </div>\n\n    \x3c!-- Upload / Download log button --\x3e\n    <button class="page-spy-btn" data-primary id="upload-all">\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M6 20q-.825 0-1.412-.587T4 18v-2q0-.425.288-.712T5 15t.713.288T6 16v2h12v-2q0-.425.288-.712T19 15t.713.288T20 16v2q0 .825-.587 1.413T18 20zm5-12.15L9.125 9.725q-.3.3-.712.288T7.7 9.7q-.275-.3-.288-.7t.288-.7l3.6-3.6q.15-.15.325-.212T12 4.425t.375.063t.325.212l3.6 3.6q.3.3.288.7t-.288.7q-.3.3-.712.313t-.713-.288L13 7.85V15q0 .425-.288.713T12 16t-.712-.288T11 15z"/>\n  </svg>',"\n      <span>").concat(xT.uploadAll,'</span>\n    </button>\n    <button class="page-spy-btn" data-primary id="download-all">\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M12 15.575q-.2 0-.375-.062T11.3 15.3l-3.6-3.6q-.3-.3-.288-.7t.288-.7q.3-.3.713-.312t.712.287L11 12.15V5q0-.425.288-.712T12 4t.713.288T13 5v7.15l1.875-1.875q.3-.3.713-.288t.712.313q.275.3.288.7t-.288.7l-3.6 3.6q-.15.15-.325.213t-.375.062M6 20q-.825 0-1.412-.587T4 18v-2q0-.425.288-.712T5 15t.713.288T6 16v2h12v-2q0-.425.288-.712T19 15t.713.288T20 16v2q0 .825-.587 1.413T18 20z"/>\n  </svg>',"\n      <span>").concat(xT.downloadAll,'</span>\n    </button>\n    <button class="page-spy-btn" data-dashed id="upload-periods">\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M9.8 21.75q-3.425-.775-5.613-3.5T2 12t2.188-6.25T9.8 2.25q.475-.125.838.175t.362.8q0 .35-.2.625t-.55.35Q7.5 4.825 5.75 7T4 12t1.75 5t4.5 2.8q.35.075.55.35t.2.625q0 .5-.362.8t-.838.175m4.4 0q-.475.125-.837-.175t-.363-.8q0-.35.2-.625t.55-.35q.675-.15 1.313-.413t1.212-.637q.275-.2.613-.15t.587.3q.35.35.3.813t-.45.737q-.725.45-1.513.775t-1.612.525m4.7-4.25q-.25-.25-.3-.587t.15-.613q.375-.575.638-1.225t.412-1.325q.075-.35.35-.537t.625-.188q.5 0 .8.363t.175.837q-.2.825-.525 1.613t-.775 1.512q-.275.4-.737.45t-.813-.3m1.875-6.5q-.35 0-.625-.2t-.35-.55q-.15-.675-.413-1.312t-.637-1.213q-.2-.3-.15-.637t.3-.588q.35-.35.813-.3t.737.475q.45.725.775 1.513T21.75 9.8q.125.475-.175.838t-.8.362m-4.5-5.75q-.575-.375-1.212-.638T13.75 4.2q-.35-.075-.55-.35t-.2-.625q0-.5.363-.8t.837-.175q.825.2 1.613.525t1.512.775q.425.275.475.738t-.3.812q-.25.25-.587.3t-.638-.15M11.975 17q-.425 0-.712-.288T10.975 16v-5.125l-1.875 1.9q-.3.3-.712.3t-.713-.3t-.312-.712t.287-.713l3.625-3.65q.275-.275.7-.275t.7.275l3.575 3.575q.3.3.313.725t-.288.725t-.725.3t-.725-.3l-1.85-1.85V16q0 .425-.287.713t-.713.287"/>\n  </svg>\n',"\n      <span>").concat(xT.uploadPeriods,'</span>\n    </button>\n    <button class="page-spy-btn" data-dashed id="download-periods">\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M10.975 21.95q-1.9-.2-3.537-1.062t-2.838-2.2t-1.887-3.063t-.688-3.65q0-3.875 2.563-6.712T11 2v2q-3.025.425-5 2.688t-1.975 5.287T6 17.263t4.975 2.687zm1-4.95L6.95 11.95l1.425-1.425l2.6 2.6V7h2v6.125l2.575-2.575L16.975 12zm1 4.95v-2q1.075-.15 2.063-.575t1.837-1.075l1.45 1.45q-1.175.925-2.525 1.488t-2.825.712m3.95-16.3Q16.05 5 15.063 4.575T13 4V2q1.475.15 2.825.713t2.5 1.487zm2.8 12.65l-1.4-1.425q.65-.85 1.05-1.837t.55-2.063h2.05q-.2 1.475-.75 2.838t-1.5 2.487m.2-7.325q-.15-1.075-.55-2.062t-1.05-1.838l1.4-1.425q.95 1.125 1.525 2.488t.725 2.837z"/>\n  </svg>\n',"\n      <span>").concat(xT.downloadPeriods,"</span>\n    </button>\n    "),"text/html"),i=t=>o.querySelector.call(o,t),a=t=>i(".".concat(t)),s=i("#open-log-action"),c=a(OT),u=a(HT),l=a(BT),f=i("#period-min"),h=i("#period-max"),d=i("#harbor-remark"),p=i("#upload-all"),g=i("#download-all"),v=i("#upload-periods"),m=i("#download-periods"),y={max:0,periods:[],firstTime:0,lastTime:0},b=()=>{const{max:t,firstTime:e}=y,r=+f.value,n=+h.value,o=r/t,i=1-n/t;l.style.setProperty("--left","".concat((100*o).toFixed(3),"%")),l.style.setProperty("--right","".concat((100*i).toFixed(3),"%"));const a=e+1e3*r,s=e+1e3*n;l.style.setProperty("--min-text",'"'.concat(_T(a),'"')),l.style.setProperty("--max-text",'"'.concat(_T(s),'"'))},w=()=>{const t=e.harbor.getPeriodList(),r=t[0].time.getTime(),n=t[t.length-1].time.getTime(),o=Math.floor((n-r)/1e3),i=o.toString();f.max=i,f.value="0",h.max=i,h.value=i,y.max=o,y.periods=t,y.firstTime=r,y.lastTime=n,b()},x=()=>{const{firstTime:t}=y;return{startTime:t+1e3*+f.value,endTime:t+1e3*+h.value,remark:d.value}};u.addEventListener("click",(()=>{u.disabled=!0,w(),n.message(xT.refreshed),u.disabled=!1})),f.addEventListener("input",(function(){const t=+h.value,e=+this.value;if(e>t-1)return void(f.value=String(t-1));(t-e)/y.max<=NT(y.max)?l.dataset.maxTextPosition="bottom":l.dataset.maxTextPosition="top",l.dataset.minTextPosition="top",b()})),h.addEventListener("input",(function(){const t=+f.value,e=+this.value;if(e<t+1)return void(h.value=String(t+1));(e-t)/y.max<=NT(y.max)?l.dataset.minTextPosition="bottom":l.dataset.minTextPosition="top",l.dataset.maxTextPosition="top",b()})),p.addEventListener("click",(async()=>{try{p.disabled=!0;const t=await e.onOfflineLog("upload",{clearCache:!1,remark:d.value}),r=ET(t);Vg.info("".concat(xT.success,": ").concat(t)),n.message(r?xT.copied:xT.success)}catch(t){Vg.error(t),n.message(t.message)}finally{p.disabled=!1}})),g.addEventListener("click",(async()=>{try{g.disabled=!0,await e.onOfflineLog("download",{clearCache:!1,remark:d.value}),n.message(xT.success)}catch(t){Vg.error(t),n.message(t.message)}finally{g.disabled=!1}})),v.addEventListener("click",(async()=>{try{v.disabled=!0;const t=await e.onOfflineLog("upload-periods",x()),r=ET(t);Vg.info("".concat(xT.success,": ").concat(t)),n.message(r?xT.copied:xT.success)}catch(t){Vg.error(t),n.message(t.message)}finally{v.disabled=!1}})),m.addEventListener("click",(async()=>{try{m.disabled=!0,await e.onOfflineLog("download-periods",x()),n.message(xT.success)}catch(t){Vg.error(t),n.message(t.message)}finally{m.disabled=!1}}));let T=null;null==s||s.addEventListener("click",(()=>{T&&clearInterval(T);const t=null==c?void 0:c.querySelector(".".concat(DT));t&&(t.textContent=bT(Date.now()-e.startTimestamp),T=setInterval((()=>{t.textContent=bT(Date.now()-e.startTimestamp)}),1e3)),w(),r.show({content:c,footer:[p,v,g,m]})})),r.build({footer:[...r.config.footer,s]})},VT={maximum:ST,caredData:{console:!0,network:!0,storage:!0,system:!0,"rrweb-event":!0},filename:()=>(new Date).toLocaleString(),onDownload:null,onAfterUpload:null};class WT{constructor(t){e(this,"enforce","pre"),e(this,"name","DataHarborPlugin"),e(this,"apiBase",""),e(this,"isPaused",!1),e(this,"startTimestamp",0),e(this,"periodTimer",null),e(this,"$socketStore",null),e(this,"$pageSpyConfig",null),this.$harborConfig={...VT,...t},this.harbor=new PT({maximum:this.$harborConfig.maximum})}async onInit(t){let{socketStore:e,config:r}=t;if(WT.hasInited)return;WT.hasInited=!0,this.$pageSpyConfig=r,this.$socketStore=e;const{api:n,enableSSL:o,offline:i}=r;if(i||n){const t=o?"https://":"http://";this.apiBase=Wg("".concat(t).concat(n))}else Vg.warn("Cannot upload log to PageSpy for miss 'api' configuration. See: ",r);this.initPeriodTimer(),this.$socketStore.addListener("public-data",(t=>{if(this.isPaused||!this.isCaredPublicData(t))return;const e=((t,e)=>(sessionStorage.getItem("harbor-debug")&&Vg.unproxy.debug("harbor-debug",e),{type:t,timestamp:Date.now(),data:mT(e)}))(t.type,t.data);this.startTimestamp||(this.startTimestamp=e.timestamp);this.harbor.add(e)||Vg.warn("[".concat(this.name,"] Fail to save data in harbor "),e)}))}initPeriodTimer(){this.periodTimer&&clearInterval(this.periodTimer),this.periodTimer=setInterval((()=>{var t;this.harbor.add(AT),null===(t=this.$socketStore)||void 0===t||t.dispatchEvent("harbor-clear",null)}),3e5)}onMounted(t){let{modal:e,toast:r}=t;WT.hasMounted||(WT.hasMounted=!0,e&&r&&$T({plugin:this,modal:e,toast:r}))}async getParams(t,e){var r;let n;if(["download-periods","upload-periods"].includes(t)){if(!(t=>!!t&&["startTime","endTime"].every((e=>Object.prototype.hasOwnProperty.call(t,e))))(e)||e.startTime>e.endTime)throw new Error(xT.invalidParams);n=await this.harbor.getPeriodData(e);const t=e.startTime,r=n[0].timestamp,o=t<r?r:t,i=n.filter((t=>t.timestamp>=o&&t.timestamp<=e.endTime)).length;if(i<5)throw new Error(xT.eventCountNotEnough);n.push({type:"meta",timestamp:e.endTime,data:mT({ua:navigator.userAgent,title:document.title,url:window.location.href,...e,startTime:o})})}else{var o;n=await this.harbor.getAll();const t=n[0].timestamp,r=n[n.length-1].timestamp;n.push({type:"meta",timestamp:r,data:mT({ua:navigator.userAgent,title:document.title,url:window.location.href,startTime:t,endTime:r,remark:null!==(o=null==e?void 0:e.remark)&&void 0!==o?o:""})})}const{onDownload:i,filename:a}=this.$harborConfig;if("download"===t||"download-periods"===t)return{data:n,filename:a,customDownload:i};const{project:s="",title:c=""}=this.$pageSpyConfig||{},u={project:s,title:c,deviceId:gT(),userAgent:navigator.userAgent,remark:null!==(r=null==e?void 0:e.remark)&&void 0!==r?r:""};if("upload"===t||"upload-periods"===t){const t=((t,e)=>{const r=new Blob([JSON.stringify(t)],{type:"application/json"});return new File([r],"".concat(vT(e),".json"),{type:"application/json"})})(n,a()),e=new FormData;return e.append("log",t),{url:"".concat(this.apiBase,"/api/v1/log/upload?").concat(new URLSearchParams(u).toString()),body:e}}}async onOfflineLog(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{clearCache:!0,remark:""};const r=await this.getParams(t,e),n=["upload","upload-periods"].includes(t)?await(async t=>{let{url:e,body:r}=t;try{const t=await fetch(e,{method:"POST",body:r});if(!t.ok)return Vg.warn("Upload failed"),null;const n=await t.json();return n.success?n:(Vg.warn(n.message),null)}catch(t){return Vg.error(t.message),null}})(r):await(async t=>{let{data:e,filename:r,customDownload:n}=t;if(n)return void await n(e);const o=new Blob([JSON.stringify(e)],{type:"application/json"}),i=document.getElementsByTagName("body")[0]||document.documentElement;if(!i)throw new Error("Download file failed because cannot find the document.body & document.documentElement");const a=URL.createObjectURL(o),s=document.createElement("a");s.download="".concat(vT(r()),".json"),s.href=a,s.style.display="none",i.insertAdjacentElement("beforeend",s),s.click(),i.removeChild(s),URL.revokeObjectURL(a),Vg.info("".concat(xT.success))})(r);if(!0===e.clearCache&&this.clearAndNotify(),n){var o,i;const t=this.getDebugUrl(n);return null===(o=(i=this.$harborConfig).onAfterUpload)||void 0===o||o.call(i,t,r.remark),t}}async upload(t){return await this.onOfflineLog("upload",t)}async uploadPeriods(t){return await this.onOfflineLog("upload-periods",t)}async download(t){await this.onOfflineLog("download",t)}async downloadPeriods(t){await this.onOfflineLog("download-periods",t)}onReset(){this.periodTimer&&(clearInterval(this.periodTimer),this.periodTimer=null),this.clearAndNotify(!1),WT.hasInited=!1,WT.hasMounted=!1}pause(){this.isPaused=!0}resume(){this.isPaused=!1}reharbor(){this.initPeriodTimer(),this.clearAndNotify(),this.isPaused&&(this.isPaused=!1)}clearAndNotify(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e;(this.harbor.clear(),this.startTimestamp=0,t)&&(null===(e=this.$socketStore)||void 0===e||e.dispatchEvent("harbor-clear",null))}isCaredPublicData(t){if(!t)return!1;const{type:e}=t,{caredData:r}=this.$harborConfig;switch(e){case"console":case"storage":case"system":case"rrweb-event":return r[e];case"network":const{url:n}=t.data,o=this.harbor.stock.includes(n);return!(!r.network||o);default:return!1}}getDebugUrl(t){var e;if(!t||!t.success)return"";const r="".concat(Wg(null===(e=this.$pageSpyConfig)||void 0===e?void 0:e.clientOrigin),"/#/replay"),n="".concat(this.apiBase,"/api/v1/log/download?fileId=").concat(t.data.fileId);return"".concat(r,"?url=").concat(n)}}return e(WT,"hasInited",!1),e(WT,"hasMounted",!1),WT}();
//# sourceMappingURL=index.min.js.map
