var DataHarborPlugin=function(){"use strict";function t(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}function e(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||function(){return this}()||n||Function("return this")(),a={},s=function(t){try{return!!t()}catch(t){return!0}},c=!s((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),u=!s((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")})),l=u,f=Function.prototype.call,h=l?f.bind(f):function(){return f.apply(f,arguments)},d={},p={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,v=g&&!p.call({1:2},1);d.f=v?function(t){var e=g(this,t);return!!e&&e.enumerable}:p;var m,y,b=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},w=u,I=Function.prototype,x=I.call,S=w&&I.bind.bind(x,x),T=w?S:function(t){return function(){return x.apply(t,arguments)}},k=T,A=k({}.toString),E=k("".slice),P=function(t){return E(A(t),8,-1)},O=s,L=P,C=Object,R=T("".split),D=O((function(){return!C("z").propertyIsEnumerable(0)}))?function(t){return"String"==L(t)?R(t,""):C(t)}:C,j=function(t){return null==t},H=j,M=TypeError,U=function(t){if(H(t))throw M("Can't call method on "+t);return t},q=D,z=U,B=function(t){return q(z(t))},N="object"==typeof document&&document.all,F={all:N,IS_HTMLDDA:void 0===N&&void 0!==N},_=F.all,W=F.IS_HTMLDDA?function(t){return"function"==typeof t||t===_}:function(t){return"function"==typeof t},G=W,V=F.all,$=F.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:G(t)||t===V}:function(t){return"object"==typeof t?null!==t:G(t)},Z=i,Y=W,J=function(t,e){return arguments.length<2?(n=Z[t],Y(n)?n:void 0):Z[t]&&Z[t][e];var n},X=T({}.isPrototypeOf),Q="undefined"!=typeof navigator&&String(navigator.userAgent)||"",K=i,tt=Q,et=K.process,nt=K.Deno,rt=et&&et.versions||nt&&nt.version,ot=rt&&rt.v8;ot&&(y=(m=ot.split("."))[0]>0&&m[0]<4?1:+(m[0]+m[1])),!y&&tt&&(!(m=tt.match(/Edge\/(\d+)/))||m[1]>=74)&&(m=tt.match(/Chrome\/(\d+)/))&&(y=+m[1]);var it=y,at=it,st=s,ct=i.String,ut=!!Object.getOwnPropertySymbols&&!st((function(){var t=Symbol();return!ct(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&at&&at<41})),lt=ut&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ft=J,ht=W,dt=X,pt=Object,gt=lt?function(t){return"symbol"==typeof t}:function(t){var e=ft("Symbol");return ht(e)&&dt(e.prototype,pt(t))},vt=String,mt=function(t){try{return vt(t)}catch(t){return"Object"}},yt=W,bt=mt,wt=TypeError,It=function(t){if(yt(t))return t;throw wt(bt(t)+" is not a function")},xt=It,St=j,Tt=function(t,e){var n=t[e];return St(n)?void 0:xt(n)},kt=h,At=W,Et=$,Pt=TypeError,Ot={exports:{}},Lt=i,Ct=Object.defineProperty,Rt=function(t,e){try{Ct(Lt,t,{value:e,configurable:!0,writable:!0})}catch(n){Lt[t]=e}return e},Dt=Rt,jt="__core-js_shared__",Ht=i[jt]||Dt(jt,{}),Mt=Ht;(Ot.exports=function(t,e){return Mt[t]||(Mt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.30.2",mode:"global",copyright:"Â© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.2/LICENSE",source:"https://github.com/zloirock/core-js"});var Ut=Ot.exports,qt=U,zt=Object,Bt=function(t){return zt(qt(t))},Nt=Bt,Ft=T({}.hasOwnProperty),_t=Object.hasOwn||function(t,e){return Ft(Nt(t),e)},Wt=T,Gt=0,Vt=Math.random(),$t=Wt(1..toString),Zt=function(t){return"Symbol("+(void 0===t?"":t)+")_"+$t(++Gt+Vt,36)},Yt=Ut,Jt=_t,Xt=Zt,Qt=ut,Kt=lt,te=i.Symbol,ee=Yt("wks"),ne=Kt?te.for||te:te&&te.withoutSetter||Xt,re=function(t){return Jt(ee,t)||(ee[t]=Qt&&Jt(te,t)?te[t]:ne("Symbol."+t)),ee[t]},oe=h,ie=$,ae=gt,se=Tt,ce=function(t,e){var n,r;if("string"===e&&At(n=t.toString)&&!Et(r=kt(n,t)))return r;if(At(n=t.valueOf)&&!Et(r=kt(n,t)))return r;if("string"!==e&&At(n=t.toString)&&!Et(r=kt(n,t)))return r;throw Pt("Can't convert object to primitive value")},ue=TypeError,le=re("toPrimitive"),fe=function(t,e){if(!ie(t)||ae(t))return t;var n,r=se(t,le);if(r){if(void 0===e&&(e="default"),n=oe(r,t,e),!ie(n)||ae(n))return n;throw ue("Can't convert object to primitive value")}return void 0===e&&(e="number"),ce(t,e)},he=fe,de=gt,pe=function(t){var e=he(t,"string");return de(e)?e:e+""},ge=$,ve=i.document,me=ge(ve)&&ge(ve.createElement),ye=function(t){return me?ve.createElement(t):{}},be=ye,we=!c&&!s((function(){return 7!=Object.defineProperty(be("div"),"a",{get:function(){return 7}}).a})),Ie=c,xe=h,Se=d,Te=b,ke=B,Ae=pe,Ee=_t,Pe=we,Oe=Object.getOwnPropertyDescriptor;a.f=Ie?Oe:function(t,e){if(t=ke(t),e=Ae(e),Pe)try{return Oe(t,e)}catch(t){}if(Ee(t,e))return Te(!xe(Se.f,t,e),t[e])};var Le={},Ce=c&&s((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Re=$,De=String,je=TypeError,He=function(t){if(Re(t))return t;throw je(De(t)+" is not an object")},Me=c,Ue=we,qe=Ce,ze=He,Be=pe,Ne=TypeError,Fe=Object.defineProperty,_e=Object.getOwnPropertyDescriptor,We="enumerable",Ge="configurable",Ve="writable";Le.f=Me?qe?function(t,e,n){if(ze(t),e=Be(e),ze(n),"function"==typeof t&&"prototype"===e&&"value"in n&&Ve in n&&!n[Ve]){var r=_e(t,e);r&&r[Ve]&&(t[e]=n.value,n={configurable:Ge in n?n[Ge]:r[Ge],enumerable:We in n?n[We]:r[We],writable:!1})}return Fe(t,e,n)}:Fe:function(t,e,n){if(ze(t),e=Be(e),ze(n),Ue)try{return Fe(t,e,n)}catch(t){}if("get"in n||"set"in n)throw Ne("Accessors not supported");return"value"in n&&(t[e]=n.value),t};var $e=Le,Ze=b,Ye=c?function(t,e,n){return $e.f(t,e,Ze(1,n))}:function(t,e,n){return t[e]=n,t},Je={exports:{}},Xe=c,Qe=_t,Ke=Function.prototype,tn=Xe&&Object.getOwnPropertyDescriptor,en=Qe(Ke,"name"),nn={EXISTS:en,PROPER:en&&"something"===function(){}.name,CONFIGURABLE:en&&(!Xe||Xe&&tn(Ke,"name").configurable)},rn=W,on=Ht,an=T(Function.toString);rn(on.inspectSource)||(on.inspectSource=function(t){return an(t)});var sn,cn,un,ln=on.inspectSource,fn=W,hn=i.WeakMap,dn=fn(hn)&&/native code/.test(String(hn)),pn=Zt,gn=Ut("keys"),vn=function(t){return gn[t]||(gn[t]=pn(t))},mn={},yn=dn,bn=i,wn=$,In=Ye,xn=_t,Sn=Ht,Tn=vn,kn=mn,An="Object already initialized",En=bn.TypeError,Pn=bn.WeakMap;if(yn||Sn.state){var On=Sn.state||(Sn.state=new Pn);On.get=On.get,On.has=On.has,On.set=On.set,sn=function(t,e){if(On.has(t))throw En(An);return e.facade=t,On.set(t,e),e},cn=function(t){return On.get(t)||{}},un=function(t){return On.has(t)}}else{var Ln=Tn("state");kn[Ln]=!0,sn=function(t,e){if(xn(t,Ln))throw En(An);return e.facade=t,In(t,Ln,e),e},cn=function(t){return xn(t,Ln)?t[Ln]:{}},un=function(t){return xn(t,Ln)}}var Cn={set:sn,get:cn,has:un,enforce:function(t){return un(t)?cn(t):sn(t,{})},getterFor:function(t){return function(e){var n;if(!wn(e)||(n=cn(e)).type!==t)throw En("Incompatible receiver, "+t+" required");return n}}},Rn=T,Dn=s,jn=W,Hn=_t,Mn=c,Un=nn.CONFIGURABLE,qn=ln,zn=Cn.enforce,Bn=Cn.get,Nn=String,Fn=Object.defineProperty,_n=Rn("".slice),Wn=Rn("".replace),Gn=Rn([].join),Vn=Mn&&!Dn((function(){return 8!==Fn((function(){}),"length",{value:8}).length})),$n=String(String).split("String"),Zn=Je.exports=function(t,e,n){"Symbol("===_n(Nn(e),0,7)&&(e="["+Wn(Nn(e),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(e="get "+e),n&&n.setter&&(e="set "+e),(!Hn(t,"name")||Un&&t.name!==e)&&(Mn?Fn(t,"name",{value:e,configurable:!0}):t.name=e),Vn&&n&&Hn(n,"arity")&&t.length!==n.arity&&Fn(t,"length",{value:n.arity});try{n&&Hn(n,"constructor")&&n.constructor?Mn&&Fn(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(t){}var r=zn(t);return Hn(r,"source")||(r.source=Gn($n,"string"==typeof e?e:"")),t};Function.prototype.toString=Zn((function(){return jn(this)&&Bn(this).source||qn(this)}),"toString");var Yn=Je.exports,Jn=W,Xn=Le,Qn=Yn,Kn=Rt,tr=function(t,e,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:e;if(Jn(n)&&Qn(n,i,r),r.global)o?t[e]=n:Kn(e,n);else{try{r.unsafe?t[e]&&(o=!0):delete t[e]}catch(t){}o?t[e]=n:Xn.f(t,e,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return t},er={},nr=Math.ceil,rr=Math.floor,or=Math.trunc||function(t){var e=+t;return(e>0?rr:nr)(e)},ir=or,ar=function(t){var e=+t;return e!=e||0===e?0:ir(e)},sr=ar,cr=Math.max,ur=Math.min,lr=function(t,e){var n=sr(t);return n<0?cr(n+e,0):ur(n,e)},fr=ar,hr=Math.min,dr=function(t){return t>0?hr(fr(t),9007199254740991):0},pr=dr,gr=function(t){return pr(t.length)},vr=B,mr=lr,yr=gr,br=function(t){return function(e,n,r){var o,i=vr(e),a=yr(i),s=mr(r,a);if(t&&n!=n){for(;a>s;)if((o=i[s++])!=o)return!0}else for(;a>s;s++)if((t||s in i)&&i[s]===n)return t||s||0;return!t&&-1}},wr={includes:br(!0),indexOf:br(!1)},Ir=_t,xr=B,Sr=wr.indexOf,Tr=mn,kr=T([].push),Ar=function(t,e){var n,r=xr(t),o=0,i=[];for(n in r)!Ir(Tr,n)&&Ir(r,n)&&kr(i,n);for(;e.length>o;)Ir(r,n=e[o++])&&(~Sr(i,n)||kr(i,n));return i},Er=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pr=Ar,Or=Er.concat("length","prototype");er.f=Object.getOwnPropertyNames||function(t){return Pr(t,Or)};var Lr={};Lr.f=Object.getOwnPropertySymbols;var Cr=J,Rr=er,Dr=Lr,jr=He,Hr=T([].concat),Mr=Cr("Reflect","ownKeys")||function(t){var e=Rr.f(jr(t)),n=Dr.f;return n?Hr(e,n(t)):e},Ur=_t,qr=Mr,zr=a,Br=Le,Nr=function(t,e,n){for(var r=qr(e),o=Br.f,i=zr.f,a=0;a<r.length;a++){var s=r[a];Ur(t,s)||n&&Ur(n,s)||o(t,s,i(e,s))}},Fr=s,_r=W,Wr=/#|\.prototype\./,Gr=function(t,e){var n=$r[Vr(t)];return n==Yr||n!=Zr&&(_r(e)?Fr(e):!!e)},Vr=Gr.normalize=function(t){return String(t).replace(Wr,".").toLowerCase()},$r=Gr.data={},Zr=Gr.NATIVE="N",Yr=Gr.POLYFILL="P",Jr=Gr,Xr=i,Qr=a.f,Kr=Ye,to=tr,eo=Rt,no=Nr,ro=Jr,oo=function(t,e){var n,r,o,i,a,s=t.target,c=t.global,u=t.stat;if(n=c?Xr:u?Xr[s]||eo(s,{}):(Xr[s]||{}).prototype)for(r in e){if(i=e[r],o=t.dontCallGetSet?(a=Qr(n,r))&&a.value:n[r],!ro(c?r:s+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;no(i,o)}(t.sham||o&&o.sham)&&Kr(i,"sham",!0),to(n,r,i,t)}},io=u,ao=Function.prototype,so=ao.apply,co=ao.call,uo="object"==typeof Reflect&&Reflect.apply||(io?co.bind(so):function(){return co.apply(so,arguments)}),lo=T,fo=It,ho=function(t,e,n){try{return lo(fo(Object.getOwnPropertyDescriptor(t,e)[n]))}catch(t){}},po=W,go=String,vo=TypeError,mo=ho,yo=He,bo=function(t){if("object"==typeof t||po(t))return t;throw vo("Can't set "+go(t)+" as a prototype")},wo=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=mo(Object.prototype,"__proto__","set"))(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return yo(n),bo(r),e?t(n,r):n.__proto__=r,n}}():void 0),Io=Le.f,xo=W,So=$,To=wo,ko=function(t,e,n){var r,o;return To&&xo(r=e.constructor)&&r!==n&&So(o=r.prototype)&&o!==n.prototype&&To(t,o),t},Ao={};Ao[re("toStringTag")]="z";var Eo="[object z]"===String(Ao),Po=W,Oo=P,Lo=re("toStringTag"),Co=Object,Ro="Arguments"==Oo(function(){return arguments}()),Do=Eo?Oo:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Co(t),Lo))?n:Ro?Oo(e):"Object"==(r=Oo(e))&&Po(e.callee)?"Arguments":r},jo=Do,Ho=String,Mo=function(t){if("Symbol"===jo(t))throw TypeError("Cannot convert a Symbol value to a string");return Ho(t)},Uo=Mo,qo=$,zo=Ye,Bo=Error,No=T("".replace),Fo=String(Bo("zxcasd").stack),_o=/\n\s*at [^:]*:[^\n]*/,Wo=_o.test(Fo),Go=b,Vo=!s((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",Go(1,7)),7!==t.stack)})),$o=Ye,Zo=function(t,e){if(Wo&&"string"==typeof t&&!Bo.prepareStackTrace)for(;e--;)t=No(t,_o,"");return t},Yo=Vo,Jo=Error.captureStackTrace,Xo=J,Qo=_t,Ko=Ye,ti=X,ei=wo,ni=Nr,ri=function(t,e,n){n in t||Io(t,n,{configurable:!0,get:function(){return e[n]},set:function(t){e[n]=t}})},oi=ko,ii=function(t,e){return void 0===t?arguments.length<2?"":e:Uo(t)},ai=function(t,e){qo(e)&&"cause"in e&&zo(t,"cause",e.cause)},si=function(t,e,n,r){Yo&&(Jo?Jo(t,e):$o(t,"stack",Zo(n,r)))},ci=c,ui=oo,li=uo,fi=function(t,e,n,r){var o="stackTraceLimit",i=r?2:1,a=t.split("."),s=a[a.length-1],c=Xo.apply(null,a);if(c){var u=c.prototype;if(Qo(u,"cause")&&delete u.cause,!n)return c;var l=Xo("Error"),f=e((function(t,e){var n=ii(r?e:t,void 0),o=r?new c(t):new c;return void 0!==n&&Ko(o,"message",n),si(o,f,o.stack,2),this&&ti(u,this)&&oi(o,this,f),arguments.length>i&&ai(o,arguments[i]),o}));f.prototype=u,"Error"!==s?ei?ei(f,l):ni(f,l,{name:!0}):ci&&o in c&&(ri(f,c,o),ri(f,c,"prepareStackTrace")),ni(f,c);try{u.name!==s&&Ko(u,"name",s),u.constructor=f}catch(t){}return f}},hi="WebAssembly",di=i[hi],pi=7!==Error("e",{cause:7}).cause,gi=function(t,e){var n={};n[t]=fi(t,e,pi),ui({global:!0,constructor:!0,arity:1,forced:pi},n)},vi=function(t,e){if(di&&di[t]){var n={};n[t]=fi(hi+"."+t,e,pi),ui({target:hi,stat:!0,constructor:!0,arity:1,forced:pi},n)}};gi("Error",(function(t){return function(e){return li(t,this,arguments)}})),gi("EvalError",(function(t){return function(e){return li(t,this,arguments)}})),gi("RangeError",(function(t){return function(e){return li(t,this,arguments)}})),gi("ReferenceError",(function(t){return function(e){return li(t,this,arguments)}})),gi("SyntaxError",(function(t){return function(e){return li(t,this,arguments)}})),gi("TypeError",(function(t){return function(e){return li(t,this,arguments)}})),gi("URIError",(function(t){return function(e){return li(t,this,arguments)}})),vi("CompileError",(function(t){return function(e){return li(t,this,arguments)}})),vi("LinkError",(function(t){return function(e){return li(t,this,arguments)}})),vi("RuntimeError",(function(t){return function(e){return li(t,this,arguments)}}));var mi=P,yi=Array.isArray||function(t){return"Array"==mi(t)},bi=c,wi=yi,Ii=TypeError,xi=Object.getOwnPropertyDescriptor,Si=bi&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}()?function(t,e){if(wi(t)&&!xi(t,"length").writable)throw Ii("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e},Ti=TypeError,ki=function(t){if(t>9007199254740991)throw Ti("Maximum allowed index exceeded");return t},Ai=Bt,Ei=gr,Pi=Si,Oi=ki;oo({target:"Array",proto:!0,arity:1,forced:s((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}()},{push:function(t){var e=Ai(this),n=Ei(e),r=arguments.length;Oi(n+r);for(var o=0;o<r;o++)e[n]=arguments[o],n++;return Pi(e,n),n}});var Li=ye("span").classList,Ci=Li&&Li.constructor&&Li.constructor.prototype,Ri=Ci===Object.prototype?void 0:Ci,Di={},ji=Ar,Hi=Er,Mi=Object.keys||function(t){return ji(t,Hi)},Ui=c,qi=Ce,zi=Le,Bi=He,Ni=B,Fi=Mi;Di.f=Ui&&!qi?Object.defineProperties:function(t,e){Bi(t);for(var n,r=Ni(e),o=Fi(e),i=o.length,a=0;i>a;)zi.f(t,n=o[a++],r[n]);return t};var _i,Wi=J("document","documentElement"),Gi=He,Vi=Di,$i=Er,Zi=mn,Yi=Wi,Ji=ye,Xi="prototype",Qi="script",Ki=vn("IE_PROTO"),ta=function(){},ea=function(t){return"<"+Qi+">"+t+"</"+Qi+">"},na=function(t){t.write(ea("")),t.close();var e=t.parentWindow.Object;return t=null,e},ra=function(){try{_i=new ActiveXObject("htmlfile")}catch(t){}var t,e,n;ra="undefined"!=typeof document?document.domain&&_i?na(_i):(e=Ji("iframe"),n="java"+Qi+":",e.style.display="none",Yi.appendChild(e),e.src=String(n),(t=e.contentWindow.document).open(),t.write(ea("document.F=Object")),t.close(),t.F):na(_i);for(var r=$i.length;r--;)delete ra[Xi][$i[r]];return ra()};Zi[Ki]=!0;var oa=Object.create||function(t,e){var n;return null!==t?(ta[Xi]=Gi(t),n=new ta,ta[Xi]=null,n[Ki]=t):n=ra(),void 0===e?n:Vi.f(n,e)},ia=re,aa=oa,sa=Le.f,ca=ia("unscopables"),ua=Array.prototype;null==ua[ca]&&sa(ua,ca,{configurable:!0,value:aa(null)});var la,fa,ha,da=function(t){ua[ca][t]=!0},pa={},ga=!s((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),va=_t,ma=W,ya=Bt,ba=ga,wa=vn("IE_PROTO"),Ia=Object,xa=Ia.prototype,Sa=ba?Ia.getPrototypeOf:function(t){var e=ya(t);if(va(e,wa))return e[wa];var n=e.constructor;return ma(n)&&e instanceof n?n.prototype:e instanceof Ia?xa:null},Ta=s,ka=W,Aa=$,Ea=Sa,Pa=tr,Oa=re("iterator"),La=!1;[].keys&&("next"in(ha=[].keys())?(fa=Ea(Ea(ha)))!==Object.prototype&&(la=fa):La=!0);var Ca=!Aa(la)||Ta((function(){var t={};return la[Oa].call(t)!==t}));Ca&&(la={}),ka(la[Oa])||Pa(la,Oa,(function(){return this}));var Ra={IteratorPrototype:la,BUGGY_SAFARI_ITERATORS:La},Da=Le.f,ja=_t,Ha=re("toStringTag"),Ma=function(t,e,n){t&&!n&&(t=t.prototype),t&&!ja(t,Ha)&&Da(t,Ha,{configurable:!0,value:e})},Ua=Ra.IteratorPrototype,qa=oa,za=b,Ba=Ma,Na=pa,Fa=function(){return this},_a=function(t,e,n,r){var o=e+" Iterator";return t.prototype=qa(Ua,{next:za(+!r,n)}),Ba(t,o,!1),Na[o]=Fa,t},Wa=oo,Ga=h,Va=W,$a=_a,Za=Sa,Ya=wo,Ja=Ma,Xa=Ye,Qa=tr,Ka=pa,ts=nn.PROPER,es=nn.CONFIGURABLE,ns=Ra.IteratorPrototype,rs=Ra.BUGGY_SAFARI_ITERATORS,os=re("iterator"),is="keys",as="values",ss="entries",cs=function(){return this},us=function(t,e,n,r,o,i,a){$a(n,e,r);var s,c,u,l=function(t){if(t===o&&g)return g;if(!rs&&t in d)return d[t];switch(t){case is:case as:case ss:return function(){return new n(this,t)}}return function(){return new n(this)}},f=e+" Iterator",h=!1,d=t.prototype,p=d[os]||d["@@iterator"]||o&&d[o],g=!rs&&p||l(o),v="Array"==e&&d.entries||p;if(v&&(s=Za(v.call(new t)))!==Object.prototype&&s.next&&(Za(s)!==ns&&(Ya?Ya(s,ns):Va(s[os])||Qa(s,os,cs)),Ja(s,f,!0)),ts&&o==as&&p&&p.name!==as&&(es?Xa(d,"name",as):(h=!0,g=function(){return Ga(p,this)})),o)if(c={values:l(as),keys:i?g:l(is),entries:l(ss)},a)for(u in c)(rs||h||!(u in d))&&Qa(d,u,c[u]);else Wa({target:e,proto:!0,forced:rs||h},c);return d[os]!==g&&Qa(d,os,g,{name:o}),Ka[e]=g,c},ls=function(t,e){return{value:t,done:e}},fs=B,hs=da,ds=pa,ps=Cn,gs=Le.f,vs=us,ms=ls,ys=c,bs="Array Iterator",ws=ps.set,Is=ps.getterFor(bs),xs=vs(Array,"Array",(function(t,e){ws(this,{type:bs,target:fs(t),index:0,kind:e})}),(function(){var t=Is(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,ms(void 0,!0)):ms("keys"==n?r:"values"==n?e[r]:[r,e[r]],!1)}),"values"),Ss=ds.Arguments=ds.Array;if(hs("keys"),hs("values"),hs("entries"),ys&&"values"!==Ss.name)try{gs(Ss,"name",{value:"values"})}catch(t){}var Ts=i,ks={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},As=Ri,Es=xs,Ps=Ye,Os=re,Ls=Os("iterator"),Cs=Os("toStringTag"),Rs=Es.values,Ds=function(t,e){if(t){if(t[Ls]!==Rs)try{Ps(t,Ls,Rs)}catch(e){t[Ls]=Rs}if(t[Cs]||Ps(t,Cs,e),ks[e])for(var n in Es)if(t[n]!==Es[n])try{Ps(t,n,Es[n])}catch(e){t[n]=Es[n]}}};for(var js in ks)Ds(Ts[js]&&Ts[js].prototype,js);Ds(As,"DOMTokenList");var Hs=s,Ms=c,Us=re("iterator"),qs=!Hs((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),!e.size&&!Ms||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[Us]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host})),zs=Yn,Bs=Le,Ns=function(t,e,n){return n.get&&zs(n.get,e,{getter:!0}),n.set&&zs(n.set,e,{setter:!0}),Bs.f(t,e,n)},Fs=tr,_s=function(t,e,n){for(var r in e)Fs(t,r,e[r],n);return t},Ws=X,Gs=TypeError,Vs=function(t,e){if(Ws(e,t))return t;throw Gs("Incorrect invocation")},$s=P,Zs=T,Ys=function(t){if("Function"===$s(t))return Zs(t)},Js=It,Xs=u,Qs=Ys(Ys.bind),Ks=function(t,e){return Js(t),void 0===e?t:Xs?Qs(t,e):function(){return t.apply(e,arguments)}},tc=Do,ec=Tt,nc=j,rc=pa,oc=re("iterator"),ic=function(t){if(!nc(t))return ec(t,oc)||ec(t,"@@iterator")||rc[tc(t)]},ac=h,sc=It,cc=He,uc=mt,lc=ic,fc=TypeError,hc=function(t,e){var n=arguments.length<2?lc(t):e;if(sc(n))return cc(ac(n,t));throw fc(uc(t)+" is not iterable")},dc=TypeError,pc=function(t,e){if(t<e)throw dc("Not enough arguments");return t},gc=pe,vc=Le,mc=b,yc=function(t,e,n){var r=gc(e);r in t?vc.f(t,r,mc(0,n)):t[r]=n},bc=lr,wc=gr,Ic=yc,xc=Array,Sc=Math.max,Tc=function(t,e,n){for(var r=wc(t),o=bc(e,r),i=bc(void 0===n?r:n,r),a=xc(Sc(i-o,0)),s=0;o<i;o++,s++)Ic(a,s,t[o]);return a.length=s,a},kc=Tc,Ac=Math.floor,Ec=function(t,e){var n=t.length,r=Ac(n/2);return n<8?Pc(t,e):Oc(t,Ec(kc(t,0,r),e),Ec(kc(t,r),e),e)},Pc=function(t,e){for(var n,r,o=t.length,i=1;i<o;){for(r=i,n=t[i];r&&e(t[r-1],n)>0;)t[r]=t[--r];r!==i++&&(t[r]=n)}return t},Oc=function(t,e,n,r){for(var o=e.length,i=n.length,a=0,s=0;a<o||s<i;)t[a+s]=a<o&&s<i?r(e[a],n[s])<=0?e[a++]:n[s++]:a<o?e[a++]:n[s++];return t},Lc=Ec,Cc=oo,Rc=i,Dc=h,jc=T,Hc=c,Mc=qs,Uc=tr,qc=Ns,zc=_s,Bc=Ma,Nc=_a,Fc=Cn,_c=Vs,Wc=W,Gc=_t,Vc=Ks,$c=Do,Zc=He,Yc=$,Jc=Mo,Xc=oa,Qc=b,Kc=hc,tu=ic,eu=pc,nu=Lc,ru=re("iterator"),ou="URLSearchParams",iu=ou+"Iterator",au=Fc.set,su=Fc.getterFor(ou),cu=Fc.getterFor(iu),uu=Object.getOwnPropertyDescriptor,lu=function(t){if(!Hc)return Rc[t];var e=uu(Rc,t);return e&&e.value},fu=lu("fetch"),hu=lu("Request"),du=lu("Headers"),pu=hu&&hu.prototype,gu=du&&du.prototype,vu=Rc.RegExp,mu=Rc.TypeError,yu=Rc.decodeURIComponent,bu=Rc.encodeURIComponent,wu=jc("".charAt),Iu=jc([].join),xu=jc([].push),Su=jc("".replace),Tu=jc([].shift),ku=jc([].splice),Au=jc("".split),Eu=jc("".slice),Pu=/\+/g,Ou=Array(4),Lu=function(t){return Ou[t-1]||(Ou[t-1]=vu("((?:%[\\da-f]{2}){"+t+"})","gi"))},Cu=function(t){try{return yu(t)}catch(e){return t}},Ru=function(t){var e=Su(t,Pu," "),n=4;try{return yu(e)}catch(t){for(;n;)e=Su(e,Lu(n--),Cu);return e}},Du=/[!'()~]|%20/g,ju={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Hu=function(t){return ju[t]},Mu=function(t){return Su(bu(t),Du,Hu)},Uu=Nc((function(t,e){au(this,{type:iu,iterator:Kc(su(t).entries),kind:e})}),"Iterator",(function(){var t=cu(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n}),!0),qu=function(t){this.entries=[],this.url=null,void 0!==t&&(Yc(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===wu(t,0)?Eu(t,1):t:Jc(t)))};qu.prototype={type:ou,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,n,r,o,i,a,s,c=tu(t);if(c)for(n=(e=Kc(t,c)).next;!(r=Dc(n,e)).done;){if(i=(o=Kc(Zc(r.value))).next,(a=Dc(i,o)).done||(s=Dc(i,o)).done||!Dc(i,o).done)throw mu("Expected sequence with length 2");xu(this.entries,{key:Jc(a.value),value:Jc(s.value)})}else for(var u in t)Gc(t,u)&&xu(this.entries,{key:u,value:Jc(t[u])})},parseQuery:function(t){if(t)for(var e,n,r=Au(t,"&"),o=0;o<r.length;)(e=r[o++]).length&&(n=Au(e,"="),xu(this.entries,{key:Ru(Tu(n)),value:Ru(Iu(n,"="))}))},serialize:function(){for(var t,e=this.entries,n=[],r=0;r<e.length;)t=e[r++],xu(n,Mu(t.key)+"="+Mu(t.value));return Iu(n,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var zu=function(){_c(this,Bu);var t=au(this,new qu(arguments.length>0?arguments[0]:void 0));Hc||(this.length=t.entries.length)},Bu=zu.prototype;if(zc(Bu,{append:function(t,e){eu(arguments.length,2);var n=su(this);xu(n.entries,{key:Jc(t),value:Jc(e)}),Hc||this.length++,n.updateURL()},delete:function(t){eu(arguments.length,1);for(var e=su(this),n=e.entries,r=Jc(t),o=0;o<n.length;)n[o].key===r?ku(n,o,1):o++;Hc||(this.length=n.length),e.updateURL()},get:function(t){eu(arguments.length,1);for(var e=su(this).entries,n=Jc(t),r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){eu(arguments.length,1);for(var e=su(this).entries,n=Jc(t),r=[],o=0;o<e.length;o++)e[o].key===n&&xu(r,e[o].value);return r},has:function(t){eu(arguments.length,1);for(var e=su(this).entries,n=Jc(t),r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){eu(arguments.length,1);for(var n,r=su(this),o=r.entries,i=!1,a=Jc(t),s=Jc(e),c=0;c<o.length;c++)(n=o[c]).key===a&&(i?ku(o,c--,1):(i=!0,n.value=s));i||xu(o,{key:a,value:s}),Hc||(this.length=o.length),r.updateURL()},sort:function(){var t=su(this);nu(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){for(var e,n=su(this).entries,r=Vc(t,arguments.length>1?arguments[1]:void 0),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new Uu(this,"keys")},values:function(){return new Uu(this,"values")},entries:function(){return new Uu(this,"entries")}},{enumerable:!0}),Uc(Bu,ru,Bu.entries,{name:"entries"}),Uc(Bu,"toString",(function(){return su(this).serialize()}),{enumerable:!0}),Hc&&qc(Bu,"size",{get:function(){return su(this).entries.length},configurable:!0,enumerable:!0}),Bc(zu,ou),Cc({global:!0,constructor:!0,forced:!Mc},{URLSearchParams:zu}),!Mc&&Wc(du)){var Nu=jc(gu.has),Fu=jc(gu.set),_u=function(t){if(Yc(t)){var e,n=t.body;if($c(n)===ou)return e=t.headers?new du(t.headers):new du,Nu(e,"content-type")||Fu(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Xc(t,{body:Qc(0,Jc(n)),headers:Qc(0,e)})}return t};if(Wc(fu)&&Cc({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(t){return fu(t,arguments.length>1?_u(arguments[1]):{})}}),Wc(hu)){var Wu=function(t){return _c(this,pu),new hu(t,arguments.length>1?_u(arguments[1]):{})};pu.constructor=Wu,Wu.prototype=pu,Cc({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:Wu})}}var Gu={URLSearchParams:zu,getState:su},Vu=c,$u=T,Zu=Ns,Yu=URLSearchParams.prototype,Ju=$u(Yu.forEach);Vu&&!("size"in Yu)&&Zu(Yu,"size",{get:function(){var t=0;return Ju(this,(function(){t++})),t},configurable:!0,enumerable:!0});var Xu=It,Qu=Bt,Ku=D,tl=gr,el=TypeError,nl=function(t){return function(e,n,r,o){Xu(n);var i=Qu(e),a=Ku(i),s=tl(i),c=t?s-1:0,u=t?-1:1;if(r<2)for(;;){if(c in a){o=a[c],c+=u;break}if(c+=u,t?c<0:s<=c)throw el("Reduce of empty array with no initial value")}for(;t?c>=0:s>c;c+=u)c in a&&(o=n(o,a[c],c,i));return o}},rl={left:nl(!1),right:nl(!0)},ol=s,il="undefined"!=typeof process&&"process"==P(process),al=rl.left;oo({target:"Array",proto:!0,forced:!il&&it>79&&it<83||!function(t,e){var n=[][t];return!!n&&ol((function(){n.call(null,e||function(){return 1},1)}))}("reduce")},{reduce:function(t){var e=arguments.length;return al(this,t,e,e>1?arguments[1]:void 0)}});var sl,cl,ul=He,ll=s,fl=i.RegExp,hl=ll((function(){var t=fl("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),dl=hl||ll((function(){return!fl("a","y").sticky})),pl={BROKEN_CARET:hl||ll((function(){var t=fl("^r","gy");return t.lastIndex=2,null!=t.exec("str")})),MISSED_STICKY:dl,UNSUPPORTED_Y:hl},gl=s,vl=i.RegExp,ml=gl((function(){var t=vl(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)})),yl=s,bl=i.RegExp,wl=yl((function(){var t=bl("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")})),Il=h,xl=T,Sl=Mo,Tl=function(){var t=ul(this),e="";return t.hasIndices&&(e+="d"),t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.unicodeSets&&(e+="v"),t.sticky&&(e+="y"),e},kl=pl,Al=oa,El=Cn.get,Pl=ml,Ol=wl,Ll=Ut("native-string-replace",String.prototype.replace),Cl=RegExp.prototype.exec,Rl=Cl,Dl=xl("".charAt),jl=xl("".indexOf),Hl=xl("".replace),Ml=xl("".slice),Ul=(cl=/b*/g,Il(Cl,sl=/a/,"a"),Il(Cl,cl,"a"),0!==sl.lastIndex||0!==cl.lastIndex),ql=kl.BROKEN_CARET,zl=void 0!==/()??/.exec("")[1];(Ul||zl||ql||Pl||Ol)&&(Rl=function(t){var e,n,r,o,i,a,s,c=this,u=El(c),l=Sl(t),f=u.raw;if(f)return f.lastIndex=c.lastIndex,e=Il(Rl,f,l),c.lastIndex=f.lastIndex,e;var h=u.groups,d=ql&&c.sticky,p=Il(Tl,c),g=c.source,v=0,m=l;if(d&&(p=Hl(p,"y",""),-1===jl(p,"g")&&(p+="g"),m=Ml(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==Dl(l,c.lastIndex-1))&&(g="(?: "+g+")",m=" "+m,v++),n=new RegExp("^(?:"+g+")",p)),zl&&(n=new RegExp("^"+g+"$(?!\\s)",p)),Ul&&(r=c.lastIndex),o=Il(Cl,d?n:c,m),d?o?(o.input=Ml(o.input,v),o[0]=Ml(o[0],v),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Ul&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),zl&&o&&o.length>1&&Il(Ll,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&h)for(o.groups=a=Al(null),i=0;i<h.length;i++)a[(s=h[i])[0]]=o[s[1]];return o});var Bl=Rl;oo({target:"RegExp",proto:!0,forced:/./.exec!==Bl},{exec:Bl});var Nl=Ys,Fl=tr,_l=Bl,Wl=s,Gl=re,Vl=Ye,$l=Gl("species"),Zl=RegExp.prototype,Yl=T,Jl=ar,Xl=Mo,Ql=U,Kl=Yl("".charAt),tf=Yl("".charCodeAt),ef=Yl("".slice),nf=function(t){return function(e,n){var r,o,i=Xl(Ql(e)),a=Jl(n),s=i.length;return a<0||a>=s?t?"":void 0:(r=tf(i,a))<55296||r>56319||a+1===s||(o=tf(i,a+1))<56320||o>57343?t?Kl(i,a):r:t?ef(i,a,a+2):o-56320+(r-55296<<10)+65536}},rf={codeAt:nf(!1),charAt:nf(!0)},of=rf.charAt,af=T,sf=Bt,cf=Math.floor,uf=af("".charAt),lf=af("".replace),ff=af("".slice),hf=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,df=/\$([$&'`]|\d{1,2})/g,pf=h,gf=He,vf=W,mf=P,yf=Bl,bf=TypeError,wf=uo,If=h,xf=T,Sf=function(t,e,n,r){var o=Gl(t),i=!Wl((function(){var e={};return e[o]=function(){return 7},7!=""[t](e)})),a=i&&!Wl((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[$l]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return e=!0,null},n[o](""),!e}));if(!i||!a||n){var s=Nl(/./[o]),c=e(o,""[t],(function(t,e,n,r,o){var a=Nl(t),c=e.exec;return c===_l||c===Zl.exec?i&&!o?{done:!0,value:s(e,n,r)}:{done:!0,value:a(n,e,r)}:{done:!1}}));Fl(String.prototype,t,c[0]),Fl(Zl,o,c[1])}r&&Vl(Zl[o],"sham",!0)},Tf=s,kf=He,Af=W,Ef=j,Pf=ar,Of=dr,Lf=Mo,Cf=U,Rf=function(t,e,n){return e+(n?of(t,e).length:1)},Df=Tt,jf=function(t,e,n,r,o,i){var a=n+t.length,s=r.length,c=df;return void 0!==o&&(o=sf(o),c=hf),lf(i,c,(function(i,c){var u;switch(uf(c,0)){case"$":return"$";case"&":return t;case"`":return ff(e,0,n);case"'":return ff(e,a);case"<":u=o[ff(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>s){var f=cf(l/10);return 0===f?i:f<=s?void 0===r[f-1]?uf(c,1):r[f-1]+uf(c,1):i}u=r[l-1]}return void 0===u?"":u}))},Hf=function(t,e){var n=t.exec;if(vf(n)){var r=pf(n,t,e);return null!==r&&gf(r),r}if("RegExp"===mf(t))return pf(yf,t,e);throw bf("RegExp#exec called on incompatible receiver")},Mf=re("replace"),Uf=Math.max,qf=Math.min,zf=xf([].concat),Bf=xf([].push),Nf=xf("".indexOf),Ff=xf("".slice),_f="$0"==="a".replace(/./,"$0"),Wf=!!/./[Mf]&&""===/./[Mf]("a","$0");Sf("replace",(function(t,e,n){var r=Wf?"$":"$0";return[function(t,n){var r=Cf(this),o=Ef(t)?void 0:Df(t,Mf);return o?If(o,t,r,n):If(e,Lf(r),t,n)},function(t,o){var i=kf(this),a=Lf(t);if("string"==typeof o&&-1===Nf(o,r)&&-1===Nf(o,"$<")){var s=n(e,i,a,o);if(s.done)return s.value}var c=Af(o);c||(o=Lf(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var f=[];;){var h=Hf(i,a);if(null===h)break;if(Bf(f,h),!u)break;""===Lf(h[0])&&(i.lastIndex=Rf(a,Of(i.lastIndex),l))}for(var d,p="",g=0,v=0;v<f.length;v++){for(var m=Lf((h=f[v])[0]),y=Uf(qf(Pf(h.index),a.length),0),b=[],w=1;w<h.length;w++)Bf(b,void 0===(d=h[w])?d:String(d));var I=h.groups;if(c){var x=zf([m],b,y,a);void 0!==I&&Bf(x,I);var S=Lf(wf(o,void 0,x))}else S=jf(m,a,y,b,I,o);y>=g&&(p+=Ff(a,g,y)+S,g=y+m.length)}return p+Ff(a,g)}]}),!!Tf((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!_f||Wf);var Gf=P,Vf=TypeError,$f=ho(ArrayBuffer.prototype,"byteLength","get")||function(t){if("ArrayBuffer"!=Gf(t))throw Vf("ArrayBuffer expected");return t.byteLength},Zf=$f,Yf=T(ArrayBuffer.prototype.slice),Jf=function(t){if(0!==Zf(t))return!1;try{return Yf(t,0,0),!1}catch(t){return!0}},Xf=c,Qf=Ns,Kf=Jf,th=ArrayBuffer.prototype;Xf&&!("detached"in th)&&Qf(th,"detached",{configurable:!0,get:function(){return Kf(this)}});var eh=ar,nh=dr,rh=RangeError,oh=function(t){if(void 0===t)return 0;var e=eh(t),n=nh(e);if(e!==n)throw rh("Wrong length or index");return n},ih="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,ah=!ih&&!il&&"object"==typeof window&&"object"==typeof document,sh=s,ch=it,uh=ah,lh=ih,fh=il,hh=i.structuredClone,dh=!!hh&&!sh((function(){if(lh&&ch>92||fh&&ch>94||uh&&ch>97)return!1;var t=new ArrayBuffer(8),e=hh(t,{transfer:[t]});return 0!=t.byteLength||8!=e.byteLength})),ph=i,gh=T,vh=ho,mh=oh,yh=Jf,bh=$f,wh=dh,Ih=ph.TypeError,xh=ph.structuredClone,Sh=ph.ArrayBuffer,Th=ph.DataView,kh=Math.min,Ah=Sh.prototype,Eh=Th.prototype,Ph=gh(Ah.slice),Oh=vh(Ah,"resizable","get"),Lh=vh(Ah,"maxByteLength","get"),Ch=gh(Eh.getInt8),Rh=gh(Eh.setInt8),Dh=wh&&function(t,e,n){var r=bh(t),o=void 0===e?r:kh(mh(e),r),i=!Oh||!Oh(t);if(yh(t))throw Ih("ArrayBuffer is detached");var a=xh(t,{transfer:[t]});if(r==o&&(n||i))return a;if(!n||i)return Ph(a,0,o);for(var s=new Sh(o,Lh&&{maxByteLength:Lh(a)}),c=new Th(a),u=new Th(s),l=0;l<o;l++)Rh(u,l,Ch(c,l));return s},jh=Dh;jh&&oo({target:"ArrayBuffer",proto:!0},{transfer:function(){return jh(this,arguments.length?arguments[0]:void 0,!0)}});var Hh=Dh;Hh&&oo({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return Hh(this,arguments.length?arguments[0]:void 0,!1)}});var Mh=rf.charAt,Uh=Mo,qh=Cn,zh=us,Bh=ls,Nh="String Iterator",Fh=qh.set,_h=qh.getterFor(Nh);zh(String,"String",(function(t){Fh(this,{type:Nh,string:Uh(t),index:0})}),(function(){var t,e=_h(this),n=e.string,r=e.index;return r>=n.length?Bh(void 0,!0):(t=Mh(n,r),e.index+=t.length,Bh(t,!1))}));var Wh=c,Gh=T,Vh=h,$h=s,Zh=Mi,Yh=Lr,Jh=d,Xh=Bt,Qh=D,Kh=Object.assign,td=Object.defineProperty,ed=Gh([].concat),nd=!Kh||$h((function(){if(Wh&&1!==Kh({b:1},Kh(td({},"a",{enumerable:!0,get:function(){td(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach((function(t){e[t]=t})),7!=Kh({},t)[n]||Zh(Kh({},e)).join("")!=r}))?function(t,e){for(var n=Xh(t),r=arguments.length,o=1,i=Yh.f,a=Jh.f;r>o;)for(var s,c=Qh(arguments[o++]),u=i?ed(Zh(c),i(c)):Zh(c),l=u.length,f=0;l>f;)s=u[f++],Wh&&!Vh(a,c,s)||(n[s]=c[s]);return n}:Kh,rd=h,od=He,id=Tt,ad=function(t,e,n){var r,o;od(t);try{if(!(r=id(t,"return"))){if("throw"===e)throw n;return n}r=rd(r,t)}catch(t){o=!0,r=t}if("throw"===e)throw n;if(o)throw r;return od(r),n},sd=He,cd=ad,ud=pa,ld=re("iterator"),fd=Array.prototype,hd=function(t){return void 0!==t&&(ud.Array===t||fd[ld]===t)},dd=T,pd=s,gd=W,vd=Do,md=ln,yd=function(){},bd=[],wd=J("Reflect","construct"),Id=/^\s*(?:class|function)\b/,xd=dd(Id.exec),Sd=!Id.exec(yd),Td=function(t){if(!gd(t))return!1;try{return wd(yd,bd,t),!0}catch(t){return!1}},kd=function(t){if(!gd(t))return!1;switch(vd(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Sd||!!xd(Id,md(t))}catch(t){return!0}};kd.sham=!0;var Ad,Ed=!wd||pd((function(){var t;return Td(Td.call)||!Td(Object)||!Td((function(){t=!0}))||t}))?kd:Td,Pd=Ks,Od=h,Ld=Bt,Cd=function(t,e,n,r){try{return r?e(sd(n)[0],n[1]):e(n)}catch(e){cd(t,"throw",e)}},Rd=hd,Dd=Ed,jd=gr,Hd=yc,Md=hc,Ud=ic,qd=Array,zd=T,Bd=2147483647,Nd=/[^\0-\u007E]/,Fd=/[.\u3002\uFF0E\uFF61]/g,_d="Overflow: input needs wider integers to process",Wd=RangeError,Gd=zd(Fd.exec),Vd=Math.floor,$d=String.fromCharCode,Zd=zd("".charCodeAt),Yd=zd([].join),Jd=zd([].push),Xd=zd("".replace),Qd=zd("".split),Kd=zd("".toLowerCase),tp=function(t){return t+22+75*(t<26)},ep=function(t,e,n){var r=0;for(t=n?Vd(t/700):t>>1,t+=Vd(t/e);t>455;)t=Vd(t/35),r+=36;return Vd(r+36*t/(t+38))},np=function(t){var e=[];t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=Zd(t,n++);if(o>=55296&&o<=56319&&n<r){var i=Zd(t,n++);56320==(64512&i)?Jd(e,((1023&o)<<10)+(1023&i)+65536):(Jd(e,o),n--)}else Jd(e,o)}return e}(t);var n,r,o=t.length,i=128,a=0,s=72;for(n=0;n<t.length;n++)(r=t[n])<128&&Jd(e,$d(r));var c=e.length,u=c;for(c&&Jd(e,"-");u<o;){var l=Bd;for(n=0;n<t.length;n++)(r=t[n])>=i&&r<l&&(l=r);var f=u+1;if(l-i>Vd((Bd-a)/f))throw Wd(_d);for(a+=(l-i)*f,i=l,n=0;n<t.length;n++){if((r=t[n])<i&&++a>Bd)throw Wd(_d);if(r==i){for(var h=a,d=36;;){var p=d<=s?1:d>=s+26?26:d-s;if(h<p)break;var g=h-p,v=36-p;Jd(e,$d(tp(p+g%v))),h=Vd(g/v),d+=36}Jd(e,$d(tp(h))),s=ep(a,f,u==c),a=0,u++}}a++,i++}return Yd(e,"")},rp=oo,op=c,ip=qs,ap=i,sp=Ks,cp=T,up=tr,lp=Ns,fp=Vs,hp=_t,dp=nd,pp=function(t){var e=Ld(t),n=Dd(this),r=arguments.length,o=r>1?arguments[1]:void 0,i=void 0!==o;i&&(o=Pd(o,r>2?arguments[2]:void 0));var a,s,c,u,l,f,h=Ud(e),d=0;if(!h||this===qd&&Rd(h))for(a=jd(e),s=n?new this(a):qd(a);a>d;d++)f=i?o(e[d],d):e[d],Hd(s,d,f);else for(l=(u=Md(e,h)).next,s=n?new this:[];!(c=Od(l,u)).done;d++)f=i?Cd(u,o,[c.value,d],!0):c.value,Hd(s,d,f);return s.length=d,s},gp=Tc,vp=rf.codeAt,mp=function(t){var e,n,r=[],o=Qd(Xd(Kd(t),Fd,"."),".");for(e=0;e<o.length;e++)n=o[e],Jd(r,Gd(Nd,n)?"xn--"+np(n):n);return Yd(r,".")},yp=Mo,bp=Ma,wp=pc,Ip=Gu,xp=Cn,Sp=xp.set,Tp=xp.getterFor("URL"),kp=Ip.URLSearchParams,Ap=Ip.getState,Ep=ap.URL,Pp=ap.TypeError,Op=ap.parseInt,Lp=Math.floor,Cp=Math.pow,Rp=cp("".charAt),Dp=cp(/./.exec),jp=cp([].join),Hp=cp(1..toString),Mp=cp([].pop),Up=cp([].push),qp=cp("".replace),zp=cp([].shift),Bp=cp("".split),Np=cp("".slice),Fp=cp("".toLowerCase),_p=cp([].unshift),Wp="Invalid scheme",Gp="Invalid host",Vp="Invalid port",$p=/[a-z]/i,Zp=/[\d+-.a-z]/i,Yp=/\d/,Jp=/^0x/i,Xp=/^[0-7]+$/,Qp=/^\d+$/,Kp=/^[\da-f]+$/i,tg=/[\0\t\n\r #%/:<>?@[\\\]^|]/,eg=/[\0\t\n\r #/:<>?@[\\\]^|]/,ng=/^[\u0000-\u0020]+/,rg=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,og=/[\t\n\r]/g,ig=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)_p(e,t%256),t=Lp(t/256);return jp(e,".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=Hp(t[n],16),n<7&&(e+=":")));return"["+e+"]"}return t},ag={},sg=dp({},ag,{" ":1,'"':1,"<":1,">":1,"`":1}),cg=dp({},sg,{"#":1,"?":1,"{":1,"}":1}),ug=dp({},cg,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),lg=function(t,e){var n=vp(t,0);return n>32&&n<127&&!hp(e,t)?t:encodeURIComponent(t)},fg={ftp:21,file:null,http:80,https:443,ws:80,wss:443},hg=function(t,e){var n;return 2==t.length&&Dp($p,Rp(t,0))&&(":"==(n=Rp(t,1))||!e&&"|"==n)},dg=function(t){var e;return t.length>1&&hg(Np(t,0,2))&&(2==t.length||"/"===(e=Rp(t,2))||"\\"===e||"?"===e||"#"===e)},pg=function(t){return"."===t||"%2e"===Fp(t)},gg={},vg={},mg={},yg={},bg={},wg={},Ig={},xg={},Sg={},Tg={},kg={},Ag={},Eg={},Pg={},Og={},Lg={},Cg={},Rg={},Dg={},jg={},Hg={},Mg=function(t,e,n){var r,o,i,a=yp(t);if(e){if(o=this.parse(a))throw Pp(o);this.searchParams=null}else{if(void 0!==n&&(r=new Mg(n,!0)),o=this.parse(a,null,r))throw Pp(o);(i=Ap(new kp)).bindURL(this),this.searchParams=i}};Mg.prototype={type:"URL",parse:function(t,e,n){var r,o,i,a,s,c=this,u=e||gg,l=0,f="",h=!1,d=!1,p=!1;for(t=yp(t),e||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=qp(t,ng,""),t=qp(t,rg,"$1")),t=qp(t,og,""),r=pp(t);l<=r.length;){switch(o=r[l],u){case gg:if(!o||!Dp($p,o)){if(e)return Wp;u=mg;continue}f+=Fp(o),u=vg;break;case vg:if(o&&(Dp(Zp,o)||"+"==o||"-"==o||"."==o))f+=Fp(o);else{if(":"!=o){if(e)return Wp;f="",u=mg,l=0;continue}if(e&&(c.isSpecial()!=hp(fg,f)||"file"==f&&(c.includesCredentials()||null!==c.port)||"file"==c.scheme&&!c.host))return;if(c.scheme=f,e)return void(c.isSpecial()&&fg[c.scheme]==c.port&&(c.port=null));f="","file"==c.scheme?u=Pg:c.isSpecial()&&n&&n.scheme==c.scheme?u=yg:c.isSpecial()?u=xg:"/"==r[l+1]?(u=bg,l++):(c.cannotBeABaseURL=!0,Up(c.path,""),u=Dg)}break;case mg:if(!n||n.cannotBeABaseURL&&"#"!=o)return Wp;if(n.cannotBeABaseURL&&"#"==o){c.scheme=n.scheme,c.path=gp(n.path),c.query=n.query,c.fragment="",c.cannotBeABaseURL=!0,u=Hg;break}u="file"==n.scheme?Pg:wg;continue;case yg:if("/"!=o||"/"!=r[l+1]){u=wg;continue}u=Sg,l++;break;case bg:if("/"==o){u=Tg;break}u=Rg;continue;case wg:if(c.scheme=n.scheme,o==Ad)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=gp(n.path),c.query=n.query;else if("/"==o||"\\"==o&&c.isSpecial())u=Ig;else if("?"==o)c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=gp(n.path),c.query="",u=jg;else{if("#"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=gp(n.path),c.path.length--,u=Rg;continue}c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,c.path=gp(n.path),c.query=n.query,c.fragment="",u=Hg}break;case Ig:if(!c.isSpecial()||"/"!=o&&"\\"!=o){if("/"!=o){c.username=n.username,c.password=n.password,c.host=n.host,c.port=n.port,u=Rg;continue}u=Tg}else u=Sg;break;case xg:if(u=Sg,"/"!=o||"/"!=Rp(f,l+1))continue;l++;break;case Sg:if("/"!=o&&"\\"!=o){u=Tg;continue}break;case Tg:if("@"==o){h&&(f="%40"+f),h=!0,i=pp(f);for(var g=0;g<i.length;g++){var v=i[g];if(":"!=v||p){var m=lg(v,ug);p?c.password+=m:c.username+=m}else p=!0}f=""}else if(o==Ad||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(h&&""==f)return"Invalid authority";l-=pp(f).length+1,f="",u=kg}else f+=o;break;case kg:case Ag:if(e&&"file"==c.scheme){u=Lg;continue}if(":"!=o||d){if(o==Ad||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()){if(c.isSpecial()&&""==f)return Gp;if(e&&""==f&&(c.includesCredentials()||null!==c.port))return;if(a=c.parseHost(f))return a;if(f="",u=Cg,e)return;continue}"["==o?d=!0:"]"==o&&(d=!1),f+=o}else{if(""==f)return Gp;if(a=c.parseHost(f))return a;if(f="",u=Eg,e==Ag)return}break;case Eg:if(!Dp(Yp,o)){if(o==Ad||"/"==o||"?"==o||"#"==o||"\\"==o&&c.isSpecial()||e){if(""!=f){var y=Op(f,10);if(y>65535)return Vp;c.port=c.isSpecial()&&y===fg[c.scheme]?null:y,f=""}if(e)return;u=Cg;continue}return Vp}f+=o;break;case Pg:if(c.scheme="file","/"==o||"\\"==o)u=Og;else{if(!n||"file"!=n.scheme){u=Rg;continue}if(o==Ad)c.host=n.host,c.path=gp(n.path),c.query=n.query;else if("?"==o)c.host=n.host,c.path=gp(n.path),c.query="",u=jg;else{if("#"!=o){dg(jp(gp(r,l),""))||(c.host=n.host,c.path=gp(n.path),c.shortenPath()),u=Rg;continue}c.host=n.host,c.path=gp(n.path),c.query=n.query,c.fragment="",u=Hg}}break;case Og:if("/"==o||"\\"==o){u=Lg;break}n&&"file"==n.scheme&&!dg(jp(gp(r,l),""))&&(hg(n.path[0],!0)?Up(c.path,n.path[0]):c.host=n.host),u=Rg;continue;case Lg:if(o==Ad||"/"==o||"\\"==o||"?"==o||"#"==o){if(!e&&hg(f))u=Rg;else if(""==f){if(c.host="",e)return;u=Cg}else{if(a=c.parseHost(f))return a;if("localhost"==c.host&&(c.host=""),e)return;f="",u=Cg}continue}f+=o;break;case Cg:if(c.isSpecial()){if(u=Rg,"/"!=o&&"\\"!=o)continue}else if(e||"?"!=o)if(e||"#"!=o){if(o!=Ad&&(u=Rg,"/"!=o))continue}else c.fragment="",u=Hg;else c.query="",u=jg;break;case Rg:if(o==Ad||"/"==o||"\\"==o&&c.isSpecial()||!e&&("?"==o||"#"==o)){if(".."===(s=Fp(s=f))||"%2e."===s||".%2e"===s||"%2e%2e"===s?(c.shortenPath(),"/"==o||"\\"==o&&c.isSpecial()||Up(c.path,"")):pg(f)?"/"==o||"\\"==o&&c.isSpecial()||Up(c.path,""):("file"==c.scheme&&!c.path.length&&hg(f)&&(c.host&&(c.host=""),f=Rp(f,0)+":"),Up(c.path,f)),f="","file"==c.scheme&&(o==Ad||"?"==o||"#"==o))for(;c.path.length>1&&""===c.path[0];)zp(c.path);"?"==o?(c.query="",u=jg):"#"==o&&(c.fragment="",u=Hg)}else f+=lg(o,cg);break;case Dg:"?"==o?(c.query="",u=jg):"#"==o?(c.fragment="",u=Hg):o!=Ad&&(c.path[0]+=lg(o,ag));break;case jg:e||"#"!=o?o!=Ad&&("'"==o&&c.isSpecial()?c.query+="%27":c.query+="#"==o?"%23":lg(o,ag)):(c.fragment="",u=Hg);break;case Hg:o!=Ad&&(c.fragment+=lg(o,sg))}l++}},parseHost:function(t){var e,n,r;if("["==Rp(t,0)){if("]"!=Rp(t,t.length-1))return Gp;if(e=function(t){var e,n,r,o,i,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,h=function(){return Rp(t,f)};if(":"==h()){if(":"!=Rp(t,1))return;f+=2,l=++u}for(;h();){if(8==u)return;if(":"!=h()){for(e=n=0;n<4&&Dp(Kp,h());)e=16*e+Op(h(),16),f++,n++;if("."==h()){if(0==n)return;if(f-=n,u>6)return;for(r=0;h();){if(o=null,r>0){if(!("."==h()&&r<4))return;f++}if(!Dp(Yp,h()))return;for(;Dp(Yp,h());){if(i=Op(h(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;f++}c[u]=256*c[u]+o,2!=++r&&4!=r||u++}if(4!=r)return;break}if(":"==h()){if(f++,!h())return}else if(h())return;c[u++]=e}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c}(Np(t,1,-1)),!e)return Gp;this.host=e}else if(this.isSpecial()){if(t=mp(t),Dp(tg,t))return Gp;if(e=function(t){var e,n,r,o,i,a,s,c=Bp(t,".");if(c.length&&""==c[c.length-1]&&c.length--,(e=c.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=c[r]))return t;if(i=10,o.length>1&&"0"==Rp(o,0)&&(i=Dp(Jp,o)?16:8,o=Np(o,8==i?1:2)),""===o)a=0;else{if(!Dp(10==i?Qp:8==i?Xp:Kp,o))return t;a=Op(o,i)}Up(n,a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=Cp(256,5-e))return null}else if(a>255)return null;for(s=Mp(n),r=0;r<n.length;r++)s+=n[r]*Cp(256,3-r);return s}(t),null===e)return Gp;this.host=e}else{if(Dp(eg,t))return Gp;for(e="",n=pp(t),r=0;r<n.length;r++)e+=lg(n[r],ag);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return hp(fg,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&hg(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,c=t.fragment,u=e+":";return null!==o?(u+="//",t.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=ig(o),null!==i&&(u+=":"+i)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?a[0]:a.length?"/"+jp(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},setHref:function(t){var e=this.parse(t);if(e)throw Pp(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Ug(t.path[0]).origin}catch(t){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+ig(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(yp(t)+":",gg)},getUsername:function(){return this.username},setUsername:function(t){var e=pp(yp(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<e.length;n++)this.username+=lg(e[n],ug)}},getPassword:function(){return this.password},setPassword:function(t){var e=pp(yp(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<e.length;n++)this.password+=lg(e[n],ug)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?ig(t):ig(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,kg)},getHostname:function(){var t=this.host;return null===t?"":ig(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Ag)},getPort:function(){var t=this.port;return null===t?"":yp(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(""==(t=yp(t))?this.port=null:this.parse(t,Eg))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+jp(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Cg))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){""==(t=yp(t))?this.query=null:("?"==Rp(t,0)&&(t=Np(t,1)),this.query="",this.parse(t,jg)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){""!=(t=yp(t))?("#"==Rp(t,0)&&(t=Np(t,1)),this.fragment="",this.parse(t,Hg)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ug=function(t){var e=fp(this,qg),n=wp(arguments.length,1)>1?arguments[1]:void 0,r=Sp(e,new Mg(t,!1,n));op||(e.href=r.serialize(),e.origin=r.getOrigin(),e.protocol=r.getProtocol(),e.username=r.getUsername(),e.password=r.getPassword(),e.host=r.getHost(),e.hostname=r.getHostname(),e.port=r.getPort(),e.pathname=r.getPathname(),e.search=r.getSearch(),e.searchParams=r.getSearchParams(),e.hash=r.getHash())},qg=Ug.prototype,zg=function(t,e){return{get:function(){return Tp(this)[t]()},set:e&&function(t){return Tp(this)[e](t)},configurable:!0,enumerable:!0}};if(op&&(lp(qg,"href",zg("serialize","setHref")),lp(qg,"origin",zg("getOrigin")),lp(qg,"protocol",zg("getProtocol","setProtocol")),lp(qg,"username",zg("getUsername","setUsername")),lp(qg,"password",zg("getPassword","setPassword")),lp(qg,"host",zg("getHost","setHost")),lp(qg,"hostname",zg("getHostname","setHostname")),lp(qg,"port",zg("getPort","setPort")),lp(qg,"pathname",zg("getPathname","setPathname")),lp(qg,"search",zg("getSearch","setSearch")),lp(qg,"searchParams",zg("getSearchParams")),lp(qg,"hash",zg("getHash","setHash"))),up(qg,"toJSON",(function(){return Tp(this).serialize()}),{enumerable:!0}),up(qg,"toString",(function(){return Tp(this).serialize()}),{enumerable:!0}),Ep){var Bg=Ep.createObjectURL,Ng=Ep.revokeObjectURL;Bg&&up(Ug,"createObjectURL",sp(Bg,Ep)),Ng&&up(Ug,"revokeObjectURL",sp(Ng,Ep))}bp(Ug,"URL"),rp({global:!0,constructor:!0,forced:!ip,sham:!op},{URL:Ug});var Fg=h;function _g(){return"object"==typeof window&&"object"==typeof document&&"[object HTMLDocument]"===Object.prototype.toString.call(document)}function Wg(){return Math.random().toString(36).slice(2)}function Gg(t){return Object.prototype.toString.call(t)}function Vg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $g(t){return"number"==typeof t}function Zg(t){return"[object BigInt]"===Gg(t)}function Yg(t){return t instanceof Array}function Jg(t){return"object"==typeof t&&null!==t}oo({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return Fg(URL.prototype.toString,this)}});const Xg=["zh-CN","zh-HK","zh-TW","zh","zh-Hans-CN"];const Qg=t=>"".concat(t),Kg=t=>({ok:!0,value:t});function tv(t){return void 0===t?Kg(Qg(t)):null===t?Kg(t):$g(t)&&(t===-1/0||t===1/0||Number.isNaN(t))?Kg(Qg(t)):Zg(t)?Kg("".concat(t,"n")):"symbol"==typeof t||"function"==typeof t?Kg(Qg(t.toString())):t instanceof Error?Kg(Qg(t.stack)):t===Object.prototype?{value:null,ok:!1}:t instanceof Object||"object"==typeof t?{value:t,ok:!1}:Kg(t)}function ev(t){return void 0===t?"undefined":null===t?"null":Zg(t)?"bigint":t instanceof Object?t instanceof Error?"error":"function"==typeof t?"function":"object":typeof t}const nv={...console},rv=["log","info","error","warn","debug"].reduce(((t,e)=>(t[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];console[e]("[PageSpy] [".concat(e.toLocaleUpperCase(),"] "),...n)},t.unproxy[e]=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];nv[e]("[PageSpy] [".concat(e.toLocaleUpperCase(),"] "),...n)},t)),{unproxy:{}}),ov=t=>t.replace(/\/$/,"");var iv=Ks,av=D,sv=Bt,cv=gr,uv=function(t){var e=1==t;return function(n,r,o){for(var i,a=sv(n),s=av(a),c=iv(r,o),u=cv(s);u-- >0;)if(c(i=s[u],u,a))switch(t){case 0:return i;case 1:return u}return e?-1:void 0}},lv={findLast:uv(0),findLastIndex:uv(1)},fv=lv.findLast,hv=da;oo({target:"Array",proto:!0},{findLast:function(t){return fv(this,t,arguments.length>1?arguments[1]:void 0)}}),hv("findLast");var dv=mt,pv=TypeError,gv=Bt,vv=gr,mv=Si,yv=function(t,e){if(!delete t[e])throw pv("Cannot delete property "+dv(e)+" of "+dv(t))},bv=ki;oo({target:"Array",proto:!0,arity:1,forced:1!==[].unshift(0)||!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(t){return t instanceof TypeError}}()},{unshift:function(t){var e=gv(this),n=vv(e),r=arguments.length;if(r){bv(n+r);for(var o=n;o--;){var i=o+r;o in e?e[i]=e[o]:yv(e,i)}for(var a=0;a<r;a++)e[a]=arguments[a]}return mv(e,n+r)}});var wv={exports:{}},Iv=re("iterator"),xv=!1;try{var Sv=0,Tv={next:function(){return{done:!!Sv++}},return:function(){xv=!0}};Tv[Iv]=function(){return this},Array.from(Tv,(function(){throw 2}))}catch(t){}var kv,Av,Ev,Pv="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Ov=Pv,Lv=c,Cv=i,Rv=W,Dv=$,jv=_t,Hv=Do,Mv=mt,Uv=Ye,qv=tr,zv=Ns,Bv=X,Nv=Sa,Fv=wo,_v=re,Wv=Zt,Gv=Cn.enforce,Vv=Cn.get,$v=Cv.Int8Array,Zv=$v&&$v.prototype,Yv=Cv.Uint8ClampedArray,Jv=Yv&&Yv.prototype,Xv=$v&&Nv($v),Qv=Zv&&Nv(Zv),Kv=Object.prototype,tm=Cv.TypeError,em=_v("toStringTag"),nm=Wv("TYPED_ARRAY_TAG"),rm="TypedArrayConstructor",om=Ov&&!!Fv&&"Opera"!==Hv(Cv.opera),im=!1,am={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},sm={BigInt64Array:8,BigUint64Array:8},cm=function(t){var e=Nv(t);if(Dv(e)){var n=Vv(e);return n&&jv(n,rm)?n[rm]:cm(e)}},um=function(t){if(!Dv(t))return!1;var e=Hv(t);return jv(am,e)||jv(sm,e)};for(kv in am)(Ev=(Av=Cv[kv])&&Av.prototype)?Gv(Ev)[rm]=Av:om=!1;for(kv in sm)(Ev=(Av=Cv[kv])&&Av.prototype)&&(Gv(Ev)[rm]=Av);if((!om||!Rv(Xv)||Xv===Function.prototype)&&(Xv=function(){throw tm("Incorrect invocation")},om))for(kv in am)Cv[kv]&&Fv(Cv[kv],Xv);if((!om||!Qv||Qv===Kv)&&(Qv=Xv.prototype,om))for(kv in am)Cv[kv]&&Fv(Cv[kv].prototype,Qv);if(om&&Nv(Jv)!==Qv&&Fv(Jv,Qv),Lv&&!jv(Qv,em))for(kv in im=!0,zv(Qv,em,{configurable:!0,get:function(){return Dv(this)?this[nm]:void 0}}),am)Cv[kv]&&Uv(Cv[kv],nm,kv);var lm={NATIVE_ARRAY_BUFFER_VIEWS:om,TYPED_ARRAY_TAG:im&&nm,aTypedArray:function(t){if(um(t))return t;throw tm("Target is not a typed array")},aTypedArrayConstructor:function(t){if(Rv(t)&&(!Fv||Bv(Xv,t)))return t;throw tm(Mv(t)+" is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n,r){if(Lv){if(n)for(var o in am){var i=Cv[o];if(i&&jv(i.prototype,t))try{delete i.prototype[t]}catch(n){try{i.prototype[t]=e}catch(t){}}}Qv[t]&&!n||qv(Qv,t,n?e:om&&Zv[t]||e,r)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(Lv){if(Fv){if(n)for(r in am)if((o=Cv[r])&&jv(o,t))try{delete o[t]}catch(t){}if(Xv[t]&&!n)return;try{return qv(Xv,t,n?e:om&&Xv[t]||e)}catch(t){}}for(r in am)!(o=Cv[r])||o[t]&&!n||qv(o,t,e)}},getTypedArrayConstructor:cm,isView:function(t){if(!Dv(t))return!1;var e=Hv(t);return"DataView"===e||jv(am,e)||jv(sm,e)},isTypedArray:um,TypedArray:Xv,TypedArrayPrototype:Qv},fm=i,hm=s,dm=function(t,e){if(!e&&!xv)return!1;var n=!1;try{var r={};r[Iv]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(t){}return n},pm=lm.NATIVE_ARRAY_BUFFER_VIEWS,gm=fm.ArrayBuffer,vm=fm.Int8Array,mm=!pm||!hm((function(){vm(1)}))||!hm((function(){new vm(-1)}))||!dm((function(t){new vm,new vm(null),new vm(1.5),new vm(t)}),!0)||hm((function(){return 1!==new vm(new gm(2),1,void 0).length})),ym=Array,bm=Math.abs,wm=Math.pow,Im=Math.floor,xm=Math.log,Sm=Math.LN2,Tm=Bt,km=lr,Am=gr,Em=function(t){for(var e=Tm(this),n=Am(e),r=arguments.length,o=km(r>1?arguments[1]:void 0,n),i=r>2?arguments[2]:void 0,a=void 0===i?n:km(i,n);a>o;)e[o++]=t;return e},Pm=i,Om=T,Lm=c,Cm=Pv,Rm=nn,Dm=Ye,jm=Ns,Hm=_s,Mm=s,Um=Vs,qm=ar,zm=dr,Bm=oh,Nm={pack:function(t,e,n){var r,o,i,a=ym(n),s=8*n-e-1,c=(1<<s)-1,u=c>>1,l=23===e?wm(2,-24)-wm(2,-77):0,f=t<0||0===t&&1/t<0?1:0,h=0;for((t=bm(t))!=t||t===1/0?(o=t!=t?1:0,r=c):(r=Im(xm(t)/Sm),t*(i=wm(2,-r))<1&&(r--,i*=2),(t+=r+u>=1?l/i:l*wm(2,1-u))*i>=2&&(r++,i/=2),r+u>=c?(o=0,r=c):r+u>=1?(o=(t*i-1)*wm(2,e),r+=u):(o=t*wm(2,u-1)*wm(2,e),r=0));e>=8;)a[h++]=255&o,o/=256,e-=8;for(r=r<<e|o,s+=e;s>0;)a[h++]=255&r,r/=256,s-=8;return a[--h]|=128*f,a},unpack:function(t,e){var n,r=t.length,o=8*r-e-1,i=(1<<o)-1,a=i>>1,s=o-7,c=r-1,u=t[c--],l=127&u;for(u>>=7;s>0;)l=256*l+t[c--],s-=8;for(n=l&(1<<-s)-1,l>>=-s,s+=e;s>0;)n=256*n+t[c--],s-=8;if(0===l)l=1-a;else{if(l===i)return n?NaN:u?-1/0:1/0;n+=wm(2,e),l-=a}return(u?-1:1)*n*wm(2,l-e)}},Fm=Sa,_m=wo,Wm=er.f,Gm=Em,Vm=Tc,$m=Ma,Zm=Cn,Ym=Rm.PROPER,Jm=Rm.CONFIGURABLE,Xm="ArrayBuffer",Qm="DataView",Km="prototype",ty="Wrong index",ey=Zm.getterFor(Xm),ny=Zm.getterFor(Qm),ry=Zm.set,oy=Pm[Xm],iy=oy,ay=iy&&iy[Km],sy=Pm[Qm],cy=sy&&sy[Km],uy=Object.prototype,ly=Pm.Array,fy=Pm.RangeError,hy=Om(Gm),dy=Om([].reverse),py=Nm.pack,gy=Nm.unpack,vy=function(t){return[255&t]},my=function(t){return[255&t,t>>8&255]},yy=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},by=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},wy=function(t){return py(t,23,4)},Iy=function(t){return py(t,52,8)},xy=function(t,e,n){jm(t[Km],e,{configurable:!0,get:function(){return n(this)[e]}})},Sy=function(t,e,n,r){var o=Bm(n),i=ny(t);if(o+e>i.byteLength)throw fy(ty);var a=i.bytes,s=o+i.byteOffset,c=Vm(a,s,s+e);return r?c:dy(c)},Ty=function(t,e,n,r,o,i){var a=Bm(n),s=ny(t);if(a+e>s.byteLength)throw fy(ty);for(var c=s.bytes,u=a+s.byteOffset,l=r(+o),f=0;f<e;f++)c[u+f]=l[i?f:e-f-1]};if(Cm){var ky=Ym&&oy.name!==Xm;if(Mm((function(){oy(1)}))&&Mm((function(){new oy(-1)}))&&!Mm((function(){return new oy,new oy(1.5),new oy(NaN),1!=oy.length||ky&&!Jm})))ky&&Jm&&Dm(oy,"name",Xm);else{(iy=function(t){return Um(this,ay),new oy(Bm(t))})[Km]=ay;for(var Ay,Ey=Wm(oy),Py=0;Ey.length>Py;)(Ay=Ey[Py++])in iy||Dm(iy,Ay,oy[Ay]);ay.constructor=iy}_m&&Fm(cy)!==uy&&_m(cy,uy);var Oy=new sy(new iy(2)),Ly=Om(cy.setInt8);Oy.setInt8(0,2147483648),Oy.setInt8(1,2147483649),!Oy.getInt8(0)&&Oy.getInt8(1)||Hm(cy,{setInt8:function(t,e){Ly(this,t,e<<24>>24)},setUint8:function(t,e){Ly(this,t,e<<24>>24)}},{unsafe:!0})}else ay=(iy=function(t){Um(this,ay);var e=Bm(t);ry(this,{type:Xm,bytes:hy(ly(e),0),byteLength:e}),Lm||(this.byteLength=e,this.detached=!1)})[Km],cy=(sy=function(t,e,n){Um(this,cy),Um(t,ay);var r=ey(t),o=r.byteLength,i=qm(e);if(i<0||i>o)throw fy("Wrong offset");if(i+(n=void 0===n?o-i:zm(n))>o)throw fy("Wrong length");ry(this,{type:Qm,buffer:t,byteLength:n,byteOffset:i,bytes:r.bytes}),Lm||(this.buffer=t,this.byteLength=n,this.byteOffset=i)})[Km],Lm&&(xy(iy,"byteLength",ey),xy(sy,"buffer",ny),xy(sy,"byteLength",ny),xy(sy,"byteOffset",ny)),Hm(cy,{getInt8:function(t){return Sy(this,1,t)[0]<<24>>24},getUint8:function(t){return Sy(this,1,t)[0]},getInt16:function(t){var e=Sy(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=Sy(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return by(Sy(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return by(Sy(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return gy(Sy(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return gy(Sy(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){Ty(this,1,t,vy,e)},setUint8:function(t,e){Ty(this,1,t,vy,e)},setInt16:function(t,e){Ty(this,2,t,my,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){Ty(this,2,t,my,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){Ty(this,4,t,yy,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){Ty(this,4,t,yy,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){Ty(this,4,t,wy,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){Ty(this,8,t,Iy,e,arguments.length>2?arguments[2]:void 0)}});$m(iy,Xm),$m(sy,Qm);var Cy={ArrayBuffer:iy,DataView:sy},Ry=$,Dy=Math.floor,jy=Number.isInteger||function(t){return!Ry(t)&&isFinite(t)&&Dy(t)===t},Hy=ar,My=RangeError,Uy=function(t){var e=Hy(t);if(e<0)throw My("The argument can't be less than 0");return e},qy=RangeError,zy=function(t,e){var n=Uy(t);if(n%e)throw qy("Wrong offset");return n},By=Ed,Ny=mt,Fy=TypeError,_y=Do,Wy=function(t){var e=_y(t);return"BigInt64Array"==e||"BigUint64Array"==e},Gy=fe,Vy=TypeError,$y=function(t){var e=Gy(t,"number");if("number"==typeof e)throw Vy("Can't convert number to bigint");return BigInt(e)},Zy=Ks,Yy=h,Jy=function(t){if(By(t))return t;throw Fy(Ny(t)+" is not a constructor")},Xy=Bt,Qy=gr,Ky=hc,tb=ic,eb=hd,nb=Wy,rb=lm.aTypedArrayConstructor,ob=$y,ib=yi,ab=Ed,sb=$,cb=re("species"),ub=Array,lb=function(t){var e;return ib(t)&&(e=t.constructor,(ab(e)&&(e===ub||ib(e.prototype))||sb(e)&&null===(e=e[cb]))&&(e=void 0)),void 0===e?ub:e},fb=Ks,hb=D,db=Bt,pb=gr,gb=function(t,e){return new(lb(t))(0===e?0:e)},vb=T([].push),mb=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,a=7==t,s=5==t||i;return function(c,u,l,f){for(var h,d,p=db(c),g=hb(p),v=fb(u,l),m=pb(g),y=0,b=f||gb,w=e?b(c,m):n||a?b(c,0):void 0;m>y;y++)if((s||y in g)&&(d=v(h=g[y],y,p),t))if(e)w[y]=d;else if(d)switch(t){case 3:return!0;case 5:return h;case 6:return y;case 2:vb(w,h)}else switch(t){case 4:return!1;case 7:vb(w,h)}return i?-1:r||o?o:w}},yb={forEach:mb(0),map:mb(1),filter:mb(2),some:mb(3),every:mb(4),find:mb(5),findIndex:mb(6),filterReject:mb(7)},bb=J,wb=Ns,Ib=c,xb=re("species"),Sb=oo,Tb=i,kb=h,Ab=c,Eb=mm,Pb=lm,Ob=Cy,Lb=Vs,Cb=b,Rb=Ye,Db=jy,jb=dr,Hb=oh,Mb=zy,Ub=pe,qb=_t,zb=Do,Bb=$,Nb=gt,Fb=oa,_b=X,Wb=wo,Gb=er.f,Vb=function(t){var e,n,r,o,i,a,s,c,u=Jy(this),l=Xy(t),f=arguments.length,h=f>1?arguments[1]:void 0,d=void 0!==h,p=tb(l);if(p&&!eb(p))for(c=(s=Ky(l,p)).next,l=[];!(a=Yy(c,s)).done;)l.push(a.value);for(d&&f>2&&(h=Zy(h,arguments[2])),n=Qy(l),r=new(rb(u))(n),o=nb(r),e=0;n>e;e++)i=d?h(l[e],e):l[e],r[e]=o?ob(i):+i;return r},$b=yb.forEach,Zb=function(t){var e=bb(t);Ib&&e&&!e[xb]&&wb(e,xb,{configurable:!0,get:function(){return this}})},Yb=Ns,Jb=Le,Xb=a,Qb=ko,Kb=Cn.get,tw=Cn.set,ew=Cn.enforce,nw=Jb.f,rw=Xb.f,ow=Math.round,iw=Tb.RangeError,aw=Ob.ArrayBuffer,sw=aw.prototype,cw=Ob.DataView,uw=Pb.NATIVE_ARRAY_BUFFER_VIEWS,lw=Pb.TYPED_ARRAY_TAG,fw=Pb.TypedArray,hw=Pb.TypedArrayPrototype,dw=Pb.aTypedArrayConstructor,pw=Pb.isTypedArray,gw="BYTES_PER_ELEMENT",vw="Wrong length",mw=function(t,e){dw(t);for(var n=0,r=e.length,o=new t(r);r>n;)o[n]=e[n++];return o},yw=function(t,e){Yb(t,e,{configurable:!0,get:function(){return Kb(this)[e]}})},bw=function(t){var e;return _b(sw,t)||"ArrayBuffer"==(e=zb(t))||"SharedArrayBuffer"==e},ww=function(t,e){return pw(t)&&!Nb(e)&&e in t&&Db(+e)&&e>=0},Iw=function(t,e){return e=Ub(e),ww(t,e)?Cb(2,t[e]):rw(t,e)},xw=function(t,e,n){return e=Ub(e),!(ww(t,e)&&Bb(n)&&qb(n,"value"))||qb(n,"get")||qb(n,"set")||n.configurable||qb(n,"writable")&&!n.writable||qb(n,"enumerable")&&!n.enumerable?nw(t,e,n):(t[e]=n.value,t)};Ab?(uw||(Xb.f=Iw,Jb.f=xw,yw(hw,"buffer"),yw(hw,"byteOffset"),yw(hw,"byteLength"),yw(hw,"length")),Sb({target:"Object",stat:!0,forced:!uw},{getOwnPropertyDescriptor:Iw,defineProperty:xw}),wv.exports=function(t,e,n){var r=t.match(/\d+/)[0]/8,o=t+(n?"Clamped":"")+"Array",i="get"+t,a="set"+t,s=Tb[o],c=s,u=c&&c.prototype,l={},f=function(t,e){nw(t,e,{get:function(){return function(t,e){var n=Kb(t);return n.view[i](e*r+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,o){var i=Kb(t);n&&(o=(o=ow(o))<0?0:o>255?255:255&o),i.view[a](e*r+i.byteOffset,o,!0)}(this,e,t)},enumerable:!0})};uw?Eb&&(c=e((function(t,e,n,o){return Lb(t,u),Qb(Bb(e)?bw(e)?void 0!==o?new s(e,Mb(n,r),o):void 0!==n?new s(e,Mb(n,r)):new s(e):pw(e)?mw(c,e):kb(Vb,c,e):new s(Hb(e)),t,c)})),Wb&&Wb(c,fw),$b(Gb(s),(function(t){t in c||Rb(c,t,s[t])})),c.prototype=u):(c=e((function(t,e,n,o){Lb(t,u);var i,a,s,l=0,h=0;if(Bb(e)){if(!bw(e))return pw(e)?mw(c,e):kb(Vb,c,e);i=e,h=Mb(n,r);var d=e.byteLength;if(void 0===o){if(d%r)throw iw(vw);if((a=d-h)<0)throw iw(vw)}else if((a=jb(o)*r)+h>d)throw iw(vw);s=a/r}else s=Hb(e),i=new aw(a=s*r);for(tw(t,{buffer:i,byteOffset:h,byteLength:a,length:s,view:new cw(i)});l<s;)f(t,l++)})),Wb&&Wb(c,fw),u=c.prototype=Fb(hw)),u.constructor!==c&&Rb(u,"constructor",c),ew(u).TypedArrayConstructor=c,lw&&Rb(u,lw,o);var h=c!=s;l[o]=c,Sb({global:!0,constructor:!0,forced:h,sham:!uw},l),gw in c||Rb(c,gw,r),gw in u||Rb(u,gw,r),Zb(o)}):wv.exports=function(){};var Sw=wv.exports;Sw("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Sw("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}})),Sw("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}));var Tw=gr,kw=ar,Aw=lm.aTypedArray;(0,lm.exportTypedArrayMethod)("at",(function(t){var e=Aw(this),n=Tw(e),r=kw(t),o=r>=0?r:n+r;return o<0||o>=n?void 0:e[o]}));var Ew=Em,Pw=$y,Ow=Do,Lw=h,Cw=s,Rw=lm.aTypedArray,Dw=lm.exportTypedArrayMethod,jw=T("".slice);Dw("fill",(function(t){var e=arguments.length;Rw(this);var n="Big"===jw(Ow(this),0,3)?Pw(t):+t;return Lw(Ew,this,n,e>1?arguments[1]:void 0,e>2?arguments[2]:void 0)}),Cw((function(){var t=0;return new Int8Array(2).fill({valueOf:function(){return t++}}),1!==t})));var Hw=lv.findLast,Mw=lm.aTypedArray;(0,lm.exportTypedArrayMethod)("findLast",(function(t){return Hw(Mw(this),t,arguments.length>1?arguments[1]:void 0)}));var Uw=lv.findLastIndex,qw=lm.aTypedArray;(0,lm.exportTypedArrayMethod)("findLastIndex",(function(t){return Uw(qw(this),t,arguments.length>1?arguments[1]:void 0)}));var zw=i,Bw=h,Nw=lm,Fw=gr,_w=zy,Ww=Bt,Gw=s,Vw=zw.RangeError,$w=zw.Int8Array,Zw=$w&&$w.prototype,Yw=Zw&&Zw.set,Jw=Nw.aTypedArray,Xw=Nw.exportTypedArrayMethod,Qw=!Gw((function(){var t=new Uint8ClampedArray(2);return Bw(Yw,t,{length:1,0:3},1),3!==t[1]})),Kw=Qw&&Nw.NATIVE_ARRAY_BUFFER_VIEWS&&Gw((function(){var t=new $w(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));Xw("set",(function(t){Jw(this);var e=_w(arguments.length>1?arguments[1]:void 0,1),n=Ww(t);if(Qw)return Bw(Yw,this,n,e);var r=this.length,o=Fw(n),i=0;if(o+e>r)throw Vw("Wrong length");for(;i<o;)this[e+i]=n[i++]}),!Qw||Kw);var tI=Q.match(/firefox\/(\d+)/i),eI=!!tI&&+tI[1],nI=/MSIE|Trident/.test(Q),rI=Q.match(/AppleWebKit\/(\d+)\./),oI=!!rI&&+rI[1],iI=Ys,aI=s,sI=It,cI=Lc,uI=eI,lI=nI,fI=it,hI=oI,dI=lm.aTypedArray,pI=lm.exportTypedArrayMethod,gI=i.Uint16Array,vI=gI&&iI(gI.prototype.sort),mI=!(!vI||aI((function(){vI(new gI(2),null)}))&&aI((function(){vI(new gI(2),{})}))),yI=!!vI&&!aI((function(){if(fI)return fI<74;if(uI)return uI<67;if(lI)return!0;if(hI)return hI<602;var t,e,n=new gI(516),r=Array(516);for(t=0;t<516;t++)e=t%4,n[t]=515-t,r[t]=t-2*e+3;for(vI(n,(function(t,e){return(t/4|0)-(e/4|0)})),t=0;t<516;t++)if(n[t]!==r[t])return!0}));pI("sort",(function(t){return void 0!==t&&sI(t),yI?vI(this,t):cI(dI(this),function(t){return function(e,n){return void 0!==t?+t(e,n)||0:n!=n?-1:e!=e?1:0===e&&0===n?1/e>0&&1/n<0?1:-1:e>n}}(t))}),!yI||mI);var bI=gr,wI=function(t,e){for(var n=bI(t),r=new e(n),o=0;o<n;o++)r[o]=t[n-o-1];return r},II=lm.aTypedArray,xI=lm.getTypedArrayConstructor;(0,lm.exportTypedArrayMethod)("toReversed",(function(){return wI(II(this),xI(this))}));var SI=gr,TI=It,kI=function(t,e){for(var n=0,r=SI(e),o=new t(r);r>n;)o[n]=e[n++];return o},AI=lm.aTypedArray,EI=lm.getTypedArrayConstructor,PI=lm.exportTypedArrayMethod,OI=T(lm.TypedArrayPrototype.sort);PI("toSorted",(function(t){void 0!==t&&TI(t);var e=AI(this),n=kI(EI(e),e);return OI(n,t)}));var LI=gr,CI=ar,RI=RangeError,DI=function(t,e,n,r){var o=LI(t),i=CI(n),a=i<0?o+i:i;if(a>=o||a<0)throw RI("Incorrect index");for(var s=new e(o),c=0;c<o;c++)s[c]=c===a?r:t[c];return s},jI=Wy,HI=ar,MI=$y,UI=lm.aTypedArray,qI=lm.getTypedArrayConstructor,zI=lm.exportTypedArrayMethod,BI=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();zI("with",{with:function(t,e){var n=UI(this),r=HI(t),o=jI(n)?MI(e):+e;return DI(n,qI(n),r,o)}}.with,!BI);var NI=Uint8Array,FI=Uint16Array,_I=Int32Array,WI=new NI([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),GI=new NI([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),VI=new NI([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),$I=function(t,e){for(var n=new FI(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var o=new _I(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return{b:n,r:o}},ZI=$I(WI,2),YI=ZI.b,JI=ZI.r;YI[28]=258,JI[258]=28;for(var XI=$I(GI,0).r,QI=new FI(32768),KI=0;KI<32768;++KI){var tx=(43690&KI)>>1|(21845&KI)<<1;tx=(61680&(tx=(52428&tx)>>2|(13107&tx)<<2))>>4|(3855&tx)<<4,QI[KI]=((65280&tx)>>8|(255&tx)<<8)>>1}var ex=function(t,e,n){for(var r=t.length,o=0,i=new FI(e);o<r;++o)t[o]&&++i[t[o]-1];var a,s=new FI(e);for(o=1;o<e;++o)s[o]=s[o-1]+i[o-1]<<1;if(n){a=new FI(1<<e);var c=15-e;for(o=0;o<r;++o)if(t[o])for(var u=o<<4|t[o],l=e-t[o],f=s[t[o]-1]++<<l,h=f|(1<<l)-1;f<=h;++f)a[QI[f]>>c]=u}else for(a=new FI(r),o=0;o<r;++o)t[o]&&(a[o]=QI[s[t[o]-1]++]>>15-t[o]);return a},nx=new NI(288);for(KI=0;KI<144;++KI)nx[KI]=8;for(KI=144;KI<256;++KI)nx[KI]=9;for(KI=256;KI<280;++KI)nx[KI]=7;for(KI=280;KI<288;++KI)nx[KI]=8;var rx=new NI(32);for(KI=0;KI<32;++KI)rx[KI]=5;var ox=ex(nx,9,0),ix=ex(rx,5,0),ax=function(t){return(t+7)/8|0},sx=function(t,e,n){return(null==e||e<0)&&(e=0),(null==n||n>t.length)&&(n=t.length),new NI(t.subarray(e,n))},cx=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ux=function(t,e,n){var r=new Error(e||cx[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ux),!n)throw r;return r},lx=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},fx=function(t,e,n){n<<=7&e;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},hx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var o=n.length,i=n.slice();if(!o)return{t:bx,l:0};if(1==o){var a=new NI(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort((function(t,e){return t.f-e.f})),n.push({s:-1,f:25001});var s=n[0],c=n[1],u=0,l=1,f=2;for(n[0]={s:-1,f:s.f+c.f,l:s,r:c};l!=o-1;)s=n[n[u].f<n[f].f?u++:f++],c=n[u!=l&&n[u].f<n[f].f?u++:f++],n[l++]={s:-1,f:s.f+c.f,l:s,r:c};var h=i[0].s;for(r=1;r<o;++r)i[r].s>h&&(h=i[r].s);var d=new FI(h+1),p=dx(n[l-1],d,0);if(p>e){r=0;var g=0,v=p-e,m=1<<v;for(i.sort((function(t,e){return d[e.s]-d[t.s]||t.f-e.f}));r<o;++r){var y=i[r].s;if(!(d[y]>e))break;g+=m-(1<<p-d[y]),d[y]=e}for(g>>=v;g>0;){var b=i[r].s;d[b]<e?g-=1<<e-d[b]++-1:++r}for(;r>=0&&g;--r){var w=i[r].s;d[w]==e&&(--d[w],++g)}p=e}return{t:new NI(d),l:p}},dx=function(t,e,n){return-1==t.s?Math.max(dx(t.l,e,n+1),dx(t.r,e,n+1)):e[t.s]=n},px=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new FI(++e),r=0,o=t[0],i=1,a=function(t){n[r++]=t},s=1;s<=e;++s)if(t[s]==o&&s!=e)++i;else{if(!o&&i>2){for(;i>138;i-=138)a(32754);i>2&&(a(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(a(o),--i;i>6;i-=6)a(8304);i>2&&(a(i-3<<5|8208),i=0)}for(;i--;)a(o);i=1,o=t[s]}return{c:n.subarray(0,r),n:e}},gx=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},vx=function(t,e,n){var r=n.length,o=ax(e+2);t[o]=255&r,t[o+1]=r>>8,t[o+2]=255^t[o],t[o+3]=255^t[o+1];for(var i=0;i<r;++i)t[o+i+4]=n[i];return 8*(o+4+r)},mx=function(t,e,n,r,o,i,a,s,c,u,l){lx(e,l++,n),++o[256];for(var f=hx(o,15),h=f.t,d=f.l,p=hx(i,15),g=p.t,v=p.l,m=px(h),y=m.c,b=m.n,w=px(g),I=w.c,x=w.n,S=new FI(19),T=0;T<y.length;++T)++S[31&y[T]];for(T=0;T<I.length;++T)++S[31&I[T]];for(var k=hx(S,7),A=k.t,E=k.l,P=19;P>4&&!A[VI[P-1]];--P);var O,L,C,R,D=u+5<<3,j=gx(o,nx)+gx(i,rx)+a,H=gx(o,h)+gx(i,g)+a+14+3*P+gx(S,A)+2*S[16]+3*S[17]+7*S[18];if(c>=0&&D<=j&&D<=H)return vx(e,l,t.subarray(c,c+u));if(lx(e,l,1+(H<j)),l+=2,H<j){O=ex(h,d,0),L=h,C=ex(g,v,0),R=g;var M=ex(A,E,0);lx(e,l,b-257),lx(e,l+5,x-1),lx(e,l+10,P-4),l+=14;for(T=0;T<P;++T)lx(e,l+3*T,A[VI[T]]);l+=3*P;for(var U=[y,I],q=0;q<2;++q){var z=U[q];for(T=0;T<z.length;++T){var B=31&z[T];lx(e,l,M[B]),l+=A[B],B>15&&(lx(e,l,z[T]>>5&127),l+=z[T]>>12)}}}else O=ox,L=nx,C=ix,R=rx;for(T=0;T<s;++T){var N=r[T];if(N>255){fx(e,l,O[(B=N>>18&31)+257]),l+=L[B+257],B>7&&(lx(e,l,N>>23&31),l+=WI[B]);var F=31&N;fx(e,l,C[F]),l+=R[F],F>3&&(fx(e,l,N>>5&8191),l+=GI[F])}else fx(e,l,O[N]),l+=L[N]}return fx(e,l,O[256]),l+L[256]},yx=new _I([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),bx=new NI(0),wx=function(){var t=1,e=0;return{p:function(n){for(var r=t,o=e,i=0|n.length,a=0;a!=i;){for(var s=Math.min(a+2655,i);a<s;++a)o+=r+=n[a];r=(65535&r)+15*(r>>16),o=(65535&o)+15*(o>>16)}t=r,e=o},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(e%=65521))<<8|e>>8}}},Ix=function(t,e,n,r,o){if(!o&&(o={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),a=new NI(i.length+t.length);a.set(i),a.set(t,i.length),t=a,o.w=i.length}return function(t,e,n,r,o,i){var a=i.z||t.length,s=new NI(r+a+5*(1+Math.ceil(a/7e3))+o),c=s.subarray(r,s.length-o),u=i.l,l=7&(i.r||0);if(e){l&&(c[0]=i.r>>3);for(var f=yx[e-1],h=f>>13,d=8191&f,p=(1<<n)-1,g=i.p||new FI(32768),v=i.h||new FI(p+1),m=Math.ceil(n/3),y=2*m,b=function(e){return(t[e]^t[e+1]<<m^t[e+2]<<y)&p},w=new _I(25e3),I=new FI(288),x=new FI(32),S=0,T=0,k=i.i||0,A=0,E=i.w||0,P=0;k+2<a;++k){var O=b(k),L=32767&k,C=v[O];if(g[L]=C,v[O]=L,E<=k){var R=a-k;if((S>7e3||A>24576)&&(R>423||!u)){l=mx(t,c,0,w,I,x,T,A,P,k-P,l),A=S=T=0,P=k;for(var D=0;D<286;++D)I[D]=0;for(D=0;D<30;++D)x[D]=0}var j=2,H=0,M=d,U=L-C&32767;if(R>2&&O==b(k-U))for(var q=Math.min(h,R)-1,z=Math.min(32767,k),B=Math.min(258,R);U<=z&&--M&&L!=C;){if(t[k+j]==t[k+j-U]){for(var N=0;N<B&&t[k+N]==t[k+N-U];++N);if(N>j){if(j=N,H=U,N>q)break;var F=Math.min(U,N-2),_=0;for(D=0;D<F;++D){var W=k-U+D&32767,G=W-g[W]&32767;G>_&&(_=G,C=W)}}}U+=(L=C)-(C=g[L])&32767}if(H){w[A++]=268435456|JI[j]<<18|XI[H];var V=31&JI[j],$=31&XI[H];T+=WI[V]+GI[$],++I[257+V],++x[$],E=k+j,++S}else w[A++]=t[k],++I[t[k]]}}for(k=Math.max(k,E);k<a;++k)w[A++]=t[k],++I[t[k]];l=mx(t,c,u,w,I,x,T,A,P,k-P,l),u||(i.r=7&l|c[l/8|0]<<3,l-=7,i.h=v,i.p=g,i.i=k,i.w=E)}else{for(k=i.w||0;k<a+u;k+=65535){var Z=k+65535;Z>=a&&(c[l/8|0]=u,Z=a),l=vx(c,l+1,t.subarray(k,Z))}i.i=a}return sx(s,0,r+ax(l)+o)}(t,null==e.level?6:e.level,null==e.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):20:12+e.mem,n,r,o)},xx=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8};function Sx(t,e){e||(e={});var n=wx();n.p(t);var r=Ix(t,e,e.dictionary?6:2,4);return function(t,e){var n=e.level,r=0==n?0:n<6?1:9==n?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var o=wx();o.p(e.dictionary),xx(t,2,o.d())}}(r,e),xx(r,r.length-4,n.d()),r}var Tx="undefined"!=typeof TextEncoder&&new TextEncoder,kx="undefined"!=typeof TextDecoder&&new TextDecoder;try{kx.decode(bx,{stream:!0}),1}catch(t){}function Ax(t,e){if(e){for(var n="",r=0;r<t.length;r+=16384)n+=String.fromCharCode.apply(null,t.subarray(r,r+16384));return n}if(kx)return kx.decode(t);var o=function(t){for(var e="",n=0;;){var r=t[n++],o=(r>127)+(r>223)+(r>239);if(n+o>t.length)return{s:e,r:sx(t,n-1)};o?3==o?(r=((15&r)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536,e+=String.fromCharCode(55296|r>>10,56320|1023&r)):e+=1&o?String.fromCharCode((31&r)<<6|63&t[n++]):String.fromCharCode((15&r)<<12|(63&t[n++])<<6|63&t[n++]):e+=String.fromCharCode(r)}}(t),i=o.s;return(n=o.r).length&&ux(8),i}const Ex=()=>{if(_g()){var t,e;const r=sessionStorage.getItem("page-spy-room");var n;return r?(null===(n=JSON.parse(r))||void 0===n?void 0:n.address)||"--":(null===(t=window.$pageSpy)||void 0===t?void 0:t.address)||(null===(e=window.PageSpy)||void 0===e||null===(e=e.instance)||void 0===e?void 0:e.address)||"--"}return"--"},Px=t=>t.toString().replace(/[^\w]/g,"_"),Ox=t=>Ax(Sx(function(t,e){if(e){for(var n=new NI(t.length),r=0;r<t.length;++r)n[r]=t.charCodeAt(r);return n}if(Tx)return Tx.encode(t);var o=t.length,i=new NI(t.length+(t.length>>1)),a=0,s=function(t){i[a++]=t};for(r=0;r<o;++r){if(a+5>i.length){var c=new NI(a+8+(o-r<<1));c.set(i),i=c}var u=t.charCodeAt(r);u<128||e?s(u):u<2048?(s(192|u>>6),s(128|63&u)):u>55295&&u<57344?(s(240|(u=65536+(1047552&u)|1023&t.charCodeAt(++r))>>18),s(128|u>>12&63),s(128|u>>6&63),s(128|63&u)):(s(224|u>>12),s(128|u>>6&63),s(128|63&u))}return sx(i,0,a)}(JSON.stringify(t)),{level:9}),!0);function Lx(t){return t>=10?t.toString():"0".concat(t)}function Cx(t){const e=Math.floor(t/3600),n=Math.floor((t-3600*e)/60),r=Math.floor(t-3600*e-60*n),o=Lx(e),i=Lx(n),a=Lx(r);return 0===e?"".concat(i,":").concat(a):"".concat(o,":").concat(i,":").concat(a)}const Rx="message",Dx="broadcast",jx="ping",Hx="updateRoomInfo";var Mx,Ux=Object.freeze({__proto__:null,BROADCAST:Dx,CLOSE:"close",CONNECT:"connect",ERROR:"error",JOIN:"join",LEAVE:"leave",MESSAGE:Rx,PING:jx,PONG:"pong",UPDATE_ROOM_INFO:Hx});function qx(t,e){return{role:"client",type:t,data:{...(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])&&{id:Wg()},...e}}}class zx{constructor(t){e(this,"id",""),e(this,"method",""),e(this,"url",""),e(this,"requestType","xhr"),e(this,"requestHeader",null),e(this,"status",0),e(this,"statusText",""),e(this,"readyState",0),e(this,"response",void 0),e(this,"responseReason",null),e(this,"responseType",""),e(this,"responseHeader",null),e(this,"startTime",0),e(this,"endTime",0),e(this,"costTime",0),e(this,"postData",null),e(this,"requestPayload",null),e(this,"withCredentials",!1),e(this,"lastEventId",""),this.id=t}}!function(t){t[t.UNSENT=0]="UNSENT",t[t.OPENED=1]="OPENED",t[t.HEADERS_RECEIVED=2]="HEADERS_RECEIVED",t[t.LOADING=3]="LOADING",t[t.DONE=4]="DONE"}(Mx||(Mx={}));class Bx{constructor(t){e(this,"socketStore",void 0),e(this,"reqMap",Object.create(null)),this.socketStore=t}getRequestMap(){return this.reqMap}getRequest(t){return this.reqMap[t]}removeRequest(t){delete this.reqMap[t]}createRequest(t){return t?this.reqMap[t]?(rv.warn("The request object has been in store, disallow duplicate create"),!1):(this.reqMap[t]=new zx(t),!0):(rv.warn('The "id" is required when init request object'),!1)}setRequest(t,e){return!(!t||!e)&&(this.reqMap[t]=e,!0)}sendRequestItem(t,e){var n;if(!1!==(null===(n=Bx.dataProcessor)||void 0===n?void 0:n.call(Bx,e)))try{this.reqMap[t]||(this.reqMap[t]=e);const n=qx("network",{...e},!1);this.socketStore.dispatchEvent("public-data",n),this.socketStore.broadcastMessage(n,e.readyState!==Mx.DONE),this.deferDeleteRequest(t)}catch(t){rv.error(t.message)}}deferDeleteRequest(t){const e=this.getRequest(t);e&&e.readyState===Mx.DONE&&setTimeout((()=>{delete this.reqMap[t]}),3e3)}}e(Bx,"dataProcessor",void 0);var Nx=T,Fx=Set.prototype,_x={Set:Set,add:Nx(Fx.add),has:Nx(Fx.has),remove:Nx(Fx.delete),proto:Fx},Wx=_x.has,Gx=function(t){return Wx(t),t},Vx=h,$x=function(t,e,n){for(var r,o,i=n||t.next;!(r=Vx(i,t)).done;)if(void 0!==(o=e(r.value)))return o},Zx=T,Yx=$x,Jx=_x.Set,Xx=_x.proto,Qx=Zx(Xx.forEach),Kx=Zx(Xx.keys),tS=Kx(new Jx).next,eS=function(t,e,n){return n?Yx(Kx(t),e,tS):Qx(t,e)},nS=eS,rS=_x.Set,oS=_x.add,iS=function(t){var e=new rS;return nS(t,(function(t){oS(e,t)})),e},aS=ho(_x.proto,"size","get")||function(t){return t.size},sS=It,cS=He,uS=h,lS=ar,fS=TypeError,hS=Math.max,dS=function(t,e,n,r){this.set=t,this.size=e,this.has=n,this.keys=r};dS.prototype={getIterator:function(){return cS(uS(this.keys,this.set))},includes:function(t){return uS(this.has,this.set,t)}};var pS=function(t){cS(t);var e=+t.size;if(e!=e)throw fS("Invalid size");return new dS(t,hS(lS(e),0),sS(t.has),sS(t.keys))},gS=Gx,vS=iS,mS=aS,yS=pS,bS=eS,wS=$x,IS=_x.has,xS=_x.remove,SS=J,TS=function(t){try{return(new(SS("Set")))[t]({size:0,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}),!0}catch(t){return!1}},kS=function(t){var e=gS(this),n=yS(t),r=vS(e);return mS(e)<=n.size?bS(e,(function(t){n.includes(t)&&xS(r,t)})):wS(n.getIterator(),(function(t){IS(e,t)&&xS(r,t)})),r};oo({target:"Set",proto:!0,real:!0,forced:!TS("difference")},{difference:kS});var AS=Gx,ES=aS,PS=pS,OS=eS,LS=$x,CS=_x.Set,RS=_x.add,DS=_x.has,jS=s,HS=function(t){var e=AS(this),n=PS(t),r=new CS;return ES(e)>n.size?LS(n.getIterator(),(function(t){DS(e,t)&&RS(r,t)})):OS(e,(function(t){n.includes(t)&&RS(r,t)})),r};oo({target:"Set",proto:!0,real:!0,forced:!TS("intersection")||jS((function(){return"3,2"!=Array.from(new Set([1,2,3]).intersection(new Set([3,2])))}))},{intersection:HS});var MS=Gx,US=_x.has,qS=aS,zS=pS,BS=eS,NS=$x,FS=ad,_S=function(t){var e=MS(this),n=zS(t);if(qS(e)<=n.size)return!1!==BS(e,(function(t){if(n.includes(t))return!1}),!0);var r=n.getIterator();return!1!==NS(r,(function(t){if(US(e,t))return FS(r,"normal",!1)}))};oo({target:"Set",proto:!0,real:!0,forced:!TS("isDisjointFrom")},{isDisjointFrom:_S});var WS=Gx,GS=aS,VS=eS,$S=pS,ZS=function(t){var e=WS(this),n=$S(t);return!(GS(e)>n.size)&&!1!==VS(e,(function(t){if(!n.includes(t))return!1}),!0)};oo({target:"Set",proto:!0,real:!0,forced:!TS("isSubsetOf")},{isSubsetOf:ZS});var YS=Gx,JS=_x.has,XS=aS,QS=pS,KS=$x,tT=ad,eT=function(t){var e=YS(this),n=QS(t);if(XS(e)<n.size)return!1;var r=n.getIterator();return!1!==KS(r,(function(t){if(!JS(e,t))return tT(r,"normal",!1)}))};oo({target:"Set",proto:!0,real:!0,forced:!TS("isSupersetOf")},{isSupersetOf:eT});var nT=Gx,rT=iS,oT=pS,iT=$x,aT=_x.add,sT=_x.has,cT=_x.remove,uT=function(t){var e=nT(this),n=oT(t).getIterator(),r=rT(e);return iT(n,(function(t){sT(e,t)?cT(r,t):aT(r,t)})),r};oo({target:"Set",proto:!0,real:!0,forced:!TS("symmetricDifference")},{symmetricDifference:uT});var lT=Gx,fT=_x.add,hT=iS,dT=pS,pT=$x,gT=function(t){var e=lT(this),n=dT(t).getIterator(),r=hT(e);return pT(n,(function(t){fT(r,t)})),r};oo({target:"Set",proto:!0,real:!0,forced:!TS("union")},{union:gT});class vT{constructor(){e(this,"store",{}),e(this,"instanceStore",{})}getStore(){return this.store}resetStore(){this.store={}}getInstanceStore(){return this.instanceStore}resetInstanceStore(){this.instanceStore={}}transformToAtom(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{value:n,ok:r}=tv(t),o=Wg();if(r)return{id:o,type:ev(t),value:n};if(e)try{return{id:o,type:"json",value:JSON.stringify(t)}}catch(t){return{id:o,type:"json",value:null}}return this.add(t)}get(t){const e=this.store[t],n=this.instanceStore[t];if(!e)return null;const r={},o=Object.getOwnPropertyDescriptors(e);Object.keys(o).forEach((t=>{const e=o[t];Vg(e,"value")&&(e.value=this.transformToAtom(e.value)),r[t]=vT.getAtomOverview({atomId:Wg(),instanceId:n,value:e})}));const i=this.addExtraProperty(t);return{...r,...i}}getOrigin(t){const e=this.store[t];return e||null}add(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=Wg();let r=n;var o;Jg(o=t)&&Vg(o,"constructor")&&"function"==typeof o.constructor&&(r=e),this.store[n]=t,this.instanceStore[n]=r;const i=vT.getSemanticValue(t);return vT.getAtomOverview({atomId:n,value:i,instanceId:r})}static getAtomOverview(t){let{instanceId:e="",atomId:n,value:r}=t;return{id:Wg(),type:"atom",__atomId:n,instanceId:e,value:r}}static getSemanticValue(t){if(Jg(e=t)&&"[object Object]"===Gg(e))return"Object {...}";var e;if(Yg(t))return"Array (".concat(t.length,")");return t.constructor.name}addExtraProperty(t){const e=this.store[t],n=this.instanceStore[t],r={};if((e instanceof String||e instanceof Number||e instanceof Boolean)&&(r["[[PrimitiveValue]]"]=this.transformToAtom(e.valueOf())),e instanceof Set){const t={};let n=0;for(const r of e)t[n++]=r;t.size=e.size,r["[[Entries]]"]=this.transformToAtom(t)}if(e instanceof Map){const t={};let n=0;for(const[r,o]of e.entries())t[n++]={key:r,value:o};t.size=e.size,r["[[Entries]]"]=this.transformToAtom(t)}var o;return(Yg(e)||(o=e,"function"==typeof NodeList&&"NodeList"===NodeList.name&&o instanceof NodeList||"function"==typeof HTMLCollection&&"HTMLCollection"===HTMLCollection.name&&o instanceof HTMLCollection))&&(r.length=this.transformToAtom(e.length)),null!==Object.getPrototypeOf(e)?r["[[Prototype]]"]=this.add(Object.getPrototypeOf(e),n):r.___proto___=this.transformToAtom(null),r}}const mT=new vT;var yT;!function(t){t[t.CONNECTING=0]="CONNECTING",t[t.OPEN=1]="OPEN",t[t.CLOSING=2]="CLOSING",t[t.CLOSED=3]="CLOSED"}(yT||(yT={}));const bT=2e3,wT=Math.pow(1.5,4)*bT;class IT{getSocket(){return this.socketWrapper}updateRoomInfo(){if(this.getPageSpyConfig){var t;const{project:e,title:n}=this.getPageSpyConfig(),r=null===(t=this.getClient)||void 0===t?void 0:t.call(this).getName();this.send({type:Hx,content:{info:{name:r,group:e,tags:{title:n,name:r,group:e}}}},!0)}}constructor(){e(this,"socketUrl",""),e(this,"socketConnection",null),e(this,"debuggerConnection",null),e(this,"pingTimer",null),e(this,"pongTimer",null),e(this,"retryTimer",null),e(this,"isOffline",!1),e(this,"messageCapacity",0),e(this,"messages",[]),e(this,"events",{debug:[],refresh:[],"atom-detail":[],"atom-getter":[],"debugger-online":[],"database-pagination":[],"public-data":[],"harbor-clear":[]}),e(this,"retryInterval",bT),e(this,"connectable",!0),e(this,"getPageSpyConfig",null),e(this,"getClient",null),this.addListener("atom-detail",IT.handleResolveAtom),this.addListener("atom-getter",IT.handleAtomPropertyGetter),this.addListener("debugger-online",this.handleFlushBuffer)}async init(t){try{var e,n,r,o,i;if(!t)throw Error("WebSocket url cannot be empty");this.socketWrapper.clearListeners(),this.socketWrapper.getState()===yT.OPEN&&await new Promise((t=>{this.socketWrapper.onClose((()=>{this.socketWrapper.clearListeners(),t()})),this.socketWrapper.close()})),null===(e=this.socketWrapper)||void 0===e||e.onOpen((()=>{this.connectOnline()})),null===(n=this.socketWrapper)||void 0===n||n.onMessage((t=>{this.handleMessage(t)})),null===(r=this.socketWrapper)||void 0===r||r.onClose((()=>{this.connectOffline()})),null===(o=this.socketWrapper)||void 0===o||o.onError((()=>{this.connectOffline()})),this.socketUrl=t,null===(i=this.socketWrapper)||void 0===i||i.init(t)}catch(t){rv.error(t.message)}}addListener(t,e){this.events[t]||(this.events[t]=[]),this.events[t].push(e)}removeListener(t,e){const n=this.events[t]||[],r=n.indexOf(e);r>-1&&n.splice(r,1)}broadcastMessage(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=function(t){return{type:Dx,content:{data:t}}}(t);this.send(n,e)}close(){var t;this.connectable=!1,this.clearPing(),null===(t=this.socketWrapper)||void 0===t||t.close(),this.messages=[],Object.entries(this.events).forEach((t=>{let[e,n]=t;["atom-detail","atom-getter","debugger-online"].includes(e)||n.splice(0)}))}connectOnline(){this.retryInterval=bT,this.updateRoomInfo(),this.ping()}connectOffline(){this.socketConnection=null,this.debuggerConnection=null,this.clearPing(),this.retryTimer&&clearTimeout(this.retryTimer),this.connectable&&(this.retryTimer=setTimeout((()=>{this.retryInterval<wT&&(this.retryInterval*=1.5),this.retryTimer=null,this.tryReconnect()}),this.retryInterval))}tryReconnect(){this.init(this.socketUrl)}ping(){this.pingTimer&&clearTimeout(this.pingTimer),this.pongTimer&&clearTimeout(this.pongTimer),this.pingTimer=setTimeout((()=>{this.send({type:"ping",content:null}),this.pingTimer=null,this.pongTimer=setTimeout((()=>{this.connectOffline(),this.pongTimer=null}),5e3)}),5e3)}clearPing(){this.pingTimer&&(clearTimeout(this.pingTimer),this.pingTimer=null),this.pongTimer&&(clearTimeout(this.pongTimer),this.pongTimer=null)}handlePong(){clearTimeout(this.pongTimer),this.pongTimer=null,this.ping()}handleMessage(t){var e;IT.messageFilters.length&&IT.messageFilters.forEach((e=>{t=e(t)}));const{CONNECT:n,MESSAGE:r,ERROR:o,JOIN:i,PING:a,PONG:s,LEAVE:c,CLOSE:u,BROADCAST:l}=Ux,f=JSON.parse(t.data),{type:h}=f;switch(h){case n:const{selfConnection:t,roomConnections:a}=f.content;this.socketConnection=t,this.debuggerConnection=a.find((t=>"Debugger"===t.userId))||null;break;case i:case c:const{connection:s}=f.content;"Debugger"===s.userId&&(h===i?(this.debuggerConnection=s,this.sendClientInfo()):this.debuggerConnection=null);break;case r:const{data:l,from:d,to:p}=f.content;p.address===(null===(e=this.socketConnection)||void 0===e?void 0:e.address)&&this.dispatchEvent(l.type,{source:l,from:d,to:p});break;case u:case o:this.connectOffline()}this.handlePong()}dispatchEvent(t,e){var n;["public-data"].includes(t)?this.events["public-data"].forEach((t=>{t(e)})):null===(n=this.events[t])||void 0===n||n.forEach((t=>{t.call(this,e,(t=>{this.unicastMessage(t,e.from)}))}))}unicastMessage(t,e){const n=function(t,e,n){return{type:Rx,content:{data:t,from:e,to:n}}}(t,this.socketConnection,e);this.send(n)}handleFlushBuffer(t){const{latestId:e}=t.source.data,n=this.messages.findIndex((t=>t.content.data.data.id===e));this.messages.slice(n+1).forEach((e=>{const n={type:Rx,content:{data:e.content.data,from:this.socketConnection,to:t.from}};this.send(n,!0)}))}static handleResolveAtom(t,e){let{source:n}=t;const{type:r,data:o}=n;if("atom-detail"===r){const t=mT.get(o)||{};e(qx("atom-detail-".concat(o),t,!1))}}static handleAtomPropertyGetter(t,e){let{source:n}=t;const{type:r,data:o}=n;if("atom-getter"===r){const{id:t,parentId:n,key:r,instanceId:a}=o,s=mT.getOrigin(a),c=mT.getOrigin(n);let u={};var i;if(s&&c)u=null===(i=Object.getOwnPropertyDescriptor(c,r))||void 0===i||null===(i=i.get)||void 0===i?void 0:i.call(s);else u=new Error("Getter computed failed");e(qx("atom-getter-".concat(t),mT.transformToAtom(u)))}}send(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.checkIfSend(t))try{var n;const e=t;e.createdAt=Date.now(),e.requestId=Wg();const r=function(t){const{ok:e,value:n}=tv(t);return e?n:JSON.stringify(t,((t,e)=>tv(e).value),2)}(e);null===(n=this.socketWrapper)||void 0===n||n.send(r)}catch(t){rv.error("Incompatible: ".concat(t.message)),this.connectOffline()}this.checkIfCache(t,e)&&(0!==this.messageCapacity&&this.messages.length>=this.messageCapacity&&this.messages.shift(),this.messages.push(t))}checkIfSend(t){return this.socketWrapper.getState()===yT.OPEN&&(!![Hx,jx].includes(t.type)||!!this.debuggerConnection)}checkIfCache(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!this.isOffline&&!e&&![Rx,jx].includes(t.type)}sendClientInfo(){var t;const e=null===(t=this.getClient)||void 0===t?void 0:t.call(this).makeClientInfoMsg();this.broadcastMessage({role:"client",type:"client-info",data:e},!0)}}e(IT,"messageFilters",[]);const xT=function(){if(_g()){const{lang:t}=document.documentElement;return t?Xg.some((e=>e===t)):Xg.some((t=>t===navigator.language))}return!1}()?"zh":"en";const ST=new class{constructor(t){e(this,"locales",void 0),e(this,"currentLang",void 0);const{locales:n,defaultLang:r=xT}=t;if(!n||0===Object.keys(n).length)throw new Error("[PageSpy] Locales cannot be empty");if(!n[r])throw new Error('[PageSpy] Language "'.concat(r,'" not found'));this.locales=n,this.currentLang=r}t(t,e){const n=e||this.currentLang,r=this.locales[n];return r?r[t]||t:(rv.warn("Language '".concat(n,"' not found, falling back to default")),t)}setLang(t){this.locales[t]?this.currentLang=t:rv.error("Language '".concat(t,"' is not supported"))}getCurrentLang(){return this.currentLang}getSupportedLangs(){return Object.keys(this.locales)}}({locales:{zh:{title:"ç¦»çº¿æ¥å¿",uploadPeriods:"ä¸ä¼ æ¶é´æ®µ",downloadPeriods:"ä¸è½½æ¶é´æ®µ",readying:"åå¤æ°æ®...",ready:"æ°æ®å·²å°±ç»ª",success:"å¤çæå",fail:"å¤çå¤±è´¥",invalid:"æ æ³ä¸ä¼ ",copied:"å·²å¤å¶è°è¯è¿æ¥",selectPeriod:"éæ©æ¶é´æ®µ",periodDuration:"æ¯æ®µæ¶é¿",remark:"å¤æ³¨",remarkPlaceholder:"ä¸ä¼ åï¼å¯ä»¥çå°å¤æ³¨ä¿¡æ¯",from:"ä»",to:"å°",refreshed:"å·²å·æ°",minutes:"åé",eventCountNotEnough:"æ¶é´æ®µåçæ°æ®éä¸è¶³ä»¥åæ¾",invalidPeriods:"éæ©çå¼å§æ¶é´æ æ",invalidParams:"è°ç¨ onOfflineLog() çåæ°ä¸æ­£ç¡®",copyUrl:"å¤å¶è°è¯é¾æ¥",copyFailed:"å¤å¶å¤±è´¥",paused:"å·²æå",pausedInfoText:"æåæé´æ°æ®ä¸ä¼è¢«è®°å½",noData:"è¯·åéæ©æ¶é´æ®µ"},en:{title:"Offline log",uploadPeriods:"Upload Periods",downloadPeriods:"Download Periods",readying:"Handling...",ready:"Ready",success:"Succeed",fail:"Failed",invalid:"Cannot upload",copied:"Replay url copied",selectPeriod:"Select period",periodDuration:"Each duration",remark:"Remark",remarkPlaceholder:"After uploading, you can view the remark information.",from:"From",to:"To",refreshed:"Refreshed",minutes:"minutes",eventCountNotEnough:"The data within the time period is insufficient for playback",invalidPeriods:"The start of selected period is invalid",invalidParams:"Incorrect params which you call onOfflineLog()",copyUrl:"Copy URL",copyFailed:"Copy failed",paused:"Paused",pausedInfoText:"Data will not be recorded during pause",noData:"Please select period"}}});let TT=0;const kT="PERIOD_DIVIDE_IDENTIFIER",AT=10485760;class ET{constructor(t){var n;e(this,"stock",[]),e(this,"container",[]),e(this,"maximum",AT),e(this,"periodList",{stable:[],active:[]}),$g(n=null==t?void 0:t.maximum)&&n>=0&&(this.maximum=t.maximum),_g()&&window.addEventListener("beforeunload",(()=>{this.stock.forEach((t=>{URL.revokeObjectURL(t)}))}))}add(t){const e=0===this.periodList.active.length&&0===this.stock.length&&0===this.container.length,n=t===kT;try{if((e||n)&&(this.periodList.active.push({time:new Date,stockIndex:null,dataIndex:this.container.length}),n))return!0;if(0===this.maximum)return this.container.push(t),!0;const{size:r}=new Blob([JSON.stringify(t)],{type:"application/json"}),o=TT+r;if(o>=this.maximum){const e=URL.createObjectURL(new Blob([JSON.stringify(this.container)],{type:"application/json"}));this.stock.push(e),this.flushActivePeriod(),this.container=[t],TT=0}else this.container.push(t),TT=o;return!0}catch(t){return!1}}flushActivePeriod(){const t=this.periodList.active.map((t=>({...t,stockIndex:this.stock.length-1})));this.periodList.stable.push(...t),this.periodList.active=[]}getPeriodList(){const t={time:new Date,stockIndex:null,dataIndex:this.container.length};return[...this.periodList.stable,...this.periodList.active,t]}async getPeriodData(t){const{head:e,tail:n}=this.getHeadAndTailPeriods(t),{endTime:r}=t,{stockIndex:o=null,dataIndex:i}=e||{},{stockIndex:a=null,dataIndex:s}=n||{};let c=[];if(null===o&&null===a)c=this.container.slice(i,s);else{if(null===o)throw new Error(ST.t("invalidPeriods"));c=(await Promise.all(this.stock.map((async(t,e)=>{try{if(e<o||$g(a)&&e>a)return null;const n=await fetch(t);if(!n.ok)return null;const r=await n.json();return e===o?e===a?r.slice(i,s):r.slice(i):e===a?r.slice(0,s):r}catch(t){return null}})))).reduce(((t,e)=>e?t.concat(e):t),[]),$g(a)||(c=c.concat(this.container.slice(0,s)))}return c.filter((t=>t.timestamp<=r))}getHeadAndTailPeriods(t){let{startTime:e,endTime:n}=t;const r=this.getPeriodList(),o=r.findLast((t=>t.time.getTime()<=e)),i=r.find((t=>t.time.getTime()>=n));return{head:o,tail:i}}async getAll(){const t=await Promise.all(this.stock.map((async t=>{try{const e=await fetch(t);return e.ok?await e.json():null}catch(t){return null}})));return t.filter(Boolean).reduce(((t,e)=>t.concat(e)),[]).concat(this.container)}clear(){this.stock.forEach((t=>URL.revokeObjectURL(t))),this.stock=[],this.container=[],this.periodList={stable:[],active:[]}}}var PT=function(){var t=document.getSelection();if(!t.rangeCount)return function(){};for(var e=document.activeElement,n=[],r=0;r<t.rangeCount;r++)n.push(t.getRangeAt(r));switch(e.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":e.blur();break;default:e=null}return t.removeAllRanges(),function(){"Caret"===t.type&&t.removeAllRanges(),t.rangeCount||n.forEach((function(e){t.addRange(e)})),e&&e.focus()}},OT={"text/plain":"Text","text/html":"Url",default:"Text"};var LT=function(t,e){var n,r,o,i,a,s,c=!1;e||(e={}),n=e.debug||!1;try{if(o=PT(),i=document.createRange(),a=document.getSelection(),(s=document.createElement("span")).textContent=t,s.ariaHidden="true",s.style.all="unset",s.style.position="fixed",s.style.top=0,s.style.clip="rect(0, 0, 0, 0)",s.style.whiteSpace="pre",s.style.webkitUserSelect="text",s.style.MozUserSelect="text",s.style.msUserSelect="text",s.style.userSelect="text",s.addEventListener("copy",(function(r){if(r.stopPropagation(),e.format)if(r.preventDefault(),void 0===r.clipboardData){n&&console.warn("unable to use e.clipboardData"),n&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var o=OT[e.format]||OT.default;window.clipboardData.setData(o,t)}else r.clipboardData.clearData(),r.clipboardData.setData(e.format,t);e.onCopy&&(r.preventDefault(),e.onCopy(r.clipboardData))})),document.body.appendChild(s),i.selectNodeContents(s),a.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");c=!0}catch(o){n&&console.error("unable to copy using execCommand: ",o),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(e.format||"text",t),e.onCopy&&e.onCopy(window.clipboardData),c=!0}catch(o){n&&console.error("unable to copy using clipboardData: ",o),n&&console.error("falling back to prompt"),r=function(t){var e=(/mac os x/i.test(navigator.userAgent)?"â":"Ctrl")+"+C";return t.replace(/#{\s*key\s*}/g,e)}("message"in e?e.message:"Copy to clipboard: #{key}, Enter"),window.prompt(r,t)}}finally{a&&("function"==typeof a.removeRange?a.removeRange(i):a.removeAllRanges()),s&&document.body.removeChild(s),o()}return c},CT=r(LT),RT="content-LZZnQ",DT="timeInfo-Icd9h",jT="recorder-BbZe0",HT="paused-ByjEq",MT="duration-xNczp",UT="colon-layOC",qT="pauseIcon-3NXkY",zT="infoIcon-EKSZE",BT="pausedInfo-4u2DI",NT="pausedInfoText-FHdmg",FT="periodInfo-HnHms",_T="label-attmz",WT="periodTips-F91zM",GT="refreshIcon-9zYat",VT="selectPeriod-h8D6d",$T="track-g8egA",ZT="range-cWHDf",YT="remarkInfo-0rspp",JT="result-CAAkx";!function(){const t=document.createElement("style");t.setAttribute("data-harbor-style","true"),t.textContent=".content-LZZnQ {\n  padding-top: var(--block-padding);\n}\n.timeInfo-Icd9h {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.timeInfo-Icd9h .recorder-BbZe0 {\n  padding: var(--input-padding-lg);\n  font-size: var(--text-base);\n  border-radius: 999px;\n  transition: background-color 0.15s ease, transform 0.15s ease;\n  cursor: pointer;\n  -webkit-user-select: none;\n          user-select: none;\n  background-color: hsl(0, 0%, 94%);\n}\n.timeInfo-Icd9h .recorder-BbZe0:hover {\n  background-color: hsl(0, 0%, 90%);\n}\n.timeInfo-Icd9h .recorder-BbZe0:active {\n  transform: scale(0.95);\n}\n.timeInfo-Icd9h .recorder-BbZe0.paused-ByjEq > div:nth-child(1) {\n  display: none;\n}\n.timeInfo-Icd9h .recorder-BbZe0.paused-ByjEq > div:nth-child(2) {\n  display: flex;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div {\n  gap: var(--input-padding-lg);\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) {\n  display: flex;\n  align-items: center;\n  position: relative;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1)::before {\n  content: '';\n  width: 1.07142857em;\n  height: 1.07142857em;\n  border-radius: 1.07142857em;\n  background-color: #ff0f0f;\n  animation: fade-uxQdC 0.8s ease-in-out infinite alternate;\n}\n@keyframes fade-uxQdC {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0.05;\n  }\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) .duration-xNczp {\n  display: flex;\n  align-items: center;\n  font-size: var(--text-3xl);\n  font-weight: 700;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) .duration-xNczp span {\n  display: inline-flex;\n  justify-content: center;\n  align-items: center;\n  width: 0.64em;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(1) .duration-xNczp span.colon-layOC {\n  width: 0.36em;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) {\n  display: none;\n  align-items: center;\n  color: var(--text-primary);\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) b {\n  color: var(--text-primary);\n  font-size: var(--text-3xl);\n  font-weight: 700;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) svg {\n  width: 1em;\n  height: 1em;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pauseIcon-3NXkY {\n  font-size: var(--text-3xl);\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .infoIcon-EKSZE {\n  font-size: var(--text-lg);\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI {\n  position: relative;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI:hover .pausedInfoText-FHdmg,\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI:active .pausedInfoText-FHdmg {\n  display: block;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI .pausedInfoText-FHdmg {\n  display: none;\n  position: absolute;\n  left: 0;\n  top: 0;\n  transform: translate(-65%, -170%);\n  white-space: nowrap;\n  font-size: var(--text-base);\n  color: var(--text-primary);\n  background-color: #fff;\n  padding: var(--input-padding-lg);\n  border-radius: 0.29em;\n  box-shadow: var(--dark-shadow);\n  z-index: 1;\n}\n.timeInfo-Icd9h .recorder-BbZe0 > div:nth-child(2) .pausedInfo-4u2DI .pausedInfoText-FHdmg::before {\n  content: '';\n  position: absolute;\n  left: 65%;\n  bottom: 0;\n  transform: translate(0, 30%) rotate(45deg);\n  width: 0.86em;\n  height: 0.86em;\n  background-color: #fff;\n  border-radius: 2px;\n  z-index: -1;\n}\n.periodInfo-HnHms {\n  margin-top: 1.43em;\n}\n.periodInfo-HnHms .label-attmz {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 2.29em;\n}\n.periodInfo-HnHms .label-attmz .periodTips-F91zM {\n  display: flex;\n  align-items: center;\n  gap: var(--gap);\n}\n.periodInfo-HnHms .label-attmz .periodTips-F91zM b {\n  font-size: 1em;\n  color: var(--text-primary);\n}\n.periodInfo-HnHms .label-attmz .periodTips-F91zM span {\n  color: var(--text-secondary);\n  font-size: var(--text-sm);\n}\n.periodInfo-HnHms .label-attmz .refreshIcon-9zYat {\n  cursor: pointer;\n}\n.periodInfo-HnHms .label-attmz .refreshIcon-9zYat svg {\n  width: 1.71em;\n  height: 1.71em;\n  color: var(--primary-color);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d {\n  position: relative;\n  width: 92%;\n  margin: 0 auto;\n  --thumb-size: 1.71em;\n  --thumb-shadow: 0 0 0 5px var(--primary-color) inset, 0 0 0 99px white inset;\n  --thumb-shadow-hover: 0 0 0 7px var(--primary-color) inset,\n      0 0 0 99px white inset;\n  --thumb-shadow-disabled: 0 0 0 5px var(--disabled-color) inset,\n      0 0 0 99px white inset;\n  --track-size: calc(var(--thumb-size) / 2);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG .track-g8egA .range-cWHDf {\n  background-color: var(--disabled-color);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled {\n  --thumb-shadow: var(--thumb-shadow-disabled);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-webkit-slider-thumb {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-moz-range-thumb {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d.disabled-wsWXG input:disabled::-ms-thumb {\n  cursor: not-allowed;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA {\n  width: 100%;\n  height: var(--track-size);\n  background-color: var(--divider-color);\n  border-radius: var(--track-size);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf {\n  --left: 0;\n  --right: 0;\n  --min-text: 'From';\n  --max-text: 'To';\n  position: absolute;\n  left: var(--left);\n  right: var(--right);\n  height: 100%;\n  background-color: var(--primary-color);\n  border-radius: var(--track-size);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf[data-min-text-position='bottom']::before {\n  top: calc(var(--thumb-size));\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf[data-max-text-position='bottom']::after {\n  top: calc(var(--thumb-size));\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::before,\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::after {\n  position: absolute;\n  top: calc(var(--thumb-size) * -1);\n  transition: top 0.15s ease-in-out;\n  font-size: var(--text-base);\n  font-weight: 500;\n  color: var(--text-placeholder);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::before {\n  content: var(--min-text);\n  left: 0;\n  transform: translateX(-50%) scale(0.8);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d .track-g8egA .range-cWHDf::after {\n  content: var(--max-text);\n  right: 0;\n  transform: translateX(50%) scale(0.8);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input {\n  -webkit-appearance: none;\n          appearance: none;\n  pointer-events: none;\n  position: absolute;\n  left: calc(var(--track-size) * -1);\n  top: 0;\n  width: calc(100% + var(--thumb-size));\n  height: var(--track-size);\n  background-color: transparent;\n  z-index: 2;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input:hover {\n  --thumb-shadow: var(--thumb-shadow-hover);\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input::-webkit-slider-thumb {\n  -webkit-appearance: none;\n          appearance: none;\n  pointer-events: auto;\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  border-radius: var(--thumb-size);\n  background-color: white;\n  box-shadow: var(--thumb-shadow);\n  cursor: grab;\n  -webkit-transition: 0.15s;\n  transition: 0.15s;\n  border: 0.14em solid white;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input::-moz-range-thumb {\n  appearance: none;\n  pointer-events: auto;\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  border-radius: var(--thumb-size);\n  background-color: white;\n  box-shadow: var(--thumb-shadow);\n  cursor: grab;\n  -moz-transition: 0.15s;\n  transition: 0.15s;\n  border: 0.14em solid white;\n}\n.periodInfo-HnHms .selectPeriod-h8D6d input::-ms-thumb {\n  appearance: none;\n  pointer-events: auto;\n  width: var(--thumb-size);\n  height: var(--thumb-size);\n  border-radius: var(--thumb-size);\n  background-color: white;\n  box-shadow: var(--thumb-shadow);\n  cursor: grab;\n  -ms-transition: 0.15s;\n  transition: 0.15s;\n  border: 0.14em solid white;\n}\n.remarkInfo-0rspp {\n  margin-top: 1.43em;\n}\n.remarkInfo-0rspp .label-attmz {\n  margin-bottom: 0.86em;\n  font-size: 1em;\n  font-weight: 700;\n  color: var(--text-primary);\n}\n.remarkInfo-0rspp textarea {\n  width: 100%;\n  padding: var(--input-padding);\n  background-color: hsl(0, 0%, 95%);\n  border-radius: 0.29em;\n  box-sizing: border-box;\n  border: var(--border);\n  outline: none;\n  color: var(--text-primary);\n  font-size: var(--text-base);\n  line-height: 1.5;\n  font-family: var(--font-family);\n}\n.remarkInfo-0rspp textarea:focus,\n.remarkInfo-0rspp textarea:active {\n  border-color: var(--primary-color);\n}\n.result-CAAkx {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  gap: var(--gap-lg);\n  padding-top: var(--gap-lg);\n  padding-bottom: var(--gap-lg);\n}\n.result-CAAkx svg {\n  width: 2.86em;\n  height: 2.86em;\n  color: var(--primary-color);\n}\n.result-CAAkx b {\n  font-size: var(--text-lg);\n}\n",window.dataHarborStyles&&Array.isArray(window.dataHarborStyles)||(window.dataHarborStyles=[]),window.dataHarborStyles.push(t)}();function XT(t){return t<10?.2:t<30?.16:.135}const QT=t=>{let{plugin:e,modal:n,toast:r}=t;const o=(new DOMParser).parseFromString('\n    \x3c!-- Add button for default modal --\x3e\n    <button class="page-spy-btn" data-dashed id="open-log-action">\n      '.concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 21v-3m0 0H9.197c-1.118 0-1.678 0-2.105-.218a2 2 0 0 1-.874-.874C6 16.48 6 15.92 6 14.8V6m12 12h3M6 6H3m3 0V3m4 3h4.8c1.12 0 1.68 0 2.108.218a2 2 0 0 1 .874.874c.218.427.218.987.218 2.105V14"/>\n  </svg>',"\n      <span>").concat(ST.t("title"),'</span>\n    </button>\n\n    \x3c!-- Show modal content on button#open-log-action clicked --\x3e\n    <div class="').concat(RT,'">\n      <div class="').concat(DT,'">\n        <div class="').concat(jT,'">\n          <div>\n            <span class="').concat(MT,'">--</span>\n          </div>\n          <div>\n            <span class="').concat(qT,'">').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor"\n      d="M9 16h2V8H9zm4 0h2V8h-2zm-1 6q-2.075 0-3.9-.788t-3.175-2.137T2.788 15.9T2 12t.788-3.9t2.137-3.175T8.1 2.788T12 2t3.9.788t3.175 2.137T21.213 8.1T22 12t-.788 3.9t-2.137 3.175t-3.175 2.138T12 22m0-2q3.35 0 5.675-2.325T20 12t-2.325-5.675T12 4T6.325 6.325T4 12t2.325 5.675T12 20m0-8" />\n  </svg>  \n',"</span>\n            <b>").concat(ST.t("paused"),'</b>\n            <div class="').concat(BT,'">\n              <span class="').concat(zT,'">').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor"\n      d="M12.3 7.29c.2-.18.44-.29.7-.29c.27 0 .5.11.71.29c.19.21.29.45.29.71c0 .27-.1.5-.29.71c-.21.19-.44.29-.71.29c-.26 0-.5-.1-.7-.29c-.19-.21-.3-.44-.3-.71c0-.26.11-.5.3-.71m-2.5 4.68s2.17-1.72 2.96-1.79c.74-.06.59.79.52 1.23l-.01.06c-.14.53-.31 1.17-.48 1.78c-.38 1.39-.75 2.75-.66 3c.1.34.72-.09 1.17-.39c.06-.04.11-.08.16-.11c0 0 .08-.08.16.03c.02.03.04.06.06.08c.09.14.14.19.02.27l-.04.02c-.22.15-1.16.81-1.54 1.05c-.41.27-1.98 1.17-1.74-.58c.21-1.23.49-2.29.71-3.12c.41-1.5.59-2.18-.33-1.59c-.37.22-.59.36-.72.45c-.11.08-.12.08-.19-.05l-.03-.06l-.05-.08c-.07-.1-.07-.11.03-.2M22 12c0 5.5-4.5 10-10 10S2 17.5 2 12S6.5 2 12 2s10 4.5 10 10m-2 0c0-4.42-3.58-8-8-8s-8 3.58-8 8s3.58 8 8 8s8-3.58 8-8" />\n  </svg>\n','</span>\n              <div class="').concat(NT,'">\n                <span>').concat(ST.t("pausedInfoText"),'</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(FT,'">\n        <div class="').concat(_T,'">\n          <div class="').concat(WT,'">\n            <b>').concat(ST.t("selectPeriod"),'</b>\n          </div>\n          <div class="').concat(GT,'">').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M3.5 12q0-3.616 2.664-6.058T12.5 3.5v-.692q0-.242.217-.354t.43.03l2.163 1.62q.323.242.323.646t-.323.646l-2.164 1.62q-.212.142-.429.03t-.217-.354V6Q9.86 6 7.93 7.718T6 12q0 .883.247 1.713t.73 1.556q.217.323.167.69t-.348.583l-.407.298q-.373.293-.818.227t-.711-.444q-.668-1.017-1.014-2.2Q3.5 13.241 3.5 12m8 8.5v.692q0 .243-.217.354q-.217.112-.43-.03l-2.162-1.62q-.324-.242-.324-.646t.323-.646l2.164-1.62q.212-.142.429-.03t.217.354V18q2.64 0 4.57-1.718T18 12q0-.883-.247-1.722q-.247-.84-.73-1.566q-.217-.323-.167-.69t.348-.583l.407-.298q.373-.293.818-.225t.712.442q.661 1.036 1.01 2.21T20.5 12q0 3.616-2.664 6.058T11.5 20.5"/>\n  </svg>\n','</div>\n        </div>\n        <div class="').concat(VT,'">\n          <div class="').concat($T,'">\n            <div class="').concat(ZT,'"></div>\n          </div>\n          <input type="range" id="period-min" min="0" step="1" />\n          <input type="range" id="period-max" min="0" step="1" />\n        </div>\n      </div>\n      <div class="').concat(YT,'">\n        <div class="').concat(_T,'">').concat(ST.t("remark"),'</div>\n        <textarea rows="4" id="harbor-remark" placeholder="').concat(ST.t("remarkPlaceholder"),'"></textarea>\n      </div>\n    </div>\n\n    \x3c!-- Upload / Download log button --\x3e\n    <button class="page-spy-btn" data-primary id="upload-periods">\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M9.8 21.75q-3.425-.775-5.613-3.5T2 12t2.188-6.25T9.8 2.25q.475-.125.838.175t.362.8q0 .35-.2.625t-.55.35Q7.5 4.825 5.75 7T4 12t1.75 5t4.5 2.8q.35.075.55.35t.2.625q0 .5-.362.8t-.838.175m4.4 0q-.475.125-.837-.175t-.363-.8q0-.35.2-.625t.55-.35q.675-.15 1.313-.413t1.212-.637q.275-.2.613-.15t.587.3q.35.35.3.813t-.45.737q-.725.45-1.513.775t-1.612.525m4.7-4.25q-.25-.25-.3-.587t.15-.613q.375-.575.638-1.225t.412-1.325q.075-.35.35-.537t.625-.188q.5 0 .8.363t.175.837q-.2.825-.525 1.613t-.775 1.512q-.275.4-.737.45t-.813-.3m1.875-6.5q-.35 0-.625-.2t-.35-.55q-.15-.675-.413-1.312t-.637-1.213q-.2-.3-.15-.637t.3-.588q.35-.35.813-.3t.737.475q.45.725.775 1.513T21.75 9.8q.125.475-.175.838t-.8.362m-4.5-5.75q-.575-.375-1.212-.638T13.75 4.2q-.35-.075-.55-.35t-.2-.625q0-.5.363-.8t.837-.175q.825.2 1.613.525t1.512.775q.425.275.475.738t-.3.812q-.25.25-.587.3t-.638-.15M11.975 17q-.425 0-.712-.288T10.975 16v-5.125l-1.875 1.9q-.3.3-.712.3t-.713-.3t-.312-.712t.287-.713l3.625-3.65q.275-.275.7-.275t.7.275l3.575 3.575q.3.3.313.725t-.288.725t-.725.3t-.725-.3l-1.85-1.85V16q0 .425-.287.713t-.713.287"/>\n  </svg>\n',"\n      <span>").concat(ST.t("uploadPeriods"),'</span>\n    </button>\n    <button class="page-spy-btn" id="download-periods">\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" d="M10.975 21.95q-1.9-.2-3.537-1.062t-2.838-2.2t-1.887-3.063t-.688-3.65q0-3.875 2.563-6.712T11 2v2q-3.025.425-5 2.688t-1.975 5.287T6 17.263t4.975 2.687zm1-4.95L6.95 11.95l1.425-1.425l2.6 2.6V7h2v6.125l2.575-2.575L16.975 12zm1 4.95v-2q1.075-.15 2.063-.575t1.837-1.075l1.45 1.45q-1.175.925-2.525 1.488t-2.825.712m3.95-16.3Q16.05 5 15.063 4.575T13 4V2q1.475.15 2.825.713t2.5 1.487zm2.8 12.65l-1.4-1.425q.65-.85 1.05-1.837t.55-2.063h2.05q-.2 1.475-.75 2.838t-1.5 2.487m.2-7.325q-.15-1.075-.55-2.062t-1.05-1.838l1.4-1.425q.95 1.125 1.525 2.488t.725 2.837z"/>\n  </svg>\n',"\n      <span>").concat(ST.t("downloadPeriods"),'</span>\n    </button>\n\n    \x3c!-- Result --\x3e\n    <div class="').concat(JT,'">\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <path fill="currentColor" fill-rule="evenodd"\n      d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10s-4.477 10-10 10m-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 0 0 1.414 0l5.952-5.95l-1.062-1.062z" />\n  </svg>\n',"\n      <b>").concat(ST.t("success"),'</b>\n    </div>\n\n    <button class="page-spy-btn" data-primary id="copy-replay-url" data-url>\n      ').concat('\n  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">\n    <g fill="none" stroke="white" stroke-linecap="round" stroke-linejoin="round" stroke-width="2">\n      <path\n        d="M7 9.667A2.667 2.667 0 0 1 9.667 7h8.666A2.667 2.667 0 0 1 21 9.667v8.666A2.667 2.667 0 0 1 18.333 21H9.667A2.667 2.667 0 0 1 7 18.333z" />\n      <path d="M4.012 16.737A2 2 0 0 1 3 15V5c0-1.1.9-2 2-2h10c.75 0 1.158.385 1.5 1" />\n    </g>\n  </svg>\n',"\n      <span>").concat(ST.t("copyUrl"),"</span>\n    </button>\n    "),"text/html"),i=t=>o.querySelector.call(o,t),a=t=>i(".".concat(t)),s=i("#open-log-action"),c=a(RT),u=a(GT),l=a(ZT),f=i("#period-min"),h=i("#period-max"),d=i("#harbor-remark"),p=i("#upload-periods"),g=i("#download-periods"),v=a(JT),m=i("#copy-replay-url"),y=a(jT),b=a(MT),w=a(BT),I={max:0,periods:[],firstTime:0,lastTime:0},x=()=>{const{max:t}=I,e=+f.value,n=+h.value,r=e/t,o=1-n/t;l.style.setProperty("--left","".concat((100*r).toFixed(3),"%")),l.style.setProperty("--right","".concat((100*o).toFixed(3),"%")),l.style.setProperty("--min-text",'"'.concat(Cx(e),'"')),l.style.setProperty("--max-text",'"'.concat(Cx(n),'"'))},S=()=>{const t=e.harbor.getPeriodList(),n=t[0].time.getTime(),r=t[t.length-1].time.getTime(),o=Math.floor((r-n)/1e3),i=o.toString();f.max=i,f.value="0",h.max=i,h.value=i,I.max=o,I.periods=t,I.firstTime=n,I.lastTime=r,x()},T=()=>{const{firstTime:t}=I;return{startTime:t+1e3*+f.value,endTime:t+1e3*+h.value,remark:d.value}};u.addEventListener("click",(()=>{S(),r.message(ST.t("refreshed"))})),f.addEventListener("input",(function(){const t=+h.value,e=+this.value;if(e>t-1)return void(f.value=String(t-1));(t-e)/I.max<=XT(I.max)?l.dataset.maxTextPosition="bottom":l.dataset.maxTextPosition="top",l.dataset.minTextPosition="top",x()})),h.addEventListener("input",(function(){const t=+f.value,e=+this.value;if(e<t+1)return void(h.value=String(t+1));(e-t)/I.max<=XT(I.max)?l.dataset.minTextPosition="bottom":l.dataset.minTextPosition="top",l.dataset.maxTextPosition="top",x()})),m.addEventListener("click",(()=>{const{url:t}=m.dataset,e=CT(t);r.message(e?ST.t("copied"):ST.t("copyFailed")),n.close()})),p.addEventListener("click",(async()=>{try{p.disabled=!0;const t=await e.onOfflineLog("upload-periods",T());m.dataset.url=t,n.show({content:v,footer:[m]})}catch(t){rv.error(t),r.message(t.message)}finally{p.disabled=!1}})),g.addEventListener("click",(async()=>{try{g.disabled=!0,await e.onOfflineLog("download-periods",T()),r.message(ST.t("success"))}catch(t){rv.error(t),r.message(t.message)}finally{g.disabled=!1}}));let k=null;const A=()=>{const{isPaused:t,startTimestamp:n}=e;if(t)y.classList.add(HT);else if(y.classList.remove(HT),n&&b){const t=parseInt(String((Date.now()-n)/1e3),10);b.innerHTML=Cx(t).split("").map((t=>'<span class="'.concat(":"===t?UT:"duration-item",'">').concat(t,"</span>"))).join("")}};y.addEventListener("click",(()=>{e.isPaused?e.resume():e.pause(),A()})),w.addEventListener("click",(t=>{t.stopPropagation(),t.preventDefault()})),null==s||s.addEventListener("click",(()=>{var t;null!==(t=e.$pageSpyConfig)&&void 0!==t&&t.api?p.disabled=!1:p.disabled=!0,k&&clearInterval(k),A(),k=setInterval(A,1e3),S(),n.show({content:c,footer:[p,g]})})),n.build({footer:[...n.config.footer,s]})},KT={maximum:AT,caredData:{console:!0,network:!0,storage:!0,system:!0,"rrweb-event":!0},filename:()=>(new Date).toLocaleString(),onDownload:null,onAfterUpload:null};class tk{constructor(t){e(this,"enforce","pre"),e(this,"name","DataHarborPlugin"),e(this,"apiBase",""),e(this,"isPaused",!1),e(this,"startTimestamp",0),e(this,"periodTimer",null),e(this,"$socketStore",null),e(this,"$pageSpyConfig",null),this.$harborConfig={...KT,...t},this.harbor=new ET({maximum:this.$harborConfig.maximum})}async onInit(t){let{socketStore:e,config:n}=t;if(tk.hasInited)return;tk.hasInited=!0,this.$pageSpyConfig=n,this.$socketStore=e;const{api:r,enableSSL:o,offline:i,lang:a}=n;if(a&&ST.setLang(a),i||r){const t=o?"https://":"http://";this.apiBase=ov("".concat(t).concat(r))}else rv.warn("Cannot upload log to PageSpy for miss 'api' configuration. See: ",n);this.initPeriodTimer(),this.$socketStore.addListener("public-data",(t=>{if(this.isPaused||!this.isCaredPublicData(t))return;const e=((t,e)=>(sessionStorage.getItem("harbor-debug")&&rv.unproxy.debug("harbor-debug",e),{type:t,timestamp:Date.now(),data:Ox(e)}))(t.type,t.data);this.startTimestamp||(this.startTimestamp=e.timestamp);this.harbor.add(e)||rv.warn("[".concat(this.name,"] Fail to save data in harbor "),e)}))}initPeriodTimer(){this.periodTimer&&clearInterval(this.periodTimer),this.periodTimer=setInterval((()=>{var t;this.harbor.add(kT),null===(t=this.$socketStore)||void 0===t||t.dispatchEvent("harbor-clear",null)}),3e5)}onMounted(t){var e;let{modal:n,toast:r,root:o}=t;tk.hasMounted||(tk.hasMounted=!0,null===(e=window.dataHarborStyles)||void 0===e||e.forEach((t=>{o.appendChild(t.cloneNode(!0))})),n&&r&&QT({plugin:this,modal:n,toast:r}))}async getParams(t,e){var n;let r;if(["download-periods","upload-periods"].includes(t)){if(!(t=>!!t&&["startTime","endTime"].every((e=>Object.prototype.hasOwnProperty.call(t,e))))(e)||e.startTime>e.endTime)throw new Error(ST.t("invalidParams"));if(r=await this.harbor.getPeriodData(e),!r.length)throw new Error(ST.t("noData"));const t=e.startTime,n=r[0].timestamp,o=t<n?n:t,i=r.filter((t=>t.timestamp>=o&&t.timestamp<=e.endTime)).length;if(i<5)throw new Error(ST.t("eventCountNotEnough"));r.push({type:"meta",timestamp:e.endTime,data:Ox({ua:navigator.userAgent,title:document.title,url:window.location.href,...e,startTime:o})})}else{var o;if(r=await this.harbor.getAll(),!r.length)throw new Error(ST.t("noData"));const t=r[0].timestamp,n=r[r.length-1].timestamp;r.push({type:"meta",timestamp:n,data:Ox({ua:navigator.userAgent,title:document.title,url:window.location.href,startTime:t,endTime:n,remark:null!==(o=null==e?void 0:e.remark)&&void 0!==o?o:""})})}const{onDownload:i,filename:a}=this.$harborConfig;if("download"===t||"download-periods"===t)return{data:r,filename:a,customDownload:i};const{project:s="",title:c=""}=this.$pageSpyConfig||{},u={project:s,title:c,deviceId:Ex(),userAgent:navigator.userAgent,remark:null!==(n=null==e?void 0:e.remark)&&void 0!==n?n:""};if("upload"===t||"upload-periods"===t){const t=((t,e)=>{const n=new Blob([JSON.stringify(t)],{type:"application/json"});return new File([n],"".concat(Px(e),".json"),{type:"application/json"})})(r,a()),e=new FormData;return e.append("log",t),{url:"".concat(this.apiBase,"/api/v1/log/upload?").concat(new URLSearchParams(u).toString()),body:e}}}async onOfflineLog(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{clearCache:!0,remark:""};const n=await this.getParams(t,e),r=["upload","upload-periods"].includes(t)?await(async t=>{let{url:e,body:n}=t;try{const t=await fetch(e,{method:"POST",body:n});if(!t.ok)return rv.warn("Upload failed"),null;const r=await t.json();return r.success?r:(rv.warn(r.message),null)}catch(t){return rv.error(t.message),null}})(n):await(async t=>{let{data:e,filename:n,customDownload:r}=t;if(r)return void await r(e);const o=new Blob([JSON.stringify(e)],{type:"application/json"}),i=document.getElementsByTagName("body")[0]||document.documentElement;if(!i)throw new Error("Download file failed because cannot find the document.body & document.documentElement");const a=URL.createObjectURL(o),s=document.createElement("a");s.download="".concat(Px(n()),".json"),s.href=a,s.style.display="none",i.insertAdjacentElement("beforeend",s),s.click(),i.removeChild(s),URL.revokeObjectURL(a),rv.info("".concat(ST.t("success")))})(n);if(!0===e.clearCache&&this.clearAndNotify(),r){var o,i;const t=this.getDebugUrl(r);return null===(o=(i=this.$harborConfig).onAfterUpload)||void 0===o||o.call(i,t,n.remark),t}}async upload(t){return await this.onOfflineLog("upload",t)}async uploadPeriods(t){return await this.onOfflineLog("upload-periods",t)}async download(t){await this.onOfflineLog("download",t)}async downloadPeriods(t){await this.onOfflineLog("download-periods",t)}onReset(){this.periodTimer&&(clearInterval(this.periodTimer),this.periodTimer=null),this.clearAndNotify(!1),tk.hasInited=!1,tk.hasMounted=!1}pause(){this.isPaused=!0}resume(){this.isPaused=!1}reharbor(){this.initPeriodTimer(),this.clearAndNotify(),this.isPaused&&(this.isPaused=!1)}clearAndNotify(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var e;(this.harbor.clear(),this.startTimestamp=0,t)&&(null===(e=this.$socketStore)||void 0===e||e.dispatchEvent("harbor-clear",null))}isCaredPublicData(t){if(!t)return!1;const{type:e}=t,{caredData:n}=this.$harborConfig;switch(e){case"console":case"storage":case"system":case"rrweb-event":return n[e];case"network":const{url:r}=t.data,o=this.harbor.stock.includes(r);return!(!n.network||o);default:return!1}}getDebugUrl(t){var e;if(!t||!t.success)return"";const n="".concat(ov(null===(e=this.$pageSpyConfig)||void 0===e?void 0:e.clientOrigin),"/#/replay"),r="".concat(this.apiBase,"/api/v1/log/download?fileId=").concat(t.data.fileId);return"".concat(n,"?url=").concat(r)}}return e(tk,"hasInited",!1),e(tk,"hasMounted",!1),tk}();
//# sourceMappingURL=index.min.js.map
